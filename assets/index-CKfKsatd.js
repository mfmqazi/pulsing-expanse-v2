(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Dd={exports:{}},fl={};var k_;function bS(){if(k_)return fl;k_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return fl.Fragment=t,fl.jsx=i,fl.jsxs=i,fl}var z_;function wS(){return z_||(z_=1,Dd.exports=bS()),Dd.exports}var E=wS(),Nd={exports:{}},At={};var P_;function RS(){if(P_)return At;P_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function B(x){return x===null||typeof x!="object"?null:(x=N&&x[N]||x["@@iterator"],typeof x=="function"?x:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,J={};function it(x,G,tt){this.props=x,this.context=G,this.refs=J,this.updater=tt||H}it.prototype.isReactComponent={},it.prototype.setState=function(x,G){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,G,"setState")},it.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function st(){}st.prototype=it.prototype;function lt(x,G,tt){this.props=x,this.context=G,this.refs=J,this.updater=tt||H}var St=lt.prototype=new st;St.constructor=lt,Z(St,it.prototype),St.isPureReactComponent=!0;var Dt=Array.isArray;function Lt(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(x,G,tt){var at=tt.ref;return{$$typeof:s,type:x,key:G,ref:at!==void 0?at:null,props:tt}}function V(x,G){return I(x.type,G,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function z(x){var G={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(tt){return G[tt]})}var R=/\/+/g;function Xt(x,G){return typeof x=="object"&&x!==null&&x.key!=null?z(""+x.key):G.toString(36)}function me(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Lt,Lt):(x.status="pending",x.then(function(G){x.status==="pending"&&(x.status="fulfilled",x.value=G)},function(G){x.status==="pending"&&(x.status="rejected",x.reason=G)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Q(x,G,tt,at,mt){var Et=typeof x;(Et==="undefined"||Et==="boolean")&&(x=null);var It=!1;if(x===null)It=!0;else switch(Et){case"bigint":case"string":case"number":It=!0;break;case"object":switch(x.$$typeof){case s:case t:It=!0;break;case A:return It=x._init,Q(It(x._payload),G,tt,at,mt)}}if(It)return mt=mt(x),It=at===""?"."+Xt(x,0):at,Dt(mt)?(tt="",It!=null&&(tt=It.replace(R,"$&/")+"/"),Q(mt,G,tt,"",function(tn){return tn})):mt!=null&&(O(mt)&&(mt=V(mt,tt+(mt.key==null||x&&x.key===mt.key?"":(""+mt.key).replace(R,"$&/")+"/")+It)),G.push(mt)),1;It=0;var he=at===""?".":at+":";if(Dt(x))for(var ne=0;ne<x.length;ne++)at=x[ne],Et=he+Xt(at,ne),It+=Q(at,G,tt,Et,mt);else if(ne=B(x),typeof ne=="function")for(x=ne.call(x),ne=0;!(at=x.next()).done;)at=at.value,Et=he+Xt(at,ne++),It+=Q(at,G,tt,Et,mt);else if(Et==="object"){if(typeof x.then=="function")return Q(me(x),G,tt,at,mt);throw G=String(x),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return It}function rt(x,G,tt){if(x==null)return x;var at=[],mt=0;return Q(x,at,"","",function(Et){return G.call(tt,Et,mt++)}),at}function et(x){if(x._status===-1){var G=x._result;G=G(),G.then(function(tt){(x._status===0||x._status===-1)&&(x._status=1,x._result=tt)},function(tt){(x._status===0||x._status===-1)&&(x._status=2,x._result=tt)}),x._status===-1&&(x._status=0,x._result=G)}if(x._status===1)return x._result.default;throw x._result}var ht=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},yt={map:rt,forEach:function(x,G,tt){rt(x,function(){G.apply(this,arguments)},tt)},count:function(x){var G=0;return rt(x,function(){G++}),G},toArray:function(x){return rt(x,function(G){return G})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return At.Activity=b,At.Children=yt,At.Component=it,At.Fragment=i,At.Profiler=l,At.PureComponent=lt,At.StrictMode=r,At.Suspense=y,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,At.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},At.cache=function(x){return function(){return x.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(x,G,tt){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=Z({},x.props),mt=x.key;if(G!=null)for(Et in G.key!==void 0&&(mt=""+G.key),G)!w.call(G,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&G.ref===void 0||(at[Et]=G[Et]);var Et=arguments.length-2;if(Et===1)at.children=tt;else if(1<Et){for(var It=Array(Et),he=0;he<Et;he++)It[he]=arguments[he+2];at.children=It}return I(x.type,mt,at)},At.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},At.createElement=function(x,G,tt){var at,mt={},Et=null;if(G!=null)for(at in G.key!==void 0&&(Et=""+G.key),G)w.call(G,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(mt[at]=G[at]);var It=arguments.length-2;if(It===1)mt.children=tt;else if(1<It){for(var he=Array(It),ne=0;ne<It;ne++)he[ne]=arguments[ne+2];mt.children=he}if(x&&x.defaultProps)for(at in It=x.defaultProps,It)mt[at]===void 0&&(mt[at]=It[at]);return I(x,Et,mt)},At.createRef=function(){return{current:null}},At.forwardRef=function(x){return{$$typeof:p,render:x}},At.isValidElement=O,At.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:et}},At.memo=function(x,G){return{$$typeof:_,type:x,compare:G===void 0?null:G}},At.startTransition=function(x){var G=D.T,tt={};D.T=tt;try{var at=x(),mt=D.S;mt!==null&&mt(tt,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Lt,ht)}catch(Et){ht(Et)}finally{G!==null&&tt.types!==null&&(G.types=tt.types),D.T=G}},At.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},At.use=function(x){return D.H.use(x)},At.useActionState=function(x,G,tt){return D.H.useActionState(x,G,tt)},At.useCallback=function(x,G){return D.H.useCallback(x,G)},At.useContext=function(x){return D.H.useContext(x)},At.useDebugValue=function(){},At.useDeferredValue=function(x,G){return D.H.useDeferredValue(x,G)},At.useEffect=function(x,G){return D.H.useEffect(x,G)},At.useEffectEvent=function(x){return D.H.useEffectEvent(x)},At.useId=function(){return D.H.useId()},At.useImperativeHandle=function(x,G,tt){return D.H.useImperativeHandle(x,G,tt)},At.useInsertionEffect=function(x,G){return D.H.useInsertionEffect(x,G)},At.useLayoutEffect=function(x,G){return D.H.useLayoutEffect(x,G)},At.useMemo=function(x,G){return D.H.useMemo(x,G)},At.useOptimistic=function(x,G){return D.H.useOptimistic(x,G)},At.useReducer=function(x,G,tt){return D.H.useReducer(x,G,tt)},At.useRef=function(x){return D.H.useRef(x)},At.useState=function(x){return D.H.useState(x)},At.useSyncExternalStore=function(x,G,tt){return D.H.useSyncExternalStore(x,G,tt)},At.useTransition=function(){return D.H.useTransition()},At.version="19.2.0",At}var L_;function Sm(){return L_||(L_=1,Nd.exports=RS()),Nd.exports}var xt=Sm(),Md={exports:{}},dl={},Od={exports:{}},Vd={};var U_;function IS(){return U_||(U_=1,(function(s){function t(Q,rt){var et=Q.length;Q.push(rt);t:for(;0<et;){var ht=et-1>>>1,yt=Q[ht];if(0<l(yt,rt))Q[ht]=rt,Q[et]=yt,et=ht;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var rt=Q[0],et=Q.pop();if(et!==rt){Q[0]=et;t:for(var ht=0,yt=Q.length,x=yt>>>1;ht<x;){var G=2*(ht+1)-1,tt=Q[G],at=G+1,mt=Q[at];if(0>l(tt,et))at<yt&&0>l(mt,tt)?(Q[ht]=mt,Q[at]=et,ht=at):(Q[ht]=tt,Q[G]=et,ht=G);else if(at<yt&&0>l(mt,et))Q[ht]=mt,Q[at]=et,ht=at;else break t}}return rt}function l(Q,rt){var et=Q.sortIndex-rt.sortIndex;return et!==0?et:Q.id-rt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,b=null,N=3,B=!1,H=!1,Z=!1,J=!1,it=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function St(Q){for(var rt=i(_);rt!==null;){if(rt.callback===null)r(_);else if(rt.startTime<=Q)r(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function Dt(Q){if(Z=!1,St(Q),!H)if(i(y)!==null)H=!0,Lt||(Lt=!0,z());else{var rt=i(_);rt!==null&&me(Dt,rt.startTime-Q)}}var Lt=!1,D=-1,w=5,I=-1;function V(){return J?!0:!(s.unstable_now()-I<w)}function O(){if(J=!1,Lt){var Q=s.unstable_now();I=Q;var rt=!0;try{t:{H=!1,Z&&(Z=!1,st(D),D=-1),B=!0;var et=N;try{e:{for(St(Q),b=i(y);b!==null&&!(b.expirationTime>Q&&V());){var ht=b.callback;if(typeof ht=="function"){b.callback=null,N=b.priorityLevel;var yt=ht(b.expirationTime<=Q);if(Q=s.unstable_now(),typeof yt=="function"){b.callback=yt,St(Q),rt=!0;break e}b===i(y)&&r(y),St(Q)}else r(y);b=i(y)}if(b!==null)rt=!0;else{var x=i(_);x!==null&&me(Dt,x.startTime-Q),rt=!1}}break t}finally{b=null,N=et,B=!1}rt=void 0}}finally{rt?z():Lt=!1}}}var z;if(typeof lt=="function")z=function(){lt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Xt=R.port2;R.port1.onmessage=O,z=function(){Xt.postMessage(null)}}else z=function(){it(O,0)};function me(Q,rt){D=it(function(){Q(s.unstable_now())},rt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var rt=3;break;default:rt=N}var et=N;N=rt;try{return Q()}finally{N=et}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(Q,rt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var et=N;N=Q;try{return rt()}finally{N=et}},s.unstable_scheduleCallback=function(Q,rt,et){var ht=s.unstable_now();switch(typeof et=="object"&&et!==null?(et=et.delay,et=typeof et=="number"&&0<et?ht+et:ht):et=ht,Q){case 1:var yt=-1;break;case 2:yt=250;break;case 5:yt=1073741823;break;case 4:yt=1e4;break;default:yt=5e3}return yt=et+yt,Q={id:A++,callback:rt,priorityLevel:Q,startTime:et,expirationTime:yt,sortIndex:-1},et>ht?(Q.sortIndex=et,t(_,Q),i(y)===null&&Q===i(_)&&(Z?(st(D),D=-1):Z=!0,me(Dt,et-ht))):(Q.sortIndex=yt,t(y,Q),H||B||(H=!0,Lt||(Lt=!0,z()))),Q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Q){var rt=N;return function(){var et=N;N=rt;try{return Q.apply(this,arguments)}finally{N=et}}}})(Vd)),Vd}var j_;function CS(){return j_||(j_=1,Od.exports=IS()),Od.exports}var kd={exports:{}},Ke={};var B_;function xS(){if(B_)return Ke;B_=1;var s=Sm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ke.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},Ke.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Ke.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ke.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:B}):A==="script"&&r.d.X(y,{crossOrigin:b,integrity:N,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Ke.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Ke.requestFormReset=function(y){r.d.r(y)},Ke.unstable_batchedUpdates=function(y,_){return y(_)},Ke.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var H_;function DS(){if(H_)return kd.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=xS(),kd.exports}var q_;function NS(){if(q_)return dl;q_=1;var s=CS(),t=Sm(),i=DS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===a){g=!0,a=h,o=f;break}if(T===o){g=!0,o=h,a=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===a){g=!0,a=f,o=h;break}if(T===o){g=!0,o=f,a=h;break}T=T.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),St=Symbol.for("react.forward_ref"),Dt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Xt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case it:return"Profiler";case J:return"StrictMode";case Dt:return"Suspense";case Lt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case lt:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case St:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:Xt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Xt(e(n))}catch{}}return null}var me=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et={pending:!1,data:null,method:null,action:null},ht=[],yt=-1;function x(e){return{current:e}}function G(e){0>yt||(e.current=ht[yt],ht[yt]=null,yt--)}function tt(e,n){yt++,ht[yt]=e.current,e.current=n}var at=x(null),mt=x(null),Et=x(null),It=x(null);function he(e,n){switch(tt(Et,n),tt(mt,e),tt(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=r_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(at),tt(at,e)}function ne(){G(at),G(mt),G(Et)}function tn(e){e.memoizedState!==null&&tt(It,e);var n=at.current,a=s_(n,e.type);n!==a&&(tt(mt,e),tt(at,a))}function ti(e){mt.current===e&&(G(at),G(mt)),It.current===e&&(G(It),ll._currentValue=et)}var us,ar;function Un(e){if(us===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);us=n&&n[1]||"",ar=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+us+e+ar}var Ws=!1;function Mi(e,n){if(!e||Ws)return"";Ws=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var j=F}Reflect.construct(e,[],X)}else{try{X.call()}catch(F){j=F}e.call(X.prototype)}}else{try{throw Error()}catch(F){j=F}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var C=g.split(`
`),U=T.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===U.length)for(o=C.length-1,h=U.length-1;1<=o&&0<=h&&C[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==U[h]){var Y=`
`+C[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{Ws=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Un(a):""}function or(e,n){switch(e.tag){case 26:case 27:case 5:return Un(e.type);case 16:return Un("Lazy");case 13:return e.child!==n&&n!==null?Un("Suspense Fallback"):Un("Suspense");case 19:return Un("SuspenseList");case 0:case 15:return Mi(e.type,!1);case 11:return Mi(e.type.render,!1);case 1:return Mi(e.type,!0);case 31:return Un("Activity");default:return""}}function lr(e){try{var n="",a=null;do n+=or(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ie=Object.prototype.hasOwnProperty,pe=s.unstable_scheduleCallback,ur=s.unstable_cancelCallback,Nh=s.unstable_shouldYield,$l=s.unstable_requestPaint,en=s.unstable_now,cs=s.unstable_getCurrentPriorityLevel,co=s.unstable_ImmediatePriority,ho=s.unstable_UserBlockingPriority,cr=s.unstable_NormalPriority,Mh=s.unstable_LowPriority,Jl=s.unstable_IdlePriority,Zl=s.log,Wl=s.unstable_setDisableYieldValue,jn=null,Ue=null;function bn(e){if(typeof Zl=="function"&&Wl(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(jn,e)}catch{}}var ge=Math.clz32?Math.clz32:eu,tu=Math.log,ta=Math.LN2;function eu(e){return e>>>=0,e===0?32:31-(tu(e)/ta|0)|0}var ei=256,hs=262144,Te=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=ni(o):(g&=T,g!==0?h=ni(g):a||(a=T&~e,a!==0&&(h=ni(a))))):(T=o&~f,T!==0?h=ni(T):g!==0?h=ni(g):a||(a=o&~e,a!==0&&(h=ni(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Bn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ri(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,U=e.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-ge(a),X=1<<Y;T[Y]=0,C[Y]=-1;var j=U[Y];if(j!==null)for(U[Y]=null,Y=0;Y<j.length;Y++){var F=j[Y];F!==null&&(F.lane&=-536870913)}a&=~X}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ds(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function fo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ge(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function mo(e,n){var a=n&-n;return a=(a&42)!==0?1:ms(a),(a&(e.suspendedLanes|n))!==0?0:a}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function iu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function Hn(e,n){var a=rt.p;try{return rt.p=e,n()}finally{rt.p=a}}var qn=Math.random().toString(36).slice(2),Se="__reactFiber$"+qn,ke="__reactProps$"+qn,si="__reactContainer$"+qn,ea="__reactEvents$"+qn,kh="__reactListeners$"+qn,ru="__reactHandles$"+qn,su="__reactResources$"+qn,ai="__reactMarker$"+qn;function na(e){delete e[Se],delete e[ke],delete e[ea],delete e[kh],delete e[ru]}function oi(e){var n=e[Se];if(n)return n;for(var a=e.parentNode;a;){if(n=a[si]||a[Se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=f_(e);e!==null;){if(a=e[Se])return a;e=f_(e)}return n}e=a,a=e.parentNode}return null}function wn(e){if(e=e[Se]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function li(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[ai]=!0}var po=new Set,go={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(go[e]=n,e=0;e<n.length;e++)po.add(n[e])}var yo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_o={},vo={};function au(e){return ie.call(vo,e)?!0:ie.call(_o,e)?!1:yo.test(e)?vo[e]=!0:(_o[e]=!0,!1)}function ia(e,n,a){if(au(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function pn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function be(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Eo(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=hr(e)?"checked":"value";e._valueTracker=Eo(e,n,""+e[n])}}function ps(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=hr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gs=/[\n"\\]/g;function sn(e){return e.replace(gs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,a,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?To(e,g,ze(n)):a!=null?To(e,g,ze(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ze(T):e.removeAttribute("name")}function ou(e,n,a,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function To(e,n,a){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function fr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function lu(e,n,a){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ze(a):""}function dr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(me(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=ze(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function an(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||uu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Ao(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return mr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var bo=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pr=null,fi=null;function ys(e){var n=wn(e);if(n&&(e=n.stateNode)){var a=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(r(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ps(o)}break t;case"textarea":lu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&fr(e,!!a.multiple,n,!1)}}}var oa=!1;function gr(e,n,a){if(oa)return e(n,a);oa=!0;try{var o=e(n);return o}finally{if(oa=!1,(pr!==null||fi!==null)&&(ic(),pr&&(n=pr,e=fi,fi=pr=null,ys(n),e)))for(n=0;n<e.length;n++)ys(e[n])}}function Gn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(In)try{var $t={};Object.defineProperty($t,"passive",{get:function(){_s=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{_s=!1}var di=null,wo=null,vs=null;function Ro(){if(vs)return vs;var e,n=wo,a=n.length,o,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Qn(){return!1}function je(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Qn,this.isPropagationStopped=Qn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=je(ki),yr=b({},ki,{view:0,detail:0}),Io=je(yr),_r,la,pi,ua=b({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(_r=e.screenX-pi.screenX,la=e.screenY-pi.screenY):la=_r=0,pi=e),_r)},movementY:function(e){return"movementY"in e?e.movementY:la}}),Co=je(ua),Ts=b({},ua,{dataTransfer:0}),hu=je(Ts),fu=b({},yr,{relatedTarget:0}),Ss=je(fu),xo=b({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),du=je(xo),ca=b({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mu=je(ca),pu=b({},ki,{data:0}),gi=je(pu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=_u[e])?!!n[e]:!1}function vr(){return vu}var nn=b({},yr,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Eu=je(nn),Tu=b({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zi=je(Tu),u=b({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),m=je(u),v=b({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=je(v),P=b({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(P),nt=b({},ki,{newState:0,oldState:0}),wt=je(nt),ye=[9,13,27,32],qt=In&&"CompositionEvent"in window,oe=null;In&&"documentMode"in document&&(oe=document.documentMode);var Cn=In&&"TextEvent"in window&&!oe,yi=In&&(!qt||oe&&8<oe&&11>=oe),Yn=" ",Kn=!1;function As(e,n){switch(e){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function KE(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(Kn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Kn?null:e;default:return null}}function XE(e,n){if(fa)return e==="compositionend"||!qt&&As(e,n)?(e=Ro(),vs=wo=di=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var $E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$E[e.type]:n==="textarea"}function gp(e,n,a,o){pr?fi?fi.push(o):fi=[o]:pr=o,n=cc(n,"onChange"),0<n.length&&(a=new mi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Do=null,No=null;function JE(e){Zy(e,0)}function Su(e){var n=mn(e);if(ps(n))return e}function yp(e,n){if(e==="change")return n}var _p=!1;if(In){var zh;if(In){var Ph="oninput"in document;if(!Ph){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Ph=typeof vp.oninput=="function"}zh=Ph}else zh=!1;_p=zh&&(!document.documentMode||9<document.documentMode)}function Ep(){Do&&(Do.detachEvent("onpropertychange",Tp),No=Do=null)}function Tp(e){if(e.propertyName==="value"&&Su(No)){var n=[];gp(n,No,e,Rn(e)),gr(JE,n)}}function ZE(e,n,a){e==="focusin"?(Ep(),Do=n,No=a,Do.attachEvent("onpropertychange",Tp)):e==="focusout"&&Ep()}function WE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(No)}function tT(e,n){if(e==="click")return Su(n)}function eT(e,n){if(e==="input"||e==="change")return Su(n)}function nT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:nT;function Mo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ie.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,n){var a=Sp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sp(a)}}function bp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=hi(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iT=In&&"documentMode"in document&&11>=document.documentMode,da=null,Uh=null,Oo=null,jh=!1;function Rp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jh||da==null||da!==hi(o)||(o=da,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Oo&&Mo(Oo,o)||(Oo=o,o=cc(Uh,"onSelect"),0<o.length&&(n=new mi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=da)))}function bs(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ma={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Bh={},Ip={};In&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function ws(e){if(Bh[e])return Bh[e];if(!ma[e])return e;var n=ma[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ip)return Bh[e]=n[a];return e}var Cp=ws("animationend"),xp=ws("animationiteration"),Dp=ws("animationstart"),rT=ws("transitionrun"),sT=ws("transitionstart"),aT=ws("transitioncancel"),Np=ws("transitionend"),Mp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function Xn(e,n){Mp.set(e,n),ui(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],pa=0,qh=0;function bu(){for(var e=pa,n=qh=pa=0;n<e;){var a=xn[n];xn[n++]=null;var o=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Op(a,h,f)}}function wu(e,n,a,o){xn[pa++]=e,xn[pa++]=n,xn[pa++]=a,xn[pa++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fh(e,n,a,o){return wu(e,n,a,o),Ru(e)}function Rs(e,n){return wu(e,null,null,n),Ru(e)}function Op(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Ru(e){if(50<el)throw el=0,td=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function oT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,a,o){return new oT(e,n,a,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var a=e.alternate;return a===null?(a=yn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Gh(e)&&(g=1);else if(typeof e=="string")g=fS(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=yn(31,a,n,h),e.elementType=I,e.lanes=f,e;case Z:return Is(a.children,h,f,n);case J:g=8,h|=24;break;case it:return e=yn(12,a,n,h|2),e.elementType=it,e.lanes=f,e;case Dt:return e=yn(13,a,n,h),e.elementType=Dt,e.lanes=f,e;case Lt:return e=yn(19,a,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:g=10;break t;case st:g=9;break t;case St:g=11;break t;case D:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=yn(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Is(e,n,a,o){return e=yn(7,e,o,n),e.lanes=a,e}function Qh(e,n,a){return e=yn(6,e,null,n),e.lanes=a,e}function kp(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,a){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zp=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var a=zp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:lr(n)},zp.set(e,n),n)}return{value:e,source:n,stack:lr(n)}}var ya=[],_a=0,Cu=null,Vo=0,Nn=[],Mn=0,Er=null,_i=1,vi="";function Li(e,n){ya[_a++]=Vo,ya[_a++]=Cu,Cu=e,Vo=n}function Pp(e,n,a){Nn[Mn++]=_i,Nn[Mn++]=vi,Nn[Mn++]=Er,Er=e;var o=_i;e=vi;var h=32-ge(o)-1;o&=~(1<<h),a+=1;var f=32-ge(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,_i=1<<32-ge(n)+h|a<<h|o,vi=f+e}else _i=1<<f|a<<h|o,vi=e}function Kh(e){e.return!==null&&(Li(e,1),Pp(e,1,0))}function Xh(e){for(;e===Cu;)Cu=ya[--_a],ya[_a]=null,Vo=ya[--_a],ya[_a]=null;for(;e===Er;)Er=Nn[--Mn],Nn[Mn]=null,vi=Nn[--Mn],Nn[Mn]=null,_i=Nn[--Mn],Nn[Mn]=null}function Lp(e,n){Nn[Mn++]=_i,Nn[Mn++]=vi,Nn[Mn++]=Er,_i=n.id,vi=n.overflow,Er=e}var Be=null,re=null,Ut=!1,Tr=null,On=!1,$h=Error(r(519));function Sr(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ko(Dn(n,e)),$h}function Up(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Se]=e,n[ke]=o,a){case"dialog":Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":case"embed":Mt("load",n);break;case"video":case"audio":for(a=0;a<il.length;a++)Mt(il[a],n);break;case"source":Mt("error",n);break;case"img":case"image":case"link":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"input":Mt("invalid",n),ou(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Mt("invalid",n);break;case"textarea":Mt("invalid",n),dr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||n_(n.textContent,a)?(o.popover!=null&&(Mt("beforetoggle",n),Mt("toggle",n)),o.onScroll!=null&&Mt("scroll",n),o.onScrollEnd!=null&&Mt("scrollend",n),o.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Sr(e,!0)}function jp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function va(e){if(e!==Be)return!1;if(!Ut)return jp(e),Ut=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&re&&Sr(e),jp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));re=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));re=h_(e)}else n===27?(n=re,zr(e.type)?(e=Ed,Ed=null,re=e):re=n):re=Be?kn(e.stateNode.nextSibling):null;return!0}function Cs(){re=Be=null,Ut=!1}function Jh(){var e=Tr;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Tr=null),e}function ko(e){Tr===null?Tr=[e]:Tr.push(e)}var Zh=x(null),xs=null,Ui=null;function Ar(e,n,a){tt(Zh,n._currentValue),n._currentValue=a}function ji(e){e._currentValue=Zh.current,G(Zh)}function Wh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function tf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var C=0;C<n.length;C++)if(T.context===n[C]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Wh(f.return,a,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Wh(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ea(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===It.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}h=h.return}e!==null&&tf(n,e,a,o),n.flags|=262144}function xu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){xs=e,Ui=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Bp(xs,e)}function Du(e,n){return xs===null&&Ds(e),Bp(e,n)}function Bp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ui===null){if(e===null)throw Error(r(308));Ui=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ui=Ui.next=n;return a}var lT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},uT=s.unstable_scheduleCallback,cT=s.unstable_NormalPriority,we={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new lT,data:new Map,refCount:0}}function zo(e){e.refCount--,e.refCount===0&&uT(cT,function(){e.controller.abort()})}var Po=null,nf=0,Ta=0,Sa=null;function hT(e,n){if(Po===null){var a=Po=[];nf=0,Ta=ad(),Sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return nf++,n.then(Hp,Hp),n}function Hp(){if(--nf===0&&Po!==null){Sa!==null&&(Sa.status="fulfilled");var e=Po;Po=null,Ta=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function fT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var qp=Q.S;Q.S=function(e,n){Ry=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hT(e,n),qp!==null&&qp(e,n)};var Ns=x(null);function rf(){var e=Ns.current;return e!==null?e:ee.pooledCache}function Nu(e,n){n===null?tt(Ns,Ns.current):tt(Ns,n.pool)}function Fp(){var e=rf();return e===null?null:{parent:we._currentValue,pool:e}}var Aa=Error(r(460)),sf=Error(r(474)),Mu=Error(r(542)),Ou={then:function(){}};function Gp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Fn,Fn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kp(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kp(e),e}throw Os=n,Aa}}function Ms(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Os=a,Aa):a}}var Os=null;function Yp(){if(Os===null)throw Error(r(459));var e=Os;return Os=null,e}function Kp(e){if(e===Aa||e===Mu)throw Error(r(483))}var ba=null,Lo=0;function Vu(e){var n=Lo;return Lo+=1,ba===null&&(ba=[]),Qp(ba,e,n)}function Uo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ku(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xp(e){function n(k,M){if(e){var L=k.deletions;L===null?(k.deletions=[M],k.flags|=16):L.push(M)}}function a(k,M){if(!e)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Pi(k,M),k.index=0,k.sibling=null,k}function f(k,M,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<M?(k.flags|=67108866,M):L):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,L,K){return M===null||M.tag!==6?(M=Qh(L,k.mode,K),M.return=k,M):(M=h(M,L),M.return=k,M)}function C(k,M,L,K){var dt=L.type;return dt===Z?Y(k,M,L.props.children,K,L.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Ms(dt)===M.type)?(M=h(M,L.props),Uo(M,L),M.return=k,M):(M=Iu(L.type,L.key,L.props,null,k.mode,K),Uo(M,L),M.return=k,M)}function U(k,M,L,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Yh(L,k.mode,K),M.return=k,M):(M=h(M,L.children||[]),M.return=k,M)}function Y(k,M,L,K,dt){return M===null||M.tag!==7?(M=Is(L,k.mode,K,dt),M.return=k,M):(M=h(M,L),M.return=k,M)}function X(k,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qh(""+M,k.mode,L),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case B:return L=Iu(M.type,M.key,M.props,null,k.mode,L),Uo(L,M),L.return=k,L;case H:return M=Yh(M,k.mode,L),M.return=k,M;case w:return M=Ms(M),X(k,M,L)}if(me(M)||z(M))return M=Is(M,k.mode,L,null),M.return=k,M;if(typeof M.then=="function")return X(k,Vu(M),L);if(M.$$typeof===lt)return X(k,Du(k,M),L);ku(k,M)}return null}function j(k,M,L,K){var dt=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return dt!==null?null:T(k,M,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case B:return L.key===dt?C(k,M,L,K):null;case H:return L.key===dt?U(k,M,L,K):null;case w:return L=Ms(L),j(k,M,L,K)}if(me(L)||z(L))return dt!==null?null:Y(k,M,L,K,null);if(typeof L.then=="function")return j(k,M,Vu(L),K);if(L.$$typeof===lt)return j(k,M,Du(k,L),K);ku(k,L)}return null}function F(k,M,L,K,dt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(L)||null,T(M,k,""+K,dt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return k=k.get(K.key===null?L:K.key)||null,C(M,k,K,dt);case H:return k=k.get(K.key===null?L:K.key)||null,U(M,k,K,dt);case w:return K=Ms(K),F(k,M,L,K,dt)}if(me(K)||z(K))return k=k.get(L)||null,Y(M,k,K,dt,null);if(typeof K.then=="function")return F(k,M,L,Vu(K),dt);if(K.$$typeof===lt)return F(k,M,L,Du(M,K),dt);ku(M,K)}return null}function ut(k,M,L,K){for(var dt=null,Bt=null,ct=M,Ct=M=0,Vt=null;ct!==null&&Ct<L.length;Ct++){ct.index>Ct?(Vt=ct,ct=null):Vt=ct.sibling;var Ht=j(k,ct,L[Ct],K);if(Ht===null){ct===null&&(ct=Vt);break}e&&ct&&Ht.alternate===null&&n(k,ct),M=f(Ht,M,Ct),Bt===null?dt=Ht:Bt.sibling=Ht,Bt=Ht,ct=Vt}if(Ct===L.length)return a(k,ct),Ut&&Li(k,Ct),dt;if(ct===null){for(;Ct<L.length;Ct++)ct=X(k,L[Ct],K),ct!==null&&(M=f(ct,M,Ct),Bt===null?dt=ct:Bt.sibling=ct,Bt=ct);return Ut&&Li(k,Ct),dt}for(ct=o(ct);Ct<L.length;Ct++)Vt=F(ct,k,Ct,L[Ct],K),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?Ct:Vt.key),M=f(Vt,M,Ct),Bt===null?dt=Vt:Bt.sibling=Vt,Bt=Vt);return e&&ct.forEach(function(Br){return n(k,Br)}),Ut&&Li(k,Ct),dt}function gt(k,M,L,K){if(L==null)throw Error(r(151));for(var dt=null,Bt=null,ct=M,Ct=M=0,Vt=null,Ht=L.next();ct!==null&&!Ht.done;Ct++,Ht=L.next()){ct.index>Ct?(Vt=ct,ct=null):Vt=ct.sibling;var Br=j(k,ct,Ht.value,K);if(Br===null){ct===null&&(ct=Vt);break}e&&ct&&Br.alternate===null&&n(k,ct),M=f(Br,M,Ct),Bt===null?dt=Br:Bt.sibling=Br,Bt=Br,ct=Vt}if(Ht.done)return a(k,ct),Ut&&Li(k,Ct),dt;if(ct===null){for(;!Ht.done;Ct++,Ht=L.next())Ht=X(k,Ht.value,K),Ht!==null&&(M=f(Ht,M,Ct),Bt===null?dt=Ht:Bt.sibling=Ht,Bt=Ht);return Ut&&Li(k,Ct),dt}for(ct=o(ct);!Ht.done;Ct++,Ht=L.next())Ht=F(ct,k,Ct,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&ct.delete(Ht.key===null?Ct:Ht.key),M=f(Ht,M,Ct),Bt===null?dt=Ht:Bt.sibling=Ht,Bt=Ht);return e&&ct.forEach(function(AS){return n(k,AS)}),Ut&&Li(k,Ct),dt}function Wt(k,M,L,K){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case B:t:{for(var dt=L.key;M!==null;){if(M.key===dt){if(dt=L.type,dt===Z){if(M.tag===7){a(k,M.sibling),K=h(M,L.props.children),K.return=k,k=K;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===w&&Ms(dt)===M.type){a(k,M.sibling),K=h(M,L.props),Uo(K,L),K.return=k,k=K;break t}a(k,M);break}else n(k,M);M=M.sibling}L.type===Z?(K=Is(L.props.children,k.mode,K,L.key),K.return=k,k=K):(K=Iu(L.type,L.key,L.props,null,k.mode,K),Uo(K,L),K.return=k,k=K)}return g(k);case H:t:{for(dt=L.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(k,M.sibling),K=h(M,L.children||[]),K.return=k,k=K;break t}else{a(k,M);break}else n(k,M);M=M.sibling}K=Yh(L,k.mode,K),K.return=k,k=K}return g(k);case w:return L=Ms(L),Wt(k,M,L,K)}if(me(L))return ut(k,M,L,K);if(z(L)){if(dt=z(L),typeof dt!="function")throw Error(r(150));return L=dt.call(L),gt(k,M,L,K)}if(typeof L.then=="function")return Wt(k,M,Vu(L),K);if(L.$$typeof===lt)return Wt(k,M,Du(k,L),K);ku(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(k,M.sibling),K=h(M,L),K.return=k,k=K):(a(k,M),K=Qh(L,k.mode,K),K.return=k,k=K),g(k)):a(k,M)}return function(k,M,L,K){try{Lo=0;var dt=Wt(k,M,L,K);return ba=null,dt}catch(ct){if(ct===Aa||ct===Mu)throw ct;var Bt=yn(29,ct,null,k.mode);return Bt.lanes=K,Bt.return=k,Bt}finally{}}}var Vs=Xp(!0),$p=Xp(!1),br=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function wr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Ru(e),Op(e,null,a),n}return wu(e,o,n,a),Ru(e)}function jo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,fo(e,a)}}function lf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var uf=!1;function Bo(){if(uf){var e=Sa;if(e!==null)throw e}}function Ho(e,n,a,o){uf=!1;var h=e.updateQueue;br=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,U=C.next;C.next=null,g===null?f=U:g.next=U,g=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==g&&(T===null?Y.firstBaseUpdate=U:T.next=U,Y.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,Y=U=C=null,T=f;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Ot&j)===j:(o&j)===j){j!==0&&j===Ta&&(uf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,gt=T;j=n;var Wt=a;switch(gt.tag){case 1:if(ut=gt.payload,typeof ut=="function"){X=ut.call(Wt,X,j);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=gt.payload,j=typeof ut=="function"?ut.call(Wt,X,j):ut,j==null)break t;X=b({},X,j);break t;case 2:br=!0}}j=T.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(U=Y=F,C=X):Y=Y.next=F,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(C=X),h.baseState=C,h.firstBaseUpdate=U,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Nr|=g,e.lanes=g,e.memoizedState=X}}function Jp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Zp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jp(a[e],n)}var wa=x(null),zu=x(0);function Wp(e,n){e=Xi,tt(zu,e),tt(wa,n),Xi=e|n.baseLanes}function cf(){tt(zu,Xi),tt(wa,wa.current)}function hf(){Xi=zu.current,G(wa),G(zu)}var _n=x(null),Vn=null;function Ir(e){var n=e.alternate;tt(_e,_e.current&1),tt(_n,e),Vn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Vn=e)}function ff(e){tt(_e,_e.current),tt(_n,e),Vn===null&&(Vn=e)}function tg(e){e.tag===22?(tt(_e,_e.current),tt(_n,e),Vn===null&&(Vn=e)):Cr()}function Cr(){tt(_e,_e.current),tt(_n,_n.current)}function vn(e){G(_n),Vn===e&&(Vn=null),G(_e)}var _e=x(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Rt=null,Jt=null,Re=null,Lu=!1,Ra=!1,ks=!1,Uu=0,qo=0,Ia=null,dT=0;function fe(){throw Error(r(321))}function df(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!gn(e[a],n[a]))return!1;return!0}function mf(e,n,a,o,h,f){return Bi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?Pg:xf,ks=!1,f=a(o,h),ks=!1,Ra&&(f=ng(n,a,o,h)),eg(e),f}function eg(e){Q.H=Qo;var n=Jt!==null&&Jt.next!==null;if(Bi=0,Re=Jt=Rt=null,Lu=!1,qo=0,Ia=null,n)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&xu(e)&&(Ie=!0))}function ng(e,n,a,o){Rt=e;var h=0;do{if(Ra&&(Ia=null),qo=0,Ra=!1,25<=h)throw Error(r(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Lg,f=n(a,o)}while(Ra);return f}function mT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function pf(){var e=Uu!==0;return Uu=0,e}function gf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function yf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}Bi=0,Re=Jt=Rt=null,Ra=!1,qo=Uu=0,Ia=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Rt.memoizedState=Re=e:Re=Re.next=e,Re}function ve(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Re===null?Rt.memoizedState:Re.next;if(n!==null)Re=n,Jt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?Rt.memoizedState=Re=e:Re=Re.next=e}return Re}function ju(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=qo;return qo+=1,Ia===null&&(Ia=[]),e=Qp(Ia,e,n),n=Rt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Pg:xf),e}function Bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===lt)return He(e)}throw Error(r(438,String(e)))}function _f(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ju(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Hi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=ve();return vf(n,Jt,e)}function vf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,C=null,U=n,Y=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Ot&X)===X:(Bi&X)===X){var j=U.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Ta&&(Y=!0);else if((Bi&j)===j){U=U.next,j===Ta&&(Y=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=X,g=f):C=C.next=X,Rt.lanes|=j,Nr|=j;X=U.action,ks&&a(f,X),f=U.hasEagerState?U.eagerState:a(f,X)}else j={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},C===null?(T=C=j,g=f):C=C.next=j,Rt.lanes|=X,Nr|=X;U=U.next}while(U!==null&&U!==n);if(C===null?g=f:C.next=T,!gn(f,e.memoizedState)&&(Ie=!0,Y&&(a=Sa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=ve(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function ig(e,n,a){var o=Rt,h=ve(),f=Ut;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!gn((Jt||h).memoizedState,a);if(g&&(h.memoizedState=a,Ie=!0),h=h.queue,Af(ag.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},sg.bind(null,o,h,a,n),null),ee===null)throw Error(r(349));f||(Bi&127)!==0||rg(o,n,a)}return a}function rg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=ju(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function sg(e,n,a,o){n.value=a,n.getSnapshot=o,og(n)&&lg(e)}function ag(e,n,a){return a(function(){og(n)&&lg(e)})}function og(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!gn(e,a)}catch{return!0}}function lg(e){var n=Rs(e,2);n!==null&&hn(n,e,2)}function Tf(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),ks){bn(!0);try{a()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function ug(e,n,a,o){return e.baseState=a,vf(e,Jt,typeof o=="function"?o:Hi)}function pT(e,n,a,o,h){if(Gu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,cg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function cg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var T=a(h,o),C=Q.S;C!==null&&C(g,T),hg(e,n,T)}catch(U){Sf(e,n,U)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=a(h,o),hg(e,n,f)}catch(U){Sf(e,n,U)}}function hg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){fg(e,n,o)},function(o){return Sf(e,n,o)}):fg(e,n,a)}function fg(e,n,a){n.status="fulfilled",n.value=a,dg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,cg(e,a)))}function Sf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,dg(n),n=n.next;while(n!==o)}e.action=null}function dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mg(e,n){return n}function pg(e,n){if(Ut){var a=ee.formState;if(a!==null){t:{var o=Rt;if(Ut){if(re){e:{for(var h=re,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){re=kn(h.nextSibling),o=h.data==="F!";break t}}Sr(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:n},a.queue=o,a=Vg.bind(null,Rt,o),o.dispatch=a,o=Tf(!1),f=Cf.bind(null,Rt,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=pT.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function gg(e){var n=ve();return yg(n,Jt,e)}function yg(e,n,a){if(n=vf(e,n,mg)[0],e=Hu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(g){throw g===Aa?Mu:g}else o=n;n=ve();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Ca(9,{destroy:void 0},gT.bind(null,h,a),null)),[o,f,e]}function gT(e,n){e.action=n}function _g(e){var n=ve(),a=Jt;if(a!==null)return yg(n,a,e);ve(),n=n.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ca(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=ju(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function vg(){return ve().memoizedState}function qu(e,n,a,o){var h=rn();Rt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},a,o===void 0?null:o)}function Fu(e,n,a,o){var h=ve();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&df(o,Jt.memoizedState.deps)?h.memoizedState=Ca(n,f,a,o):(Rt.flags|=e,h.memoizedState=Ca(1|n,f,a,o))}function Eg(e,n){qu(8390656,8,e,n)}function Af(e,n){Fu(2048,8,e,n)}function yT(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=ju(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Tg(e){var n=ve().memoizedState;return yT({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sg(e,n){return Fu(4,2,e,n)}function Ag(e,n){return Fu(4,4,e,n)}function bg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wg(e,n,a){a=a!=null?a.concat([e]):null,Fu(4,4,bg.bind(null,n,e),a)}function bf(){}function Rg(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&df(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Ig(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),ks){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o}function wf(e,n,a){return a===void 0||(Bi&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Cy(),Rt.lanes|=e,Nr|=e,a)}function Cg(e,n,a,o){return gn(a,n)?a:wa.current!==null?(e=wf(e,a,o),gn(e,n)||(Ie=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Ot&261930)===0?(Ie=!0,e.memoizedState=a):(e=Cy(),Rt.lanes|=e,Nr|=e,n)}function xg(e,n,a,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=Q.T,T={};Q.T=T,Cf(e,!1,n,a);try{var C=h(),U=Q.S;if(U!==null&&U(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=fT(C,o);Go(e,n,Y,Sn(e))}else Go(e,n,o,Sn(e))}catch(X){Go(e,n,{then:function(){},status:"rejected",reason:X},Sn())}finally{rt.p=f,g!==null&&T.types!==null&&(g.types=T.types),Q.T=g}}function _T(){}function Rf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Dg(e).queue;xg(e,h,n,et,a===null?_T:function(){return Ng(e),a(o)})}function Dg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:et,baseState:et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:et},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ng(e){var n=Dg(e);n.next===null&&(n=e.alternate.memoizedState),Go(e,n.next.queue,{},Sn())}function If(){return He(ll)}function Mg(){return ve().memoizedState}function Og(){return ve().memoizedState}function vT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Sn();e=wr(a);var o=Rr(n,e,a);o!==null&&(hn(o,n,a),jo(o,n,a)),n={cache:ef()},e.payload=n;return}n=n.return}}function ET(e,n,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(e)?kg(n,a):(a=Fh(e,n,a,o),a!==null&&(hn(a,e,o),zg(a,n,o)))}function Vg(e,n,a){var o=Sn();Go(e,n,a,o)}function Go(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(e))kg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,a);if(h.hasEagerState=!0,h.eagerState=T,gn(T,g))return wu(e,n,h,0),ee===null&&bu(),!1}catch{}finally{}if(a=Fh(e,n,h,o),a!==null)return hn(a,e,o),zg(a,n,o),!0}return!1}function Cf(e,n,a,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Gu(e)){if(n)throw Error(r(479))}else n=Fh(e,a,o,2),n!==null&&hn(n,e,2)}function Gu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function kg(e,n){Ra=Lu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function zg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,fo(e,a)}}var Qo={readContext:He,use:Bu,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe};Qo.useEffectEvent=fe;var Pg={readContext:He,use:Bu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Eg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,qu(4194308,4,bg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var o=e();if(ks){bn(!0);try{e()}finally{bn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=rn();if(a!==void 0){var h=a(n);if(ks){bn(!0);try{a(n)}finally{bn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=ET.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,a=Vg.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(e,n){var a=rn();return wf(a,e,n)},useTransition:function(){var e=Tf(!1);return e=xg.bind(null,Rt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=rn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ee===null)throw Error(r(349));(Ot&127)!==0||rg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Eg(ag.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},sg.bind(null,o,f,a,n),null),a},useId:function(){var e=rn(),n=ee.identifierPrefix;if(Ut){var a=vi,o=_i;a=(o&~(1<<32-ge(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Uu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=dT++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:If,useFormState:pg,useActionState:pg,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Cf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return rn().memoizedState=vT.bind(null,Rt)},useEffectEvent:function(e){var n=rn(),a={impl:e};return n.memoizedState=a,function(){if((Ft&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:He,use:Bu,useCallback:Rg,useContext:He,useEffect:Af,useImperativeHandle:wg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Ig,useReducer:Hu,useRef:vg,useState:function(){return Hu(Hi)},useDebugValue:bf,useDeferredValue:function(e,n){var a=ve();return Cg(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Hu(Hi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:If,useFormState:gg,useActionState:gg,useOptimistic:function(e,n){var a=ve();return ug(a,Jt,e,n)},useMemoCache:_f,useCacheRefresh:Og};xf.useEffectEvent=Tg;var Lg={readContext:He,use:Bu,useCallback:Rg,useContext:He,useEffect:Af,useImperativeHandle:wg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Ig,useReducer:Ef,useRef:vg,useState:function(){return Ef(Hi)},useDebugValue:bf,useDeferredValue:function(e,n){var a=ve();return Jt===null?wf(a,e,n):Cg(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Ef(Hi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:If,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var a=ve();return Jt!==null?ug(a,Jt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Og};Lg.useEffectEvent=Tg;function Df(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Sn(),h=wr(o);h.payload=n,a!=null&&(h.callback=a),n=Rr(e,h,o),n!==null&&(hn(n,e,o),jo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Sn(),h=wr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Rr(e,h,o),n!==null&&(hn(n,e,o),jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Sn(),o=wr(a);o.tag=2,n!=null&&(o.callback=n),n=Rr(e,o,a),n!==null&&(hn(n,e,a),jo(n,e,a))}};function Ug(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Mo(a,o)||!Mo(h,f):!0}function jg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function zs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Bg(e){Au(e)}function Hg(e){console.error(e)}function qg(e){Au(e)}function Qu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Fg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Qu(e,n)},a}function Gg(e){return e=wr(e),e.tag=3,e}function Qg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Fg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Fg(n,a,o),typeof h!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function TT(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ea(n,a,h,!0),a=_n.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?rc():a.alternate===null&&de===0&&(de=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ou?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return a.flags|=65536,o===Ou?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),id(e,o,h)),!1}throw Error(r(435,a.tag))}return id(e,o,h),rc(),!1}if(Ut)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(r(422),{cause:o}),ko(Dn(e,a)))):(o!==$h&&(n=Error(r(423),{cause:o}),ko(Dn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=Mf(e.stateNode,o,h),lf(e,h),de!==4&&(de=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),tl===null?tl=[f]:tl.push(f),de!==4&&(de=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),lf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Mr===null||!Mr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gg(h),Qg(h,e,a,o),lf(a,h),!1}a=a.return}while(a!==null);return!1}var Of=Error(r(461)),Ie=!1;function qe(e,n,a,o){n.child=e===null?$p(n,null,a,o):Vs(n,e.child,a,o)}function Yg(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Ds(n),o=mf(e,n,a,g,f,h),T=pf(),e!==null&&!Ie?(gf(e,n,h),qi(e,n,h)):(Ut&&T&&Kh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Kg(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Xg(e,n,f,o,h)):(e=Iu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Mo,a(g,o)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=Pi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Xg(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,qi(e,n,h)}return Vf(e,n,a,o,h)}function $g(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Jg(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Wp(n,f):cf(),tg(n);else return o=n.lanes=536870912,Jg(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Nu(n,f.cachePool),Wp(n,f),Cr(),n.memoizedState=null):(e!==null&&Nu(n,null),cf(),Cr());return qe(e,n,h,a),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jg(e,n,a,o,h){var f=rf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Nu(n,null),cf(),tg(n),e!==null&&Ea(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=Xu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zg(e,n,a){return Vs(n,e.child,null,a),e=Yu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function ST(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,Yo(null,e);if(ff(n),(e=re)?(e=c_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Er!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=kp(e),a.return=n,n.child=a,Be=n,re=null)):e=null,e===null)throw Sr(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Zg(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ie||Ea(e,n,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=ee,o!==null&&(g=mo(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rs(e,g),hn(o,e,g),Of;rc(),n=Zg(e,n,a)}else e=f.treeContext,re=kn(g.nextSibling),Be=n,Ut=!0,Tr=null,On=!1,e!==null&&Lp(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Pi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Vf(e,n,a,o,h){return Ds(n),a=mf(e,n,a,o,void 0,h),o=pf(),e!==null&&!Ie?(gf(e,n,h),qi(e,n,h)):(Ut&&o&&Kh(n),n.flags|=1,qe(e,n,a,h),n.child)}function Wg(e,n,a,o,h,f){return Ds(n),n.updateQueue=null,a=ng(n,o,a,h),eg(e),o=pf(),e!==null&&!Ie?(gf(e,n,f),qi(e,n,f)):(Ut&&o&&Kh(n),n.flags|=1,qe(e,n,a,f),n.child)}function ty(e,n,a,o,h){if(Ds(n),n.stateNode===null){var f=ga,g=a.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?He(g):ga,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Df(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),Bo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,C=zs(a,T);f.props=C;var U=f.context,Y=a.contextType;g=ga,typeof Y=="object"&&Y!==null&&(g=He(Y));var X=a.getDerivedStateFromProps;Y=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==g)&&jg(n,f,o,g),br=!1;var j=n.memoizedState;f.state=j,Ho(n,o,f,h),Bo(),U=n.memoizedState,T||j!==U||br?(typeof X=="function"&&(Df(n,a,X,o),U=n.memoizedState),(C=br||Ug(n,a,C,o,j,U,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),g=n.memoizedProps,Y=zs(a,g),f.props=Y,X=n.pendingProps,j=f.context,U=a.contextType,C=ga,typeof U=="object"&&U!==null&&(C=He(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==C)&&jg(n,f,o,C),br=!1,j=n.memoizedState,f.state=j,Ho(n,o,f,h),Bo();var F=n.memoizedState;g!==X||j!==F||br||e!==null&&e.dependencies!==null&&xu(e.dependencies)?(typeof T=="function"&&(Df(n,a,T,o),F=n.memoizedState),(Y=br||Ug(n,a,Y,o,j,F,C)||e!==null&&e.dependencies!==null&&xu(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=C,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vs(n,e.child,null,h),n.child=Vs(n,null,a,h)):qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function ey(e,n,a,o){return Cs(),n.flags|=256,qe(e,n,a,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:Fp()}}function Pf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Tn),e}function ny(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Ir(n):Cr(),(e=re)?(e=c_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Er!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},a=kp(e),a.return=n,n.child=a,Be=n,re=null)):e=null,e===null)throw Sr(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Cr(),h=n.mode,T=Xu({mode:"hidden",children:T},h),o=Is(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=zf(a),o.childLanes=Pf(e,g,a),n.memoizedState=kf,Yo(null,o)):(Ir(n),Lf(n,T))}var C=e.memoizedState;if(C!==null&&(T=C.dehydrated,T!==null)){if(f)n.flags&256?(Ir(n),n.flags&=-257,n=Uf(e,n,a)):n.memoizedState!==null?(Cr(),n.child=e.child,n.flags|=128,n=null):(Cr(),T=o.fallback,h=n.mode,o=Xu({mode:"visible",children:o.children},h),T=Is(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Vs(n,e.child,null,a),o=n.child,o.memoizedState=zf(a),o.childLanes=Pf(e,g,a),n.memoizedState=kf,n=Yo(null,o));else if(Ir(n),vd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var U=g.dgst;g=U,o=Error(r(419)),o.stack="",o.digest=g,ko({value:o,source:null,stack:null}),n=Uf(e,n,a)}else if(Ie||Ea(e,n,a,!1),g=(a&e.childLanes)!==0,Ie||g){if(g=ee,g!==null&&(o=mo(g,a),o!==0&&o!==C.retryLane))throw C.retryLane=o,Rs(e,o),hn(g,e,o),Of;_d(T)||rc(),n=Uf(e,n,a)}else _d(T)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,re=kn(T.nextSibling),Be=n,Ut=!0,Tr=null,On=!1,e!==null&&Lp(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(Cr(),T=o.fallback,h=n.mode,C=e.child,U=C.sibling,o=Pi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,U!==null?T=Pi(U,T):(T=Is(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Yo(null,o),o=n.child,T=e.child.memoizedState,T===null?T=zf(a):(h=T.cachePool,h!==null?(C=we._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Fp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Pf(e,g,a),n.memoizedState=kf,Yo(e.child,o)):(Ir(n),a=e.child,e=a.sibling,a=Pi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Lf(e,n){return n=Xu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Xu(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Uf(e,n,a){return Vs(n,e.child,null,a),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,a)}function jf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function ry(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=_e.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,tt(_e,g),qe(e,n,o,a),o=Ut?Vo:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,a,n);else if(e.tag===19)iy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Pu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),jf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}jf(n,!0,a,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function qi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Nr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ea(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Pi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Pi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xu(e)))}function AT(e,n,a){switch(n.tag){case 3:he(n,n.stateNode.containerInfo),Ar(n,we,e.memoizedState.cache),Cs();break;case 27:case 5:tn(n);break;case 4:he(n,n.stateNode.containerInfo);break;case 10:Ar(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ir(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ny(e,n,a):(Ir(n),e=qi(e,n,a),e!==null?e.sibling:null);Ir(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ea(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return ry(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(_e,_e.current),o)break;return null;case 22:return n.lanes=0,$g(e,n,a,n.pendingProps);case 24:Ar(n,we,e.memoizedState.cache)}return qi(e,n,a)}function sy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Bf(e,a)&&(n.flags&128)===0)return Ie=!1,AT(e,n,a);Ie=(e.flags&131072)!==0}else Ie=!1,Ut&&(n.flags&1048576)!==0&&Pp(n,Vo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ms(n.elementType),n.type=e,typeof e=="function")Gh(e)?(o=zs(e,o),n.tag=1,n=ty(null,n,e,o,a)):(n.tag=0,n=Vf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===St){n.tag=11,n=Yg(null,n,e,o,a);break t}else if(h===D){n.tag=14,n=Kg(null,n,e,o,a);break t}}throw n=Xt(e)||e,Error(r(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=zs(o,n.pendingProps),ty(e,n,o,h,a);case 3:t:{if(he(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Ho(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Ar(n,we,o),o!==f.cache&&tf(n,[we],a,!0),Bo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,o,a);break t}else if(o!==h){h=Dn(Error(r(424)),n),ko(h),n=ey(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(re=kn(e.firstChild),Be=n,Ut=!0,Tr=null,On=!0,a=$p(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cs(),o===h){n=qi(e,n,a);break t}qe(e,n,o,a)}n=n.child}return n;case 26:return Ku(e,n),e===null?(a=g_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,e=n.pendingProps,o=hc(Et.current).createElement(a),o[Se]=n,o[ke]=e,Fe(o,a,e),Ae(o),n.stateNode=o):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return tn(n),e===null&&Ut&&(o=n.stateNode=d_(n.type,n.pendingProps,Et.current),Be=n,On=!0,h=re,zr(n.type)?(Ed=h,re=kn(o.firstChild)):re=h),qe(e,n,n.pendingProps.children,a),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=re)&&(o=WT(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,Be=n,re=kn(o.firstChild),On=!1,h=!0):h=!1),h||Sr(n)),tn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,mT,null,null,a),ll._currentValue=h),Ku(e,n),qe(e,n,o,a),n.child;case 6:return e===null&&Ut&&((e=a=re)&&(a=tS(a,n.pendingProps,On),a!==null?(n.stateNode=a,Be=n,re=null,e=!0):e=!1),e||Sr(n)),null;case 13:return ny(e,n,a);case 4:return he(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vs(n,null,o,a):qe(e,n,o,a),n.child;case 11:return Yg(e,n,n.type,n.pendingProps,a);case 7:return qe(e,n,n.pendingProps,a),n.child;case 8:return qe(e,n,n.pendingProps.children,a),n.child;case 12:return qe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Ar(n,n.type,o.value),qe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ds(n),h=He(h),o=o(h),n.flags|=1,qe(e,n,o,a),n.child;case 14:return Kg(e,n,n.type,n.pendingProps,a);case 15:return Xg(e,n,n.type,n.pendingProps,a);case 19:return ry(e,n,a);case 31:return ST(e,n,a);case 22:return $g(e,n,a,n.pendingProps);case 24:return Ds(n),o=He(we),e===null?(h=rf(),h===null&&(h=ee,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},af(n),Ar(n,we,h)):((e.lanes&a)!==0&&(of(e,n),Ho(n,null,null,a),Bo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ar(n,we,o)):(o=f.cache,Ar(n,we,o),o!==h.cache&&tf(n,[we],a,!0))),qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Fi(e){e.flags|=4}function Hf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(My())e.flags|=8192;else throw Os=Ou,sf}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(My())e.flags|=8192;else throw Os=Ou,sf}function $u(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?nu():536870912,e.lanes|=n,Ma|=n)}function Ko(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function bT(e,n,a){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ji(we),ne(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(va(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(se(n),ay(n,f)):(se(n),Hf(n,h,null,o,a))):f?f!==e.memoizedState?(Fi(n),se(n),ay(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fi(n),se(n),Hf(n,h,e,o,a)),null;case 27:if(ti(n),a=Et.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}e=at.current,va(n)?Up(n):(e=d_(h,o,a),n.stateNode=e,Fi(n))}return se(n),null;case 5:if(ti(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(f=at.current,va(n))Up(n);else{var g=hc(Et.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Fi(n)}}return se(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=Et.current,va(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||n_(e.nodeValue,a)),e||Sr(n,!0)}else e=hc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return se(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=va(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Se]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else a=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Se]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),$u(n,n.updateQueue),se(n),null);case 4:return ne(),e===null&&cd(n.stateNode.containerInfo),se(n),null;case 10:return ji(n.type),se(n),null;case 19:if(G(_e),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Ko(o,!1);else{if(de!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,Ko(o,!1),e=f.updateQueue,n.updateQueue=e,$u(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Vp(a,e),a=a.sibling;return tt(_e,_e.current&1|2),Ut&&Li(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>ec&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,$u(n,e),Ko(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return se(n),null}else 2*en()-o.renderingStartTime>ec&&a!==536870912&&(n.flags|=128,h=!0,Ko(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,a=_e.current,tt(_e,h?a&1|2:a&1),Ut&&Li(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return vn(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),a=n.updateQueue,a!==null&&$u(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&G(Ns),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),ji(we),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function wT(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ji(we),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ti(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(_e),null;case 4:return ne(),null;case 10:return ji(n.type),null;case 22:case 23:return vn(n),hf(),e!==null&&G(Ns),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ji(we),null;case 25:return null;default:return null}}function oy(e,n){switch(Xh(n),n.tag){case 3:ji(we),ne();break;case 26:case 27:case 5:ti(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:G(_e);break;case 10:ji(n.type);break;case 22:case 23:vn(n),hf(),e!==null&&G(Ns);break;case 24:ji(we)}}function Xo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(T){Kt(n,n.return,T)}}function xr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var C=a,U=T;try{U()}catch(Y){Kt(h,C,Y)}}}o=o.next}while(o!==f)}}catch(Y){Kt(n,n.return,Y)}}function ly(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Zp(n,a)}catch(o){Kt(e,e.return,o)}}}function uy(e,n,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Kt(e,n,o)}}function $o(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Kt(e,n,h)}}function Ei(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Kt(e,n,h)}else a.current=null}function cy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Kt(e,e.return,h)}}function qf(e,n,a){try{var o=e.stateNode;YT(o,e.type,a,n),o[ke]=n}catch(h){Kt(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Fn));else if(o!==4&&(o===27&&zr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,a),e=e.sibling;e!==null;)Gf(e,n,a),e=e.sibling}function Ju(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&zr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ju(e,n,a),e=e.sibling;e!==null;)Ju(e,n,a),e=e.sibling}function fy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[Se]=e,n[ke]=a}catch(f){Kt(e,e.return,f)}}var Gi=!1,Ce=!1,Qf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function RT(e,n){if(e=e.containerInfo,dd=_c,e=wp(e),Lh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,T=-1,C=-1,U=0,Y=0,X=e,j=null;e:for(;;){for(var F;X!==a||h!==0&&X.nodeType!==3||(T=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(F=X.firstChild)!==null;)j=X,X=F;for(;;){if(X===e)break e;if(j===a&&++U===h&&(T=g),j===f&&++Y===o&&(C=g),(F=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=F}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:e,selectionRange:a},_c=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ut=zs(a.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Kt(a,a.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)yd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function my(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(e,a),o&4&&Xo(5,a);break;case 1:if(Yi(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(a,a.return,g)}else{var h=zs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(a,a.return,g)}}o&64&&ly(a),o&512&&$o(a,a.return);break;case 3:if(Yi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Zp(e,n)}catch(g){Kt(a,a.return,g)}}break;case 27:n===null&&o&4&&fy(a);case 26:case 5:Yi(e,a),n===null&&o&4&&cy(a),o&512&&$o(a,a.return);break;case 12:Yi(e,a);break;case 31:Yi(e,a),o&4&&yy(e,a);break;case 13:Yi(e,a),o&4&&_y(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kT.bind(null,a),eS(e,a))));break;case 22:if(o=a.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||Ce,h=Gi;var f=Ce;Gi=o,(Ce=n)&&!f?Ki(e,a,(a.subtreeFlags&8772)!==0):Yi(e,a),Gi=h,Ce=f}break;case 30:break;default:Yi(e,a)}}function py(e){var n=e.alternate;n!==null&&(e.alternate=null,py(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,on=!1;function Qi(e,n,a){for(a=a.child;a!==null;)gy(e,n,a),a=a.sibling}function gy(e,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(jn,a)}catch{}switch(a.tag){case 26:Ce||Ei(a,n),Qi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Ei(a,n);var o=le,h=on;zr(a.type)&&(le=a.stateNode,on=!1),Qi(e,n,a),sl(a.stateNode),le=o,on=h;break;case 5:Ce||Ei(a,n);case 6:if(o=le,h=on,le=null,Qi(e,n,a),le=o,on=h,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:le!==null&&(on?(e=le,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ja(e)):l_(le,a.stateNode));break;case 4:o=le,h=on,le=a.stateNode.containerInfo,on=!0,Qi(e,n,a),le=o,on=h;break;case 0:case 11:case 14:case 15:xr(2,a,n),Ce||xr(4,a,n),Qi(e,n,a);break;case 1:Ce||(Ei(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&uy(a,n,o)),Qi(e,n,a);break;case 21:Qi(e,n,a);break;case 22:Ce=(o=Ce)||a.memoizedState!==null,Qi(e,n,a),Ce=o;break;default:Qi(e,n,a)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ja(e)}catch(a){Kt(n,n.return,a)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ja(e)}catch(a){Kt(n,n.return,a)}}function IT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(r(435,e.tag))}}function Zu(e,n){var a=IT(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=zT.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(zr(T.type)){le=T.stateNode,on=!1;break t}break;case 5:le=T.stateNode,on=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,on=!0;break t}T=T.return}if(le===null)throw Error(r(160));gy(f,g,h),le=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var $n=null;function vy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(xr(3,e,e.return),Xo(3,e),xr(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Ce||a===null||Ei(a,a.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(ln(n,e),un(e),o&512&&(Ce||a===null||Ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[Se]=e,Ae(f),o=f;break t;case"link":var g=v_("link","href",h).get(o+(a.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=v_("meta","content",h).get(o+(a.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Se]=e,Ae(f),o=f}e.stateNode=o}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?E_(h,e.type,e.stateNode):__(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Ce||a===null||Ei(a,a.return)),a!==null&&o&4&&qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Ce||a===null||Ei(a,a.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ut){Kt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ut){Kt(e,e.return,ut)}}break;case 3:if(mc=null,h=$n,$n=fc(n.containerInfo),ln(n,e),$n=h,un(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ja(n.containerInfo)}catch(ut){Kt(e,e.return,ut)}Qf&&(Qf=!1,Ey(e));break;case 4:o=$n,$n=fc(e.stateNode.containerInfo),ln(n,e),un(e),$n=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tc=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,U=Gi,Y=Ce;if(Gi=U||h,Ce=Y||C,ln(n,e),Ce=Y,Gi=U,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||C||Gi||Ce||Ps(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=C.stateNode;var X=C.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){Kt(C,C.return,ut)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ut){Kt(C,C.return,ut)}}}else if(n.tag===18){if(a===null){C=n;try{var F=C.stateNode;h?u_(F,!0):u_(C.stateNode,!1)}catch(ut){Kt(C,C.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Zu(e,a))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(hy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Ff(e);Ju(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(an(g,""),a.flags&=-33);var T=Ff(e);Ju(e,T,g);break;case 3:case 4:var C=a.stateNode.containerInfo,U=Ff(e);Gf(e,U,C);break;default:throw Error(r(161))}}catch(Y){Kt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function Ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xr(4,n,n.return),Ps(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&uy(n,n.return,a),Ps(n);break;case 27:sl(n.stateNode);case 26:case 5:Ei(n,n.return),Ps(n);break;case 22:n.memoizedState===null&&Ps(n);break;case 30:Ps(n);break;default:Ps(n)}e=e.sibling}}function Ki(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,a),Xo(4,f);break;case 1:if(Ki(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Kt(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Jp(C[h],T)}catch(U){Kt(o,o.return,U)}}a&&g&64&&ly(f),$o(f,f.return);break;case 27:fy(f);case 26:case 5:Ki(h,f,a),a&&o===null&&g&4&&cy(f),$o(f,f.return);break;case 12:Ki(h,f,a);break;case 31:Ki(h,f,a),a&&g&4&&yy(h,f);break;case 13:Ki(h,f,a),a&&g&4&&_y(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,a),$o(f,f.return);break;case 30:break;default:Ki(h,f,a)}n=n.sibling}}function Yf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&zo(a))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e))}function Jn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,a,o),n=n.sibling}function Ty(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,a,o),h&2048&&Xo(9,n);break;case 1:Jn(e,n,a,o);break;case 3:Jn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&zo(e)));break;case 12:if(h&2048){Jn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Kt(n,n.return,C)}}else Jn(e,n,a,o);break;case 31:Jn(e,n,a,o);break;case 13:Jn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,a,o):Jo(e,n):f._visibility&2?Jn(e,n,a,o):(f._visibility|=2,xa(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:Jn(e,n,a,o),h&2048&&Kf(n.alternate,n);break;default:Jn(e,n,a,o)}}function xa(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=a,C=o,U=g.flags;switch(g.tag){case 0:case 11:case 15:xa(f,g,T,C,h),Xo(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?xa(f,g,T,C,h):Jo(f,g):(Y._visibility|=2,xa(f,g,T,C,h)),h&&U&2048&&Yf(g.alternate,g);break;case 24:xa(f,g,T,C,h),h&&U&2048&&Kf(g.alternate,g);break;default:xa(f,g,T,C,h)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Jo(a,o),h&2048&&Yf(o.alternate,o);break;case 24:Jo(a,o),h&2048&&Kf(o.alternate,o);break;default:Jo(a,o)}n=n.sibling}}var Zo=8192;function Da(e,n,a){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)Sy(e,n,a),e=e.sibling}function Sy(e,n,a){switch(e.tag){case 26:Da(e,n,a),e.flags&Zo&&e.memoizedState!==null&&dS(a,$n,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,a);break;case 3:case 4:var o=$n;$n=fc(e.stateNode.containerInfo),Da(e,n,a),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Zo,Zo=16777216,Da(e,n,a),Zo=o):Da(e,n,a));break;default:Da(e,n,a)}}function Ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,wy(o,e)}Ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&xr(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Wu(e)):Wo(e);break;default:Wo(e)}}function Wu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Pe=o,wy(o,e)}Ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xr(8,n,n.return),Wu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Wu(n));break;default:Wu(n)}e=e.sibling}}function wy(e,n){for(;Pe!==null;){var a=Pe;switch(a.tag){case 0:case 11:case 15:xr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:zo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Pe=o;else t:for(a=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(py(o),o===a){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var CT={getCacheForType:function(e){var n=He(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(we).controller.signal}},xT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,Nt=null,Ot=0,Yt=0,En=null,Dr=!1,Na=!1,Xf=!1,Xi=0,de=0,Nr=0,Ls=0,$f=0,Tn=0,Ma=0,tl=null,cn=null,Jf=!1,tc=0,Ry=0,ec=1/0,nc=null,Mr=null,Ne=0,Or=null,Oa=null,$i=0,Zf=0,Wf=null,Iy=null,el=0,td=null;function Sn(){return(Ft&2)!==0&&Ot!==0?Ot&-Ot:Q.T!==null?ad():iu()}function Cy(){if(Tn===0)if((Ot&536870912)===0||Ut){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function hn(e,n,a){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Vr(e,Ot,Tn,!1)),fs(e,a),((Ft&2)===0||e!==ee)&&(e===ee&&((Ft&2)===0&&(Ls|=a),de===4&&Vr(e,Ot,Tn,!1)),Ti(e))}function xy(e,n,a){if((Ft&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Bn(e,n),h=o?MT(e,n):nd(e,n,!0),f=o;do{if(h===0){Na&&!o&&Vr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!DT(a)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=tl;var C=T.current.memoizedState.isDehydrated;if(C&&(Va(T,g).flags|=256),g=nd(T,g,!1),g!==2){if(Xf&&!C){T.errorRecoveryDisabledLanes|=f,Ls|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Vr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Vr(o,n,Tn,!Dr);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=tc+300-en(),10<h)){if(Vr(o,n,Tn,!Dr),ii(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=a_(Dy.bind(null,o,a,cn,nc,Jf,n,Tn,Ls,Ma,Dr,f,"Throttled",-0,0),h);break t}Dy(o,a,cn,nc,Jf,n,Tn,Ls,Ma,Dr,f,null,-0,0)}}break}while(!0);Ti(e)}function Dy(e,n,a,o,h,f,g,T,C,U,Y,X,j,F){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},Sy(n,f,X);var ut=(f&62914560)===f?tc-en():(f&4194048)===f?Ry-en():0;if(ut=mS(X,ut),ut!==null){$i=f,e.cancelPendingCommit=ut(Ly.bind(null,e,n,f,a,o,h,g,T,C,Y,X,null,j,F)),Vr(e,f,g,!U);return}}Ly(e,n,f,a,o,h,g,T,C)}function DT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vr(e,n,a,o){n&=~$f,n&=~Ls,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ds(e,a,n)}function ic(){return(Ft&6)===0?(nl(0),!1):!0}function ed(){if(Nt!==null){if(Yt===0)var e=Nt.return;else e=Nt,Ui=xs=null,yf(e),ba=null,Lo=0,e=Nt;for(;e!==null;)oy(e.alternate,e),e=e.return;Nt=null}}function Va(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$T(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),$i=0,ed(),ee=e,Nt=a=Pi(e.current,null),Ot=n,Yt=0,En=null,Dr=!1,Na=Bn(e,n),Xf=!1,Ma=Tn=$f=Ls=Nr=de=0,cn=tl=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,bu(),a}function Ny(e,n){Rt=null,Q.H=Qo,n===Aa||n===Mu?(n=Yp(),Yt=3):n===sf?(n=Yp(),Yt=4):Yt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Nt===null&&(de=1,Qu(e,Dn(n,e.current)))}function My(){var e=_n.current;return e===null?!0:(Ot&4194048)===Ot?Vn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Vn:!1}function Oy(){var e=Q.H;return Q.H=Qo,e===null?Qo:e}function Vy(){var e=Q.A;return Q.A=CT,e}function rc(){de=4,Dr||(Ot&4194048)!==Ot&&_n.current!==null||(Na=!0),(Nr&134217727)===0&&(Ls&134217727)===0||ee===null||Vr(ee,Ot,Tn,!1)}function nd(e,n,a){var o=Ft;Ft|=2;var h=Oy(),f=Vy();(ee!==e||Ot!==n)&&(nc=null,Va(e,n)),n=!1;var g=de;t:do try{if(Yt!==0&&Nt!==null){var T=Nt,C=En;switch(Yt){case 8:ed(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var U=Yt;if(Yt=0,En=null,ka(e,T,C,U),a&&Na){g=0;break t}break;default:U=Yt,Yt=0,En=null,ka(e,T,C,U)}}NT(),g=de;break}catch(Y){Ny(e,Y)}while(!0);return n&&e.shellSuspendCounter++,Ui=xs=null,Ft=o,Q.H=h,Q.A=f,Nt===null&&(ee=null,Ot=0,bu()),g}function NT(){for(;Nt!==null;)ky(Nt)}function MT(e,n){var a=Ft;Ft|=2;var o=Oy(),h=Vy();ee!==e||Ot!==n?(nc=null,ec=en()+500,Va(e,n)):Na=Bn(e,n);t:do try{if(Yt!==0&&Nt!==null){n=Nt;var f=En;e:switch(Yt){case 1:Yt=0,En=null,ka(e,n,f,1);break;case 2:case 9:if(Gp(f)){Yt=0,En=null,zy(n);break}n=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),Ti(e)},f.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Gp(f)?(Yt=0,En=null,zy(n)):(Yt=0,En=null,ka(e,n,f,7));break;case 5:var g=null;switch(Nt.tag){case 26:g=Nt.memoizedState;case 5:case 27:var T=Nt;if(g?T_(g):T.stateNode.complete){Yt=0,En=null;var C=T.sibling;if(C!==null)Nt=C;else{var U=T.return;U!==null?(Nt=U,sc(U)):Nt=null}break e}}Yt=0,En=null,ka(e,n,f,5);break;case 6:Yt=0,En=null,ka(e,n,f,6);break;case 8:ed(),de=6;break t;default:throw Error(r(462))}}OT();break}catch(Y){Ny(e,Y)}while(!0);return Ui=xs=null,Q.H=o,Q.A=h,Ft=a,Nt!==null?0:(ee=null,Ot=0,bu(),de)}function OT(){for(;Nt!==null&&!Nh();)ky(Nt)}function ky(e){var n=sy(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?sc(e):Nt=n}function zy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Wg(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Wg(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:yf(n);default:oy(a,n),n=Nt=Vp(n,Xi),n=sy(a,n,Xi)}e.memoizedProps=e.pendingProps,n===null?sc(e):Nt=n}function ka(e,n,a,o){Ui=xs=null,yf(n),ba=null,Lo=0;var h=n.return;try{if(TT(e,h,n,a,Ot)){de=1,Qu(e,Dn(a,e.current)),Nt=null;return}}catch(f){if(h!==null)throw Nt=h,f;de=1,Qu(e,Dn(a,e.current)),Nt=null;return}n.flags&32768?(Ut||o===1?e=!0:Na||(Ot&536870912)!==0?e=!1:(Dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){Py(n,Dr);return}e=n.return;var a=bT(n.alternate,n,Xi);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=e}while(n!==null);de===0&&(de=5)}function Py(e,n){do{var a=wT(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);de=6,Nt=null}function Ly(e,n,a,o,h,f,g,T,C){e.cancelPendingCommit=null;do ac();while(Ne!==0);if((Ft&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(e,a,f,g,T,C),e===ee&&(Nt=ee=null,Ot=0),Oa=n,Or=e,$i=a,Zf=f,Wf=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,PT(cr,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=rt.p,rt.p=2,g=Ft,Ft|=4;try{RT(e,n,a)}finally{Ft=g,rt.p=h,Q.T=o}}Ne=1,Uy(),jy(),By()}}function Uy(){if(Ne===1){Ne=0;var e=Or,n=Oa,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{vy(n,e);var f=md,g=wp(e.containerInfo),T=f.focusedElem,C=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&bp(T.ownerDocument.documentElement,T)){if(C!==null&&Lh(T)){var U=C.start,Y=C.end;if(Y===void 0&&(Y=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(Y,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var F=j.getSelection(),ut=T.textContent.length,gt=Math.min(C.start,ut),Wt=C.end===void 0?gt:Math.min(C.end,ut);!F.extend&&gt>Wt&&(g=Wt,Wt=gt,gt=g);var k=Ap(T,gt),M=Ap(T,Wt);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var L=X.createRange();L.setStart(k.node,k.offset),F.removeAllRanges(),gt>Wt?(F.addRange(L),F.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),F.addRange(L))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}_c=!!dd,md=dd=null}finally{Ft=h,rt.p=o,Q.T=a}}e.current=n,Ne=2}}function jy(){if(Ne===2){Ne=0;var e=Or,n=Oa,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=rt.p;rt.p=2;var h=Ft;Ft|=4;try{my(e,n.alternate,n)}finally{Ft=h,rt.p=o,Q.T=a}}Ne=3}}function By(){if(Ne===4||Ne===3){Ne=0,$l();var e=Or,n=Oa,a=$i,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Oa=Or=null,Hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Mr=null),Oi(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=rt.p,rt.p=2,Q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,rt.p=h}}($i&3)!==0&&ac(),Ti(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===td?el++:(el=0,td=e):el=0,nl(0)}}function Hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,zo(n)))}function ac(){return Uy(),jy(),By(),qy()}function qy(){if(Ne!==5)return!1;var e=Or,n=Zf;Zf=0;var a=Oi($i),o=Q.T,h=rt.p;try{rt.p=32>a?32:a,Q.T=null,a=Wf,Wf=null;var f=Or,g=$i;if(Ne=0,Oa=Or=null,$i=0,(Ft&6)!==0)throw Error(r(331));var T=Ft;if(Ft|=4,by(f.current),Ty(f,f.current,g,a),Ft=T,nl(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{rt.p=h,Q.T=o,Hy(e,n)}}function Fy(e,n,a){n=Dn(a,n),n=Mf(e.stateNode,n,2),e=Rr(e,n,2),e!==null&&(fs(e,2),Ti(e))}function Kt(e,n,a){if(e.tag===3)Fy(e,e,a);else for(;n!==null;){if(n.tag===3){Fy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Mr===null||!Mr.has(o))){e=Dn(a,e),a=Gg(2),o=Rr(n,a,2),o!==null&&(Qg(a,o,n,e),fs(o,2),Ti(o));break}}n=n.return}}function id(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new xT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Xf=!0,h.add(a),e=VT.bind(null,e,n,a),n.then(e,e))}function VT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Ot&a)===a&&(de===4||de===3&&(Ot&62914560)===Ot&&300>en()-tc?(Ft&2)===0&&Va(e,0):$f|=a,Ma===Ot&&(Ma=0)),Ti(e)}function Gy(e,n){n===0&&(n=nu()),e=Rs(e,n),e!==null&&(fs(e,n),Ti(e))}function kT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Gy(e,a)}function zT(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Gy(e,a)}function PT(e,n){return pe(e,n)}var oc=null,za=null,rd=!1,lc=!1,sd=!1,kr=0;function Ti(e){e!==za&&e.next===null&&(za===null?oc=za=e:za=za.next=e),lc=!0,rd||(rd=!0,UT())}function nl(e,n){if(!sd&&lc){sd=!0;do for(var a=!1,o=oc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Xy(o,f))}else f=Ot,f=ii(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Bn(o,f)||(a=!0,Xy(o,f));o=o.next}while(a);sd=!1}}function LT(){Qy()}function Qy(){lc=rd=!1;var e=0;kr!==0&&XT()&&(e=kr);for(var n=en(),a=null,o=oc;o!==null;){var h=o.next,f=Yy(o,n);f===0?(o.next=null,a===null?oc=h:a.next=h,h===null&&(za=a)):(a=o,(e!==0||(f&3)!==0)&&(lc=!0)),o=h}Ne!==0&&Ne!==5||nl(e),kr!==0&&(kr=0)}function Yy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ge(f),T=1<<g,C=h[g];C===-1?((T&a)===0||(T&o)!==0)&&(h[g]=Oh(T,n)):C<=n&&(e.expiredLanes|=T),f&=~T}if(n=ee,a=Ot,a=ii(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ur(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Bn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&ur(o),Oi(a)){case 2:case 8:a=ho;break;case 32:a=cr;break;case 268435456:a=Jl;break;default:a=cr}return o=Ky.bind(null,e),a=pe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&ur(o),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ac()&&e.callbackNode!==a)return null;var o=Ot;return o=ii(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(xy(e,o,n),Yy(e,en()),e.callbackNode!=null&&e.callbackNode===a?Ky.bind(null,e):null)}function Xy(e,n){if(ac())return null;xy(e,n,!0)}function UT(){JT(function(){(Ft&6)!==0?pe(co,LT):Qy()})}function ad(){if(kr===0){var e=Ta;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),kr=e}return kr}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Jy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function jT(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=$y((h[ke]||null).action),g=o.submitter;g&&(n=(n=g[ke]||null)?$y(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new mi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(kr!==0){var C=g?Jy(h,g):new FormData(h);Rf(a,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(T.preventDefault(),C=g?Jy(h,g):new FormData(h),Rf(a,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var od=0;od<Hh.length;od++){var ld=Hh[od],BT=ld.toLowerCase(),HT=ld[0].toUpperCase()+ld.slice(1);Xn(BT,"on"+HT)}Xn(Cp,"onAnimationEnd"),Xn(xp,"onAnimationIteration"),Xn(Dp,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(rT,"onTransitionRun"),Xn(sT,"onTransitionStart"),Xn(aT,"onTransitionCancel"),Xn(Np,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Zy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],C=T.instance,U=T.currentTarget;if(T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(Y){Au(Y)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(T=o[g],C=T.instance,U=T.currentTarget,T=T.listener,C!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(Y){Au(Y)}h.currentTarget=null,f=C}}}}function Mt(e,n){var a=n[ea];a===void 0&&(a=n[ea]=new Set);var o=e+"__bubble";a.has(o)||(Wy(n,e,2,!1),a.add(o))}function ud(e,n,a){var o=0;n&&(o|=4),Wy(a,e,o,n)}var uc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[uc]){e[uc]=!0,po.forEach(function(a){a!=="selectionchange"&&(qT.has(a)||ud(a,!1,e),ud(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[uc]||(n[uc]=!0,ud("selectionchange",!1,n))}}function Wy(e,n,a,o){switch(C_(n)){case 2:var h=yS;break;case 8:h=_S;break;default:h=wd}a=h.bind(null,n,a,e),h=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function hd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=oi(T),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}T=T.parentNode}}o=o.return}gr(function(){var U=f,Y=Rn(a),X=[];t:{var j=Mp.get(e);if(j!==void 0){var F=mi,ut=e;switch(e){case"keypress":if(Es(a)===0)break t;case"keydown":case"keyup":F=Eu;break;case"focusin":ut="focus",F=Ss;break;case"focusout":ut="blur",F=Ss;break;case"beforeblur":case"afterblur":F=Ss;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Co;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Cp:case xp:case Dp:F=du;break;case Np:F=S;break;case"scroll":case"scrollend":F=Io;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=mu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=zi;break;case"toggle":case"beforetoggle":F=wt}var gt=(n&4)!==0,Wt=!gt&&(e==="scroll"||e==="scrollend"),k=gt?j!==null?j+"Capture":null:j;gt=[];for(var M=U,L;M!==null;){var K=M;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||k===null||(K=Gn(M,k),K!=null&&gt.push(rl(M,K,L))),Wt)break;M=M.return}0<gt.length&&(j=new F(j,ut,null,a,Y),X.push({event:j,listeners:gt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==bo&&(ut=a.relatedTarget||a.fromElement)&&(oi(ut)||ut[si]))break t;if((F||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ut=a.relatedTarget||a.toElement,F=U,ut=ut?oi(ut):null,ut!==null&&(Wt=c(ut),gt=ut.tag,ut!==Wt||gt!==5&&gt!==27&&gt!==6)&&(ut=null)):(F=null,ut=U),F!==ut)){if(gt=Co,K="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(gt=zi,K="onPointerLeave",k="onPointerEnter",M="pointer"),Wt=F==null?j:mn(F),L=ut==null?j:mn(ut),j=new gt(K,M+"leave",F,a,Y),j.target=Wt,j.relatedTarget=L,K=null,oi(Y)===U&&(gt=new gt(k,M+"enter",ut,a,Y),gt.target=L,gt.relatedTarget=Wt,K=gt),Wt=K,F&&ut)e:{for(gt=FT,k=F,M=ut,L=0,K=k;K;K=gt(K))L++;K=0;for(var dt=M;dt;dt=gt(dt))K++;for(;0<L-K;)k=gt(k),L--;for(;0<K-L;)M=gt(M),K--;for(;L--;){if(k===M||M!==null&&k===M.alternate){gt=k;break e}k=gt(k),M=gt(M)}gt=null}else gt=null;F!==null&&t_(X,j,F,gt,!1),ut!==null&&Wt!==null&&t_(X,Wt,ut,gt,!0)}}t:{if(j=U?mn(U):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var Bt=yp;else if(pp(j))if(_p)Bt=eT;else{Bt=WE;var ct=ZE}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?U&&sa(U.elementType)&&(Bt=yp):Bt=tT;if(Bt&&(Bt=Bt(e,U))){gp(X,Bt,a,Y);break t}ct&&ct(e,j,U),e==="focusout"&&U&&j.type==="number"&&U.memoizedProps.value!=null&&To(j,"number",j.value)}switch(ct=U?mn(U):window,e){case"focusin":(pp(ct)||ct.contentEditable==="true")&&(da=ct,Uh=U,Oo=null);break;case"focusout":Oo=Uh=da=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Rp(X,a,Y);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Rp(X,a,Y)}var Ct;if(qt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else fa?As(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(yi&&a.locale!=="ko"&&(fa||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&fa&&(Ct=Ro()):(di=Y,wo="value"in di?di.value:di.textContent,fa=!0)),ct=cc(U,Vt),0<ct.length&&(Vt=new gi(Vt,e,null,a,Y),X.push({event:Vt,listeners:ct}),Ct?Vt.data=Ct:(Ct=ha(a),Ct!==null&&(Vt.data=Ct)))),(Ct=Cn?KE(e,a):XE(e,a))&&(Vt=cc(U,"onBeforeInput"),0<Vt.length&&(ct=new gi("onBeforeInput","beforeinput",null,a,Y),X.push({event:ct,listeners:Vt}),ct.data=Ct)),jT(X,e,U,a,Y)}Zy(X,n)})}function rl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function cc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,a),h!=null&&o.unshift(rl(e,h,f)),h=Gn(e,n),h!=null&&o.push(rl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function FT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var T=a,C=T.alternate,U=T.stateNode;if(T=T.tag,C!==null&&C===o)break;T!==5&&T!==26&&T!==27||U===null||(C=U,h?(U=Gn(a,f),U!=null&&g.unshift(rl(a,U,C))):h||(U=Gn(a,f),U!=null&&g.push(rl(a,U,C)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var GT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(GT,`
`).replace(QT,"")}function n_(e,n){return n=e_(n),e_(e)===n}function Zt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,a,o);break;case"style":Ao(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=aa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=aa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=aa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),ia(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ia(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cu.get(a)||a,ia(e,a,o))}}function fd(e,n,a,o,h,f){switch(a){case"style":Ao(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Mt("scroll",e);break;case"onScrollEnd":o!=null&&Mt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!go.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ia(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,g,a,null)}}h&&Zt(e,n,"srcSet",a.srcSet,a,null),o&&Zt(e,n,"src",a.src,a,null);return;case"input":Mt("invalid",e);var T=f=g=h=null,C=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":C=Y;break;case"defaultChecked":U=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Zt(e,n,o,Y,a,null)}}ou(e,f,T,C,U,g,h,!1);return;case"select":Mt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Zt(e,n,h,T,a,null)}n=f,a=g,e.multiple=!!o,n!=null?fr(e,!!o,n,!1):a!=null&&fr(e,!!o,a,!0);return;case"textarea":Mt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Zt(e,n,g,T,a,null)}dr(e,o,h,f);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,C,o,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(o=0;o<il.length;o++)Mt(il[o],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,U,o,a,null)}return;default:if(sa(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&fd(e,n,Y,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Zt(e,n,T,o,a,null))}function YT(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,C=null,U=null,Y=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(F)||Zt(e,n,F,null,o,X)}}for(var j in o){var F=o[j];if(X=a[j],o.hasOwnProperty(j)&&(F!=null||X!=null))switch(j){case"type":f=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":Y=F;break;case"value":g=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==X&&Zt(e,n,j,F,o,X)}}ra(e,g,T,C,U,Y,f,h);return;case"select":F=g=T=j=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":F=C;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=a[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==C&&Zt(e,n,h,f,o,C)}n=T,a=g,o=F,j!=null?fr(e,!!a,j,!1):!!o!=!!a&&(n!=null?fr(e,!!a,n,!0):fr(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}lu(e,j,F);return;case"option":for(var ut in a)if(j=a[ut],a.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Zt(e,n,ut,null,o,j)}for(C in o)if(j=o[C],F=a[C],o.hasOwnProperty(C)&&j!==F&&(j!=null||F!=null))switch(C){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(e,n,C,j,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in a)j=a[gt],a.hasOwnProperty(gt)&&j!=null&&!o.hasOwnProperty(gt)&&Zt(e,n,gt,null,o,j);for(U in o)if(j=o[U],F=a[U],o.hasOwnProperty(U)&&j!==F&&(j!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Zt(e,n,U,j,o,F)}return;default:if(sa(n)){for(var Wt in a)j=a[Wt],a.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&fd(e,n,Wt,void 0,o,j);for(Y in o)j=o[Y],F=a[Y],!o.hasOwnProperty(Y)||j===F||j===void 0&&F===void 0||fd(e,n,Y,j,o,F);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Zt(e,n,k,null,o,j);for(X in o)j=o[X],F=a[X],!o.hasOwnProperty(X)||j===F||j==null&&F==null||Zt(e,n,X,j,o,F)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&i_(g)){for(g=0,T=h.responseEnd,o+=1;o<a.length;o++){var C=a[o],U=C.startTime;if(U>T)break;var Y=C.transferSize,X=C.initiatorType;Y&&i_(X)&&(C=C.responseEnd,g+=Y*(C<T?1:(T-U)/(C-U)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function XT(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(ZT)}:a_;function ZT(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function l_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),ja(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")sl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,sl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[ai]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&sl(e.ownerDocument.body);a=h}while(a);ja(n)}function u_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),na(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function WT(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function tS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=kn(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return kn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,a){switch(n=hc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function sl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var zn=new Map,m_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=rt.d;rt.d={f:nS,r:iS,D:rS,C:sS,L:aS,m:oS,X:uS,S:lS,M:cS};function nS(){var e=Ji.f(),n=ic();return e||n}function iS(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?Ng(n):Ji.r(e)}var Pa=typeof document>"u"?null:document;function p_(e,n,a){var o=Pa;if(o&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function rS(e){Ji.D(e),p_("dns-prefetch",e,null)}function sS(e,n){Ji.C(e,n),p_("preconnect",e,n)}function aS(e,n,a){Ji.L(e,n,a);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+sn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+sn(a.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Ua(e)}zn.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),zn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(al(f))||n==="script"&&o.querySelector(ol(f))||(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function oS(e,n){Ji.m(e,n);var a=Pa;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(o)+'"][href="'+sn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ua(e)}if(!zn.has(f)&&(e=b({rel:"modulepreload",href:e},n),zn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ol(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ae(o),a.head.appendChild(o)}}}function lS(e,n,a){Ji.S(e,n,a);var o=Pa;if(o&&e){var h=li(o).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(al(f)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=zn.get(f))&&Td(e,a);var C=g=o.createElement("link");Ae(C),Fe(C,"link",e),C._p=new Promise(function(U,Y){C.onload=U,C.onerror=Y}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,dc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function uS(e,n){Ji.X(e,n);var a=Pa;if(a&&e){var o=li(a).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=a.querySelector(ol(h)),f||(e=b({src:e,async:!0},n),(n=zn.get(h))&&Sd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cS(e,n){Ji.M(e,n);var a=Pa;if(a&&e){var o=li(a).hoistableScripts,h=Ua(e),f=o.get(h);f||(f=a.querySelector(ol(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=zn.get(h))&&Sd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g_(e,n,a,o){var h=(h=Et.current)?fc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=La(a.href),a=li(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(al(e)))&&!f._p&&(g.instance=f,g.state.loading=5),zn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(e,a),f||hS(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ua(a),a=li(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function La(e){return'href="'+sn(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function hS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Ae(n),e.head.appendChild(n))}function Ua(e){return'[src="'+sn(e)+'"]'}function ol(e){return"script[async]"+e}function __(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+sn(a.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Fe(o,"style",h),dc(o,a.precedence,e),n.instance=o;case"stylesheet":h=La(a.href);var f=e.querySelector(al(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=y_(a),(h=zn.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Fe(f,"link",o),n.state.loading|=4,dc(f,a.precedence,e),n.instance=f;case"script":return f=Ua(a.src),(h=e.querySelector(ol(f)))?(n.instance=h,Ae(h),h):(o=a,(h=zn.get(f))&&(o=b({},a),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,dc(o,a.precedence,e));return n.instance}function dc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var mc=null;function v_(e,n,a){if(mc===null){var o=new Map,h=mc=new Map;h.set(a,o)}else h=mc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ai]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function E_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function fS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=La(o.href),f=n.querySelector(al(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=pc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=n.ownerDocument||n,o=y_(o),(h=zn.get(h))&&Td(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(T,C){g.onload=T,g.onerror=C}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=pc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function mS(e,n){return e.stylesheets&&e.count===0&&yc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*KT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&yc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function pc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)yc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function yc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(pS,e),gc=null,pc.call(e))}function pS(e,n){if(!(n.state.loading&4)){var a=gc.get(e);if(a)var o=a.get(null);else{a=new Map,gc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=pc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:lt,Provider:null,Consumer:null,_currentValue:et,_currentValue2:et,_threadCount:0};function gS(e,n,a,o,h,f,g,T,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function S_(e,n,a,o,h,f,g,T,C,U,Y,X){return e=new gS(e,n,a,g,C,U,Y,X,T),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},af(f),e}function A_(e){return e?(e=ga,e):ga}function b_(e,n,a,o,h,f){h=A_(h),o.context===null?o.context=h:o.pendingContext=h,o=wr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Rr(e,o,n),a!==null&&(hn(a,e,n),jo(a,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function bd(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=Rs(e,67108864);n!==null&&hn(n,e,67108864),bd(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var n=Sn();n=ms(n);var a=Rs(e,n);a!==null&&hn(a,e,n),bd(e,n)}}var _c=!0;function yS(e,n,a,o){var h=Q.T;Q.T=null;var f=rt.p;try{rt.p=2,wd(e,n,a,o)}finally{rt.p=f,Q.T=h}}function _S(e,n,a,o){var h=Q.T;Q.T=null;var f=rt.p;try{rt.p=8,wd(e,n,a,o)}finally{rt.p=f,Q.T=h}}function wd(e,n,a,o){if(_c){var h=Rd(o);if(h===null)hd(e,n,o,vc,a),x_(e,o);else if(ES(h,e,n,a,o))o.stopPropagation();else if(x_(e,o),n&4&&-1<vS.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var C=1<<31-ge(g);T.entanglements[1]|=C,g&=~C}Ti(f),(Ft&6)===0&&(ec=en()+500,nl(0))}}break;case 31:case 13:T=Rs(f,2),T!==null&&hn(T,f,2),ic(),bd(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,vc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,a)}}function Rd(e){return e=Rn(e),Id(e)}var vc=null;function Id(e){if(vc=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return vc=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case co:return 2;case ho:return 8;case cr:case Mh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var Cd=!1,Pr=null,Lr=null,Ur=null,ul=new Map,cl=new Map,jr=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(e,n){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ES(e,n,a,o,h){switch(n){case"focusin":return Pr=hl(Pr,e,n,a,o,h),!0;case"dragenter":return Lr=hl(Lr,e,n,a,o,h),!0;case"mouseover":return Ur=hl(Ur,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return ul.set(f,hl(ul.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,cl.set(f,hl(cl.get(f)||null,e,n,a,o,h)),!0}return!1}function D_(e){var n=oi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){I_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Hn(e.priority,function(){I_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Rd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);bo=o,a.target.dispatchEvent(o),bo=null}else return n=wn(a),n!==null&&R_(n),e.blockedOn=a,!1;n.shift()}return!0}function N_(e,n,a){Ec(e)&&a.delete(n)}function TS(){Cd=!1,Pr!==null&&Ec(Pr)&&(Pr=null),Lr!==null&&Ec(Lr)&&(Lr=null),Ur!==null&&Ec(Ur)&&(Ur=null),ul.forEach(N_),cl.forEach(N_)}function Tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,TS)))}var Sc=null;function M_(e){Sc!==e&&(Sc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Id(o||a)===null)continue;break}var f=wn(a);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function ja(e){function n(C){return Tc(C,e)}Pr!==null&&Tc(Pr,e),Lr!==null&&Tc(Lr,e),Ur!==null&&Tc(Ur,e),ul.forEach(n),cl.forEach(n);for(var a=0;a<jr.length;a++){var o=jr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<jr.length&&(a=jr[0],a.blockedOn===null);)D_(a),a.blockedOn===null&&jr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[ke]||null;if(typeof f=="function")g||M_(a);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)T=g.formAction;else if(Id(h)!==null)continue}else T=g.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),M_(a)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}Ac.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Sn();b_(a,o,e,n,null,null)},Ac.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),ic(),n[si]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=iu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<jr.length&&n!==0&&n<jr[a].priority;a++);jr.splice(a,0,e),a===0&&D_(e)}};var V_=t.version;if(V_!=="19.2.0")throw Error(r(527,V_,"19.2.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var SS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{jn=bc.inject(SS),Ue=bc}catch{}}return dl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Bg,f=Hg,g=qg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S_(e,1,!1,null,null,a,o,null,h,f,g,O_),e[si]=n.current,cd(e),new xd(n)},dl.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Bg,g=Hg,T=qg,C=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),n=S_(e,1,!0,n,a??null,o,h,C,f,g,T,O_),n.context=A_(null),a=n.current,o=Sn(),o=ms(o),h=wr(o),h.callback=null,Rr(a,h,o),a=o,n.current.lanes=a,fs(n,a),Ti(n),e[si]=n.current,cd(e),new Ac(n)},dl.version="19.2.0",dl}var F_;function MS(){if(F_)return Md.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=NS(),Md.exports}var OS=MS();const VS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),G_=s=>{const t=kS(s);return t.charAt(0).toUpperCase()+t.slice(1)},E0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),zS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var PS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const LS=xt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},y)=>xt.createElement("svg",{ref:y,...PS,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:E0("lucide",l),...!c&&!zS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>xt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const te=(s,t)=>{const i=xt.forwardRef(({className:r,...l},c)=>xt.createElement(LS,{ref:c,iconNode:t,className:E0(`lucide-${VS(G_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=G_(s),i};const US=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Am=te("activity",US);const jS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bm=te("arrow-left",jS);const BS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],HS=te("arrow-right",BS);const qS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],FS=te("award",qS);const GS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oh=te("book-open",GS);const QS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],YS=te("calendar",QS);const KS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zd=te("check",KS);const XS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$S=te("circle-alert",XS);const JS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],T0=te("circle-check-big",JS);const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WS=te("circle-question-mark",ZS);const tA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Q_=te("circle-user",tA);const eA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nA=te("circle",eA);const iA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rA=te("eye-off",iA);const sA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],aA=te("house",sA);const oA=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],lA=te("languages",oA);const uA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],cA=te("layers",uA);const hA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xd=te("lock",hA);const fA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dA=te("log-out",fA);const mA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],pA=te("mic",mA);const gA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],yA=te("pause",gA);const _A=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],S0=te("play",_A);const vA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],EA=te("refresh-cw",vA);const TA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],SA=te("rotate-ccw",TA);const AA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bA=te("save",AA);const wA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wm=te("settings",wA);const RA=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],IA=te("skip-forward",RA);const CA=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],xA=te("type",CA);const DA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NA=te("user",DA),MA=({currentView:s,setView:t})=>{const i=[{id:"home",label:"Home",icon:aA},{id:"memorize",label:"Memorize",icon:oh},{id:"plan",label:"My Plan",icon:Am}];return E.jsx("nav",{className:"glass-panel",style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:100,padding:"10px 20px",display:"flex",gap:"20px"},children:i.map(r=>{const l=r.icon,c=s===r.id;return E.jsxs("button",{onClick:()=>t(r.id),style:{background:c?"rgba(212, 175, 55, 0.2)":"transparent",border:"none",color:c?"var(--primary)":"var(--text-muted)",padding:"10px",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",cursor:"pointer",transition:"all 0.3s ease",minWidth:"60px"},children:[E.jsx(l,{size:24}),E.jsx("span",{style:{fontSize:"12px",fontWeight:500},children:r.label})]},r.id)})})},Y_=6236,Il={1:"Al-Fatiha",2:"Al-Baqarah",3:"Ali 'Imran",4:"An-Nisa",5:"Al-Ma'idah",6:"Al-An'am",7:"Al-A'raf",8:"Al-Anfal",9:"At-Tawbah",10:"Yunus",11:"Hud",12:"Yusuf",13:"Ar-Ra'd",14:"Ibrahim",15:"Al-Hijr",16:"An-Nahl",17:"Al-Isra",18:"Al-Kahf",19:"Maryam",20:"Ta-Ha",21:"Al-Anbya",22:"Al-Hajj",23:"Al-Mu'minun",24:"An-Nur",25:"Al-Furqan",26:"Ash-Shu'ara",27:"An-Naml",28:"Al-Qasas",29:"Al-'Ankabut",30:"Ar-Rum",31:"Luqman",32:"As-Sajdah",33:"Al-Ahzab",34:"Saba",35:"Fatir",36:"Ya-Sin",37:"As-Saffat",38:"Sad",39:"Az-Zumar",40:"Ghafir",41:"Fussilat",42:"Ash-Shuraa",43:"Az-Zukhruf",44:"Ad-Dukhan",45:"Al-Jathiyah",46:"Al-Ahqaf",47:"Muhammad",48:"Al-Fath",49:"Al-Hujurat",50:"Qaf",51:"Adh-Dhariyat",52:"At-Tur",53:"An-Najm",54:"Al-Qamar",55:"Ar-Rahman",56:"Al-Waqi'ah",57:"Al-Hadid",58:"Al-Mujadila",59:"Al-Hashr",60:"Al-Mumtahanah",61:"As-Saf",62:"Al-Jumu'ah",63:"Al-Munafiqun",64:"At-Taghabun",65:"At-Talaq",66:"At-Tahrim",67:"Al-Mulk",68:"Al-Qalam",69:"Al-Haqqah",70:"Al-Ma'arij",71:"Nuh",72:"Al-Jinn",73:"Al-Muzzammil",74:"Al-Muddaththir",75:"Al-Qiyamah",76:"Al-Insan",77:"Al-Mursalat",78:"An-Naba",79:"An-Nazi'at",80:"'Abasa",81:"At-Takwir",82:"Al-Infitar",83:"Al-Mutaffifin",84:"Al-Inshiqaq",85:"Al-Buruj",86:"At-Tariq",87:"Al-A'la",88:"Al-Ghashiyah",89:"Al-Fajr",90:"Al-Balad",91:"Ash-Shams",92:"Al-Layl",93:"Ad-Duhaa",94:"Ash-Sharh",95:"At-Tin",96:"Al-'Alaq",97:"Al-Qadr",98:"Al-Bayyinah",99:"Az-Zalzalah",100:"Al-'Adiyat",101:"Al-Qari'ah",102:"At-Takathur",103:"Al-'Asr",104:"Al-Humazah",105:"Al-Fil",106:"Quraysh",107:"Al-Ma'un",108:"Al-Kawthar",109:"Al-Kafirun",110:"An-Nasr",111:"Al-Masad",112:"Al-Ikhlas",113:"Al-Falaq",114:"An-Nas"},js={1:7,2:286,3:200,4:176,5:120,6:165,7:206,8:75,9:129,10:109,11:123,12:111,13:43,14:52,15:99,16:128,17:111,18:110,19:98,20:135,21:112,22:78,23:118,24:64,25:77,26:227,27:93,28:88,29:69,30:60,31:34,32:30,33:73,34:54,35:45,36:83,37:182,38:88,39:75,40:85,41:54,42:53,43:89,44:59,45:37,46:35,47:38,48:29,49:18,50:45,51:60,52:49,53:62,54:55,55:78,56:96,57:29,58:22,59:24,60:13,61:14,62:11,63:11,64:18,65:12,66:12,67:30,68:52,69:52,70:44,71:28,72:28,73:20,74:56,75:40,76:31,77:50,78:40,79:46,80:42,81:29,82:19,83:36,84:25,85:22,86:17,87:19,88:26,89:30,90:20,91:15,92:21,93:11,94:8,95:8,96:19,97:5,98:8,99:8,100:11,101:11,102:8,103:3,104:9,105:5,106:4,107:7,108:3,109:6,110:3,111:5,112:4,113:5,114:6},A0=s=>{if(typeof s=="number"||typeof s=="string"){const l=(parseFloat(s)||2)*365;return Math.max(1,Math.ceil(Y_/l))}if(s?.planType==="custom")return parseInt(s.versesPerDay)||5;const i=(parseFloat(s?.targetDuration)||2)*365;return Math.max(1,Math.ceil(Y_/i))},b0=(s,t,i={},r=null)=>{const l=A0(i);let c=parseInt(s),d=t+1,p=l;const y=[],_=[];let A=0;for(;p>0&&A<10;){A++;const N=(r&&c===parseInt(s)?r:js[c]||100)-d+1,B=Math.min(p,N),H=d+B-1,Z=Il[c]||`Surah ${c}`;if(y.push({surah:c,startVerse:d,endVerse:H,label:`${Z} (${d}-${H})`}),_.push(`${Z} (${d}-${H})`),p-=B,p>0){if(c===114)break;c++,d=1}}return{surah:y[0]?.surah||s,startVerse:y[0]?.startVerse||t+1,endVerse:y[y.length-1]?.endVerse||t+1,segments:y,label:_.join(" & "),isDynamic:!0}},OA=(s={})=>{const t=A0(s),i=[];let r=1,l=1;s.planType==="custom"&&s.targetSurah&&(l=parseInt(s.targetSurah));let c=1;for(;r<=30;){let d=t;const p=[],y=[],_=l,A=c;let b=0;for(;d>0&&b<10;){b++;const N=js[l]||100,B=N-c+1,H=Math.min(d,B),Z=c+H-1,J=Il[l]||`Surah ${l}`;p.push({surah:l,startVerse:c,endVerse:Z,label:`${J} (${c}-${Z})`}),y.push(`${J} (${c}-${Z})`),d-=H,Z===N?(l===114?l=1:l++,c=1):c=Z+1}i.push({day:r,surah:_,startVerse:A,endVerse:p[p.length-1].endVerse,segments:p,label:y.join(" & ")}),r++}return i},Ll=()=>E.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"rgba(212, 175, 55, 0.08)",border:"1px solid rgba(212, 175, 55, 0.2)",borderRadius:"12px",textAlign:"center"},children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"12px"},children:E.jsx(oh,{size:24,color:"var(--primary)"})}),E.jsx("p",{style:{fontSize:"0.9rem",lineHeight:"1.6",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px",fontStyle:"italic"},children:'"Such a person as recites the Quran and masters it by heart, will be with the noble righteous scribes (in Heaven). And such a person exerts himself to learn the Quran by heart, and recites it with great difficulty, will have a double reward."'}),E.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"10px"},children:" Prophet Muhammad  [Sahih Bukhari: Book 6 - Volume 60, Hadith 459]"})]}),K_=({setView:s,user:t,onLogout:i})=>{const r=b0(t?.progress?.surah||1,t?.progress?.verseIndex||0,t?.settings);return E.jsxs("div",{className:"container",style:{paddingBottom:"100px"},children:[E.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 0",marginBottom:"20px"},children:[E.jsxs("div",{children:[E.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:"Al-Hafiz"}),E.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:["Welcome back, ",t?.firstName||t?.username]})]}),E.jsxs("div",{style:{display:"flex",gap:"10px"},children:[E.jsx("button",{onClick:()=>s("tutorial"),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},title:"Tutorial & Guide",children:E.jsx(WS,{size:20})}),E.jsx("button",{onClick:()=>s("settings"),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},title:"Settings",children:E.jsx(wm,{size:20})}),E.jsx("button",{onClick:i,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-muted)"},title:"Logout",children:E.jsx(dA,{size:20})})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"30px",marginBottom:"30px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"20px"},children:[E.jsxs("div",{children:[E.jsxs("h2",{style:{fontSize:"1.5rem",marginBottom:"5px"},children:["Assalamu Alaikum, ",t?.firstName||t?.username||"Hafiz"]}),E.jsxs("p",{style:{color:"var(--text-muted)"},children:["Continue your memorization of ",r?.label||"Surah Al-Fatiha"]})]}),E.jsxs("button",{className:"btn-primary",onClick:()=>s("memorize"),children:[E.jsx(S0,{size:20,fill:"black"})," Resume Session"]})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},children:[E.jsx("div",{style:{background:"rgba(16, 185, 129, 0.2)",padding:"10px",borderRadius:"10px"},children:E.jsx(Am,{color:"var(--accent)"})}),E.jsxs("div",{children:[E.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"2px"},children:"Current Goal"}),E.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:r?.label||"Surah Al-Fatiha"})]})]}),E.jsxs("div",{style:{marginBottom:"15px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[E.jsx("span",{children:"Daily Goal"}),E.jsxs("span",{style:{color:"var(--accent)"},children:[t?.progress?.percent||0,"%"]})]}),E.jsx("div",{style:{height:"8px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",overflow:"hidden"},children:E.jsx("div",{style:{width:`${t?.progress?.percent||0}%`,height:"100%",background:"var(--accent)"}})})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",paddingBottom:"10px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[E.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Today's Goal"}),E.jsx("span",{style:{fontWeight:"bold",color:"white"},children:(()=>{const l=t?.progress?.dailyMemorized||[],c=new Date().toDateString(),p=t?.lastActivityDate===c?l.length:0,y=t?.settings?.planType==="custom"?parseInt(t?.settings?.versesPerDay)||5:Math.max(1,Math.ceil(6236/((parseFloat(t?.settings?.targetDuration)||2)*365)));return`${p} / ${y}`})()})]}),t?.progress?.planProgress!==void 0&&E.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[E.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Plan Segment"}),E.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--primary)"},children:[t.progress.planProgress,"%"]})]}),E.jsx("div",{style:{height:"6px",background:"rgba(255,255,255,0.05)",borderRadius:"3px",overflow:"hidden"},children:E.jsx("div",{style:{width:`${t.progress.planProgress}%`,height:"100%",background:"var(--primary)"}})})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[E.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Total Memorized"}),E.jsxs("span",{style:{fontWeight:"bold",color:"white"},children:[(()=>{const l=t?.progress?.memorized||{};let c=0;return Object.values(l).forEach(d=>{c+=d.length}),c})()," Verses"]})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},children:[E.jsx("div",{style:{background:"rgba(212, 175, 55, 0.2)",padding:"10px",borderRadius:"10px"},children:E.jsx(FS,{color:"var(--primary)"})}),E.jsx("h3",{style:{fontSize:"1.2rem"},children:"Current Streak"})]}),E.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--primary)"},children:[t?.streak||0," ",E.jsx("span",{style:{fontSize:"1rem",color:"var(--text-muted)",fontWeight:"normal"},children:"Days"})]}),E.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Masha'Allah! Keep it up."})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},children:[E.jsx("div",{style:{background:"rgba(59, 130, 246, 0.2)",padding:"10px",borderRadius:"10px"},children:E.jsx(YS,{color:"#3B82F6"})}),E.jsx("h3",{style:{fontSize:"1.2rem"},children:"Memorization Plan"})]}),E.jsxs("p",{style:{marginBottom:"15px"},children:["Target: ",(()=>{const l=t?.settings?.targetDuration||1;return l<1?`${Math.round(l*12)} Months`:`${l} Year${l>1?"s":""}`})()]}),E.jsx("button",{className:"btn-outline",style:{width:"100%",justifyContent:"center"},onClick:()=>s("plan"),children:"View Full Plan"})]})]}),E.jsx(Ll,{})]})},VA=({setView:s,user:t,updateUserProgress:i})=>{const[r,l]=xt.useState([]),[c,d]=xt.useState(t?.progress?.verseIndex||0),[p,y]=xt.useState(null),[_,A]=xt.useState(!1),[b,N]=xt.useState(""),[B,H]=xt.useState(!0),[Z,J]=xt.useState(null),[it,st]=xt.useState(()=>JSON.parse(localStorage.getItem("showTranslation"))??!0),[lt,St]=xt.useState(()=>JSON.parse(localStorage.getItem("showTransliteration"))??!0),[Dt,Lt]=xt.useState(""),[D,w]=xt.useState(""),I=xt.useRef([]);xt.useEffect(()=>{localStorage.setItem("showTranslation",JSON.stringify(it)),localStorage.setItem("showTransliteration",JSON.stringify(lt))},[it,lt]),xt.useEffect(()=>(V(),()=>{I.current.forEach(et=>{et&&et.pause()})}),[t?.progress?.surah,t?.progress?.verseIndex,t?.settings?.reciterId,t?.settings?.translationId,t?.settings?.versesDisplayMode,t?.settings?.versesToDisplay]);const V=async()=>{H(!0),J(null);try{const et=t?.progress?.surah||1;let ht=t?.settings?.reciterId||7;const yt=t?.settings?.translationId||85,x=ht===999;x&&(ht=7);const tt=b0(et,c,t.settings).segments||[{surah:et,startVerse:1,endVerse:7}];let at=[];for(const mt of tt){const It=await fetch(`https://api.quran.com/api/v4/verses/by_chapter/${mt.surah}?language=en&translations=${yt},57&audio=${ht}&page=1&per_page=300&fields=text_uthmani,text_imlaei_simple`);if(!It.ok)throw new Error(`Failed to fetch verses for Surah ${mt.surah}`);const ne=(await It.json()).verses.filter(tn=>{const ti=parseInt(tn.verse_key.split(":")[1]);return ti>=mt.startVerse&&ti<=mt.endVerse}).map(tn=>{const ar=(tn.translations?.find(ie=>ie.resource_id===yt)?.text||"Translation not available").replace(/<[^>]*>/g,""),Mi=(tn.translations?.find(ie=>ie.resource_id===57)?.text||"").replace(/<[^>]*>/g,"");let or=tn.audio?.url,lr=!1;if(x){const ie=String(mt.surah).padStart(3,"0"),pe=String(tn.verse_key.split(":")[1]).padStart(3,"0");or=`https://everyayah.com/data/Ghamadi_40kbps/${ie}${pe}.mp3`,lr=!0}return{...tn,audio_url:or,is_full_url:lr,translation:ar,transliteration:Mi}});at=[...at,...ne]}l(at),Lt(t?.settings?.reciterName||"Mishary Rashid Alafasy"),w(t?.settings?.translationName||"Sahih International")}catch(et){console.error("Error fetching verses:",et),J("Failed to load verses. Please check your connection.")}finally{H(!1)}},O=et=>{const ht=I.current[et];ht&&(I.current.forEach((yt,x)=>{yt&&x!==et&&(yt.pause(),yt.currentTime=0)}),p===et?(ht.pause(),y(null)):(ht.play(),y(et)))},z=et=>{const ht=t?.progress?.surah||1,yt=t?.progress?.memorized||{},x=yt[ht]||[];let G;x.includes(et)?G=x.filter(he=>he!==et):G=[...x,et];const tt={...yt,[ht]:G},at=new Date().toDateString(),Et=t?.lastActivityDate!==at,It={memorized:tt,streak:Et?(t.streak||0)+1:t.streak,lastActivityDate:at};i(It),N(x.includes(et)?"Unmarked!":"Marked as memorized!"),setTimeout(()=>N(""),2e3)},R=()=>{const et=t?.settings?.versesDisplayMode||"specific",ht=t?.progress?.surah||1;if(et==="entireSurah")ht>1&&i({surah:ht-1,verseIndex:0});else{const yt=parseInt(t?.settings?.versesToDisplay)||5;let x=ht,G=c-yt;for(;G<0;)if(x>1){x--;const tt=js[x]||300;G+=tt}else{G=0;break}d(G),i({surah:x,verseIndex:G})}},Xt=()=>{const et=t?.settings?.versesDisplayMode||"specific",ht=t?.progress?.surah||1;if(et==="entireSurah")ht<114&&i({surah:ht+1,verseIndex:0});else{const yt=parseInt(t?.settings?.versesToDisplay)||5;let x=ht,G=c+yt;for(;;){const tt=js[x]||300;if(G<tt)break;if(G-=tt,x<114)x++;else{G=tt-1;break}}d(G),i({surah:x,verseIndex:G})}},me=()=>{const et=t?.progress?.surah||1,ht=t?.progress?.memorized||{},yt=ht[et]||[],x=[];if(r.forEach(G=>{const tt=parseInt(G.verse_key.split(":")[1])-1;yt.includes(tt)||x.push(tt)}),x.length>0){const G=[...yt,...x],tt={...ht,[et]:G},at=new Date().toDateString(),Et=t?.lastActivityDate!==at,It={memorized:tt,streak:Et?(t.streak||0)+1:t.streak,lastActivityDate:at};i(It),setTimeout(()=>{Xt()},500)}else setTimeout(()=>{Xt()},500)};if(B)return E.jsx("div",{className:"flex-center",style:{height:"100vh"},children:"Loading verses..."});if(Z)return E.jsxs("div",{className:"flex-center",style:{height:"100vh",flexDirection:"column",gap:"20px"},children:[E.jsx("p",{className:"text-danger",children:Z}),E.jsx("button",{className:"btn-primary",onClick:V,children:"Retry"})]});const Q=t?.progress?.surah||1,rt=t?.progress?.memorized?.[Q]||[];return E.jsxs("div",{className:"container",style:{height:"100vh",display:"flex",flexDirection:"column"},children:[E.jsxs("div",{style:{padding:"20px 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("button",{onClick:()=>s("home"),style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:E.jsx(bm,{})}),E.jsxs("div",{style:{display:"flex",gap:"10px"},children:[E.jsx("button",{onClick:()=>st(!it),style:{background:"none",border:"none",color:it?"var(--accent)":"var(--text-muted)",cursor:"pointer"},title:"Toggle Translation",children:E.jsx(lA,{size:24})}),E.jsx("button",{onClick:()=>St(!lt),style:{background:"none",border:"none",color:lt?"var(--accent)":"var(--text-muted)",cursor:"pointer"},title:"Toggle Transliteration",children:E.jsx(xA,{size:24})}),E.jsx("button",{onClick:()=>A(!_),style:{background:"none",border:"none",color:_?"var(--accent)":"var(--text-muted)",cursor:"pointer"},title:"Toggle Hide/Show",children:_?E.jsx(rA,{size:24}):E.jsx(oh,{size:24})})]})]}),E.jsxs("div",{className:"glass-panel",style:{flex:1,display:"flex",flexDirection:"column",padding:"20px",paddingBottom:"80px",overflowY:"auto"},children:[(Dt||D)&&E.jsxs("div",{style:{width:"100%",padding:"12px",background:"rgba(212, 175, 55, 0.08)",borderRadius:"8px",marginBottom:"20px",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap",fontSize:"0.85rem",color:"white",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[Dt&&E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--text-muted)",marginRight:"5px"},children:"Reciter:"}),E.jsx("span",{style:{color:"var(--primary)"},children:Dt})]}),D&&E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--text-muted)",marginRight:"5px"},children:"Translation:"}),E.jsx("span",{style:{color:"var(--accent)"},children:D})]})]}),E.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[E.jsx("h2",{style:{color:"var(--accent)",marginBottom:"10px"},children:Il[Q]||`Surah ${Q}`}),t?.settings?.versesDisplayMode!=="entireSurah"&&r.length>0&&E.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"10px"},children:["Displaying ",r.length," verse",r.length!==1?"s":"",r[0]&&` (${r[0].verse_key.split(":")[1]}-${r[r.length-1].verse_key.split(":")[1]} of ${js[Q]})`]}),t?.settings?.versesDisplayMode==="entireSurah"&&r.length>0&&E.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"10px"},children:["Entire Surah (",r.length," verses)"]})]}),b&&E.jsxs("div",{style:{position:"fixed",top:"100px",left:"50%",transform:"translateX(-50%)",background:"rgba(16, 185, 129, 0.2)",padding:"10px 20px",borderRadius:"20px",color:"#10B981",display:"flex",alignItems:"center",gap:"10px",zIndex:1e3},children:[b.includes("Unmarked")?E.jsx($S,{size:16}):E.jsx(zd,{size:16}),b]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"25px"},children:r.map((et,ht)=>{const yt=parseInt(et.verse_key.split(":")[1])-1,x=rt.includes(yt),G=p===ht;return E.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"20px",position:"relative"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[E.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--accent)",fontWeight:"bold"},children:["Verse ",et.verse_key.split(":")[1]]}),E.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[E.jsx("button",{onClick:()=>O(ht),style:{background:"none",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:G?"var(--primary)":"white"},children:G?E.jsx(yA,{size:18}):E.jsx(S0,{size:18})}),E.jsx("button",{onClick:()=>z(yt),style:{background:"none",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:x?"var(--accent)":"rgba(255, 255, 255, 0.5)"},children:x?E.jsx(T0,{size:18}):E.jsx(zd,{size:18})})]})]}),E.jsx("p",{style:{fontSize:r.length>10?"1.8rem":"2.2rem",lineHeight:"1.8",marginBottom:"15px",filter:_?"blur(12px)":"none",transition:"filter 0.5s ease",userSelect:_?"none":"auto",fontFamily:"'Amiri', serif",textAlign:"right",direction:"rtl"},children:et.text_uthmani}),lt&&E.jsx("p",{style:{fontSize:r.length>10?"0.9rem":"1rem",color:"var(--text-muted)",marginBottom:"12px",fontStyle:"italic",filter:_?"blur(8px)":"none",transition:"filter 0.5s ease",userSelect:_?"none":"auto"},children:et.transliteration}),it&&E.jsx("p",{style:{fontSize:r.length>10?"0.95rem":"1.1rem",marginBottom:"0",filter:_?"blur(8px)":"none",transition:"filter 0.5s ease",userSelect:_?"none":"auto",lineHeight:"1.6"},children:et.translation}),et.audio_url&&E.jsx("audio",{ref:tt=>I.current[ht]=tt,src:et.is_full_url?et.audio_url:`https://verses.quran.com/${et.audio_url}`,onEnded:()=>y(null)})]},et.id)})}),E.jsxs("div",{style:{display:"flex",gap:"20px",width:"100%",justifyContent:"center",marginTop:"30px",paddingTop:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[E.jsxs("button",{className:"btn-outline",onClick:R,disabled:t?.settings?.versesDisplayMode==="entireSurah"?(t?.progress?.surah||1)<=1:c===0,style:{opacity:(t?.settings?.versesDisplayMode==="entireSurah"?(t?.progress?.surah||1)<=1:c===0)?.5:1},children:[E.jsx(SA,{size:20})," Prev"]}),E.jsxs("button",{className:"btn-primary",onClick:me,children:["Mark Memorized ",E.jsx(zd,{size:20,style:{marginLeft:"5px"}})]}),E.jsxs("button",{className:"btn-outline",onClick:Xt,disabled:t?.settings?.versesDisplayMode==="entireSurah"?(t?.progress?.surah||1)>=114:c>=js[t?.progress?.surah||1]-1,style:{opacity:(t?.settings?.versesDisplayMode==="entireSurah"?(t?.progress?.surah||1)>=114:c>=js[t?.progress?.surah||1]-1)?.5:1},children:["Skip ",E.jsx(IA,{size:20,style:{marginLeft:"5px"}})]})]})]}),E.jsx(Ll,{})]})},kA=({user:s,setView:t,updateUserProgress:i})=>{const r=OA(s?.settings),l=(p,y,_)=>{const A=s?.progress?.surah||1,b=s?.progress?.verseIndex||0,N=s?.progress?.memorized||{};let B=0,H=0;const Z=p.segments||[{surah:p.surah,startVerse:p.startVerse,endVerse:p.endVerse}];if(Z.forEach(it=>{const st=N[it.surah]||[];H+=it.endVerse-it.startVerse+1;for(let lt=it.startVerse-1;lt<it.endVerse;lt++)st.includes(lt)&&B++}),B===H)return"completed";let J=!1;if(Z.forEach(it=>{if(A===it.surah){const st=b+1;st>=it.startVerse&&st<=it.endVerse&&(J=!0)}}),J)return"current";if(y>0){const it=_[y-1],st=l(it,y-1,_);if(st==="completed"||st==="current")return"current"}else return"current";return"locked"},c=r.map((p,y)=>({...p,task:p.label,status:l(p,y,r)})),d=p=>{if(!t||!i)return;console.log("Starting day:",p.day,"Surah:",p.surah,"Verses:",p.startVerse,"-",p.endVerse);const y=p.startVerse-1;i({surah:p.surah,verseIndex:y,surahName:p.label}),setTimeout(()=>{t("memorize")},100)};return E.jsxs("div",{className:"container",style:{paddingBottom:"100px",maxWidth:"800px"},children:[E.jsxs("header",{style:{marginBottom:"40px",textAlign:"center"},children:[E.jsx("h2",{style:{fontSize:"2rem",color:"var(--primary)"},children:"Your Memorization Plan"}),E.jsx("p",{style:{color:"var(--text-muted)"},children:"Consistent small steps lead to great journeys."})]}),E.jsx("div",{className:"glass-panel",style:{padding:"20px"},children:c.map((p,y)=>E.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"20px",borderBottom:y!==c.length-1?"1px solid rgba(255,255,255,0.05)":"none",opacity:p.status==="locked"?.5:1},children:[E.jsxs("div",{style:{marginRight:"20px"},children:[p.status==="completed"&&E.jsx(T0,{color:"var(--accent)",size:28}),p.status==="current"&&E.jsx(nA,{color:"var(--primary)",size:28,fill:"rgba(212, 175, 55, 0.2)"}),p.status==="locked"&&E.jsx(Xd,{color:"var(--text-muted)",size:24})]}),E.jsxs("div",{style:{flex:1},children:[E.jsxs("h3",{style:{fontSize:"1.2rem",marginBottom:"4px"},children:["Day ",p.day]}),E.jsx("p",{style:{color:"var(--text-muted)"},children:p.task})]}),p.status==="current"&&E.jsx("button",{className:"btn-primary",style:{padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>d(p),children:"Start"})]},y))}),E.jsx(Ll,{})]})},zA=({setView:s,user:t,updateUser:i})=>{const[r,l]=xt.useState(t?.settings||{targetDuration:1,reciterId:7,translationId:85,memorizationMethod:"standard"}),[c,d]=xt.useState([]),[p,y]=xt.useState([]),[_,A]=xt.useState(!1);xt.useEffect(()=>{(async()=>{try{const it=(await(await fetch("https://api.quran.com/api/v4/resources/recitations?language=en")).json()).recitations||[],st={id:999,reciter_name:"Saad Al Ghamdi",style:"Murattal"};d([...it,st]);const St=await(await fetch("https://api.quran.com/api/v4/resources/translations?language=en")).json();y(St.translations||[])}catch(Z){console.error("Error fetching settings data:",Z)}})()},[]);const b=(H,Z)=>{l(J=>({...J,[H]:Z}))},N=async()=>{const H=c.find(st=>st.id===r.reciterId),Z=p.find(st=>st.id===r.translationId),J={...r,reciterName:H?.reciter_name||"Unknown Reciter",translationName:Z?.name||"Unknown Translation",targetSurah:r.planType==="custom"?r.targetSurah||1:r.targetSurah,versesPerDay:parseInt(r.versesPerDay)||5,versesToDisplay:parseInt(r.versesToDisplay)||5,versesDisplayMode:r.versesDisplayMode||"specific"},it={settings:J};if(console.log("Saving settings...",J),J.planType==="custom"){const st=parseInt(J.targetSurah),lt=t?.progress?.surah||1;console.log(`Custom Plan Check: Target=${st}, Current=${lt}`),!isNaN(st)&&st!==lt&&(console.log("Updating progress to new Surah:",st),it.surah=st,it.verseIndex=0,it.surahName=Il[st])}await i(it),A(!0),setTimeout(()=>{A(!1),s("home")},1e3)},B={color:"black"};return E.jsxs("div",{className:"container",style:{padding:"20px",maxWidth:"600px",margin:"0 auto"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[E.jsx("button",{onClick:()=>s("home"),style:{background:"none",border:"none",color:"white",cursor:"pointer",marginRight:"15px"},children:E.jsx(bm,{size:24})}),E.jsxs("h2",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[E.jsx(wm,{size:24})," Settings"]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[(t?.settings?.reciterName||t?.settings?.translationName)&&E.jsxs("div",{style:{marginBottom:"30px",paddingBottom:"20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[E.jsx("h3",{style:{fontSize:"1rem",color:"white",marginBottom:"12px",fontWeight:"600"},children:"Currently Selected"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[t?.settings?.reciterName&&E.jsxs("div",{style:{fontSize:"0.9rem",color:"white"},children:[E.jsx("span",{style:{color:"var(--text-muted)",marginRight:"8px"},children:"Reciter:"}),E.jsx("span",{style:{color:"var(--primary)"},children:t.settings.reciterName})]}),t?.settings?.translationName&&E.jsxs("div",{style:{fontSize:"0.9rem",color:"white"},children:[E.jsx("span",{style:{color:"var(--text-muted)",marginRight:"8px"},children:"Translation:"}),E.jsx("span",{style:{color:"var(--accent)"},children:t.settings.translationName})]})]})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Memorization Plan Type"}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[E.jsx("button",{onClick:()=>b("planType","duration"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.planType!=="custom"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.planType!=="custom"?"black":"white",cursor:"pointer"},children:"Duration Based"}),E.jsx("button",{onClick:()=>b("planType","custom"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.planType==="custom"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.planType==="custom"?"black":"white",cursor:"pointer"},children:"Custom Plan"})]}),r.planType==="custom"?E.jsxs("div",{style:{animation:"fadeIn 0.3s ease-out"},children:[E.jsxs("div",{style:{marginBottom:"15px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Start from Surah"}),E.jsx("select",{value:r.targetSurah||1,onChange:H=>b("targetSurah",Number(H.target.value)),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"},children:Object.entries(Il).map(([H,Z])=>E.jsxs("option",{value:H,style:{color:"black"},children:[H,". ",Z]},H))})]}),E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Verses per Day"}),E.jsx("input",{type:"number",min:"1",max:"286",value:r.versesPerDay===void 0||r.versesPerDay===null?5:r.versesPerDay,onChange:H=>b("versesPerDay",H.target.value===""?"":H.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"}})]})]}):E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Target Duration"}),E.jsxs("select",{value:r.targetDuration,onChange:H=>b("targetDuration",H.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"},children:[E.jsx("option",{style:{color:"black"},value:.25,children:"3 Months"}),E.jsx("option",{style:{color:"black"},value:.5,children:"6 Months"}),E.jsx("option",{style:{color:"black"},value:.75,children:"9 Months"}),E.jsx("option",{style:{color:"black"},value:1,children:"1 Year"}),E.jsx("option",{style:{color:"black"},value:1.5,children:"1.5 Years"}),E.jsx("option",{style:{color:"black"},value:2,children:"2 Years"}),E.jsx("option",{style:{color:"black"},value:3,children:"3 Years"}),E.jsx("option",{style:{color:"black"},value:5,children:"5 Years"})]}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"5px"},children:"Adjusts the pace of your daily memorization plan."})]})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Learning Style"}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[E.jsx("button",{onClick:()=>b("memorizationMethod","standard"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.memorizationMethod==="standard"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.memorizationMethod==="standard"?"black":"white",cursor:"pointer"},children:"Standard"}),E.jsx("button",{onClick:()=>b("memorizationMethod","6446"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.memorizationMethod==="6446"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.memorizationMethod==="6446"?"black":"white",cursor:"pointer"},children:"6446 Method"})]}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:"1.4"},children:r.memorizationMethod==="6446"?"The 6-4-4-6 method: Read 6x (looking), Recite 4x (memory), Read 4x (looking), Recite 6x (memory).":"Standard mode: Read, listen, and repeat at your own pace until memorized."})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Verses Display Mode"}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[E.jsx("button",{onClick:()=>b("versesDisplayMode","specific"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.versesDisplayMode!=="entireSurah"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.versesDisplayMode!=="entireSurah"?"black":"white",cursor:"pointer"},children:"Specific Number"}),E.jsx("button",{onClick:()=>b("versesDisplayMode","entireSurah"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.versesDisplayMode==="entireSurah"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.versesDisplayMode==="entireSurah"?"black":"white",cursor:"pointer"},children:"Entire Surah"})]}),r.versesDisplayMode!=="entireSurah"&&E.jsxs("div",{style:{animation:"fadeIn 0.3s ease-out"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Number of Verses to Display"}),E.jsx("input",{type:"number",min:"1",max:"286",value:r.versesToDisplay===void 0||r.versesToDisplay===null?5:r.versesToDisplay,onChange:H=>b("versesToDisplay",H.target.value===""?"":H.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"}}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"5px"},children:"Number of verses to work with in each session"})]}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:"1.4",marginTop:"10px"},children:r.versesDisplayMode==="entireSurah"?"Display all verses of the current Surah for comprehensive memorization.":"Display a specific number of verses to focus on smaller sections."})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Preferred Reciter"}),E.jsx("select",{value:r.reciterId,onChange:H=>b("reciterId",Number(H.target.value)),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"},children:c.length>0?c.map(H=>E.jsxs("option",{style:B,value:H.id,children:[H.reciter_name," ",H.style?`(${H.style})`:""]},H.id)):E.jsxs(E.Fragment,{children:[E.jsx("option",{style:B,value:7,children:"Mishary Rashid Alafasy"}),E.jsx("option",{style:B,value:2,children:"AbdulBaset AbdulSamad"})]})})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Translation Language"}),E.jsx("select",{value:r.translationId,onChange:H=>b("translationId",Number(H.target.value)),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"},children:p.length>0?p.map(H=>E.jsxs("option",{style:B,value:H.id,children:[H.name," (",H.language_name,")"]},H.id)):E.jsxs(E.Fragment,{children:[E.jsx("option",{style:B,value:85,children:"Sahih International (English)"}),E.jsx("option",{style:B,value:131,children:"The Clear Quran (English)"})]})})]}),E.jsxs("button",{className:"btn-primary",onClick:N,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[E.jsx(bA,{size:20})," Save Settings"]})]}),_&&E.jsx("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"var(--accent)",color:"black",padding:"10px 20px",borderRadius:"20px",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",animation:"fadeIn 0.3s ease-out"},children:"Settings Saved!"}),E.jsx(Ll,{})]})},PA=({setView:s})=>E.jsxs("div",{className:"container",style:{padding:"20px",maxWidth:"800px",margin:"0 auto",paddingBottom:"100px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[E.jsx("button",{onClick:()=>s("home"),style:{background:"none",border:"none",color:"white",cursor:"pointer",marginRight:"15px"},children:E.jsx(bm,{size:24})}),E.jsxs("h2",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[E.jsx(oh,{size:24})," App Tutorial & Guide"]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"30px",marginBottom:"30px"},children:[E.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"15px",color:"var(--primary)"},children:"Purpose of Al-Hafiz"}),E.jsx("p",{style:{lineHeight:"1.6",color:"var(--text-muted)",marginBottom:"20px"},children:"Al-Hafiz is your dedicated companion for Quran memorization. Whether you are starting your journey or revising, this application is designed to help you memorize the Holy Quran systematically and effectively. It adapts to your pace, tracks your progress, and provides structured methods to ensure retention."}),E.jsx("p",{style:{lineHeight:"1.6",color:"var(--text-muted)"},children:"Our goal is to make the noble task of Hifz accessible and manageable for everyone, regardless of their schedule or prior experience."})]}),E.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"20px",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"10px"},children:"How to Use Al-Hafiz"}),E.jsx("div",{className:"glass-panel",style:{padding:"25px",marginBottom:"30px"},children:E.jsxs("ol",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.8"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Configure Your Settings:"})," Start by visiting the Settings page to choose your memorization plan, learning style, and preferred reciter."]}),E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Start a Session:"})," On the Home screen, click ",E.jsx("strong",{children:'"Resume Session"'}),". This will take you to your daily verses."]}),E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Memorize:"})," Follow the on-screen instructions. You can listen to the recitation, read the verses, and toggle the translation."]}),E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Complete Your Daily Goal:"})," Once you are confident, mark the session as complete. Your progress and streak will update automatically."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"Track Progress:"})," Check the Home dashboard to see your total memorized verses, current streak, and progress towards your completion goal."]})]})}),E.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"20px",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"10px"},children:"Understanding the Settings"}),E.jsxs("div",{style:{display:"grid",gap:"20px"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[E.jsx(Am,{size:24,color:"var(--accent)"}),E.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Memorization Plan Type"})]}),E.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"15px",fontSize:"0.95rem"},children:"Choose how you want to structure your memorization journey."}),E.jsxs("ul",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.6"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Duration Based:"})," Ideal if you have a deadline. Select a timeframe (e.g., 1 Year, 2 Years), and the app will calculate how many verses you need to memorize daily to meet that goal."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"Custom Plan:"})," Perfect for flexibility. You decide exactly how many verses to memorize per day and which Surah to start from."]})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[E.jsx(cA,{size:24,color:"var(--primary)"}),E.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Learning Style"})]}),E.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"15px",fontSize:"0.95rem"},children:"Select the method that best suits your learning habits."}),E.jsxs("ul",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.6"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Standard:"})," A flexible approach where you read, listen, and repeat verses at your own pace until you feel confident."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"6446 Method:"})," A structured, proven technique for strong retention:",E.jsx("br",{}),"1. Read the verse ",E.jsx("strong",{children:"6 times"})," while looking.",E.jsx("br",{}),"2. Recite it ",E.jsx("strong",{children:"4 times"})," from memory.",E.jsx("br",{}),"3. Read it ",E.jsx("strong",{children:"4 times"})," while looking again.",E.jsx("br",{}),"4. Recite it ",E.jsx("strong",{children:"6 times"})," from memory."]})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[E.jsx(wm,{size:24,color:"#3B82F6"}),E.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Verses Display Mode"})]}),E.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"15px",fontSize:"0.95rem"},children:"Control how much content you see on the screen during your session."}),E.jsxs("ul",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.6"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Specific Number:"})," Focuses your attention by showing only a small set of verses (e.g., 5 verses) at a time. Great for avoiding overwhelm."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"Entire Surah:"})," Displays the full Surah. Useful for context and revising larger sections."]})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[E.jsx(pA,{size:24,color:"#EC4899"}),E.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Reciter & Translation"})]}),E.jsxs("ul",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.6"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Preferred Reciter:"})," Choose from a list of world-renowned Qaris. Listening to a reciter helps with proper pronunciation (Tajweed) and memorization."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"Translation Language:"})," Select your preferred language to understand the meaning of the verses you are memorizing, which aids in retention and contemplation (Tadabbur)."]})]})]})]}),E.jsx(Ll,{})]}),LA=()=>{};var X_={};const w0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},UA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let N=(p&15)<<2|_>>6,B=_&63;y||(B=64,d||(N=64)),r.push(i[A],i[b],i[N],i[B])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(w0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):UA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new jA;const N=c<<2|p>>4;if(r.push(N),_!==64){const B=p<<4&240|_>>2;if(r.push(B),b!==64){const H=_<<6&192|b;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class jA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BA=function(s){const t=w0(s);return R0.encodeByteArray(t,!0)},Bc=function(s){return BA(s).replace(/\./g,"")},I0=function(s){try{return R0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qA=()=>HA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof X_>"u")return;const s=X_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},GA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&I0(s[1]);return t&&JSON.parse(t)},lh=()=>{try{return LA()||qA()||FA()||GA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},C0=s=>lh()?.emulatorHosts?.[s],QA=s=>{const t=C0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},x0=()=>lh()?.config,D0=s=>lh()?.[`_${s}`];class YA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function io(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(s){return(await fetch(s,{credentials:"include"})).ok}function KA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const El={};function XA(){const s={prod:[],emulator:[]};for(const t of Object.keys(El))El[t]?s.emulator.push(t):s.prod.push(t);return s}function $A(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let $_=!1;function M0(s,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||El[s]===t||El[s]||$_)return;El[s]=t;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=XA().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{$_=!0,d()},N}function A(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=$A(r),B=i("text"),H=document.getElementById(B)||document.createElement("span"),Z=i("learnmore"),J=document.getElementById(Z)||document.createElement("a"),it=i("preprendIcon"),st=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const lt=N.element;p(lt),A(J,Z);const St=_();y(st,it),lt.append(st,H,J,St),document.body.appendChild(lt)}c?(H.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function ZA(){const s=lh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nb(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ib(){return!ZA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rb(){try{return typeof indexedDB=="object"}catch{return!1}}function sb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const ab="FirebaseError";class sr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=ab,Object.setPrototypeOf(this,sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?ob(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new sr(l,p,r)}}function ob(s,t){return s.replace(lb,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const lb=/\{\$([^}]+)}/g;function ub(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function qs(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(J_(c)&&J_(d)){if(!qs(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function J_(s){return s!==null&&typeof s=="object"}function jl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ml(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function pl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function cb(s,t){const i=new hb(s,t);return i.subscribe.bind(i)}class hb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");fb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Pd(){}function We(s){return s&&s._delegate?s._delegate:s}class Fs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Us="[DEFAULT]";class db{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new YA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pb(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mb(s){return s===Us?void 0:s}function pb(s){return s.instantiationMode==="EAGER"}class gb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new db(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var kt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(kt||(kt={}));const yb={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},_b=kt.INFO,vb={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},Eb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=vb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rm{constructor(t){this.name=t,this._logLevel=_b,this._logHandler=Eb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const Tb=(s,t)=>t.some(i=>s instanceof i);let Z_,W_;function Sb(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ab(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,$d=new WeakMap,V0=new WeakMap,Ld=new WeakMap,Im=new WeakMap;function bb(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Kr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&O0.set(i,s)}).catch(()=>{}),Im.set(t,s),t}function wb(s){if($d.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});$d.set(s,t)}let Jd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return $d.get(s);if(t==="objectStoreNames")return s.objectStoreNames||V0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Kr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Rb(s){Jd=s(Jd)}function Ib(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Ud(this),t,...i);return V0.set(r,t.sort?t.sort():[t]),Kr(r)}:Ab().includes(s)?function(...t){return s.apply(Ud(this),t),Kr(O0.get(this))}:function(...t){return Kr(s.apply(Ud(this),t))}}function Cb(s){return typeof s=="function"?Ib(s):(s instanceof IDBTransaction&&wb(s),Tb(s,Sb())?new Proxy(s,Jd):s)}function Kr(s){if(s instanceof IDBRequest)return bb(s);if(Ld.has(s))return Ld.get(s);const t=Cb(s);return t!==s&&(Ld.set(s,t),Im.set(t,s)),t}const Ud=s=>Im.get(s);function xb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Kr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Kr(d.result),y.oldVersion,y.newVersion,Kr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Db=["get","getKey","getAll","getAllKeys","count"],Nb=["put","add","delete","clear"],jd=new Map;function tv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=Nb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Db.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return jd.set(t,c),c}Rb(s=>({...s,get:(t,i,r)=>tv(t,i)||s.get(t,i,r),has:(t,i)=>!!tv(t,i)||s.has(t,i)}));class Mb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ob(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Ob(s){return s.getComponent()?.type==="VERSION"}const Zd="@firebase/app",ev="0.14.6";const er=new Rm("@firebase/app"),Vb="@firebase/app-compat",kb="@firebase/analytics-compat",zb="@firebase/analytics",Pb="@firebase/app-check-compat",Lb="@firebase/app-check",Ub="@firebase/auth",jb="@firebase/auth-compat",Bb="@firebase/database",Hb="@firebase/data-connect",qb="@firebase/database-compat",Fb="@firebase/functions",Gb="@firebase/functions-compat",Qb="@firebase/installations",Yb="@firebase/installations-compat",Kb="@firebase/messaging",Xb="@firebase/messaging-compat",$b="@firebase/performance",Jb="@firebase/performance-compat",Zb="@firebase/remote-config",Wb="@firebase/remote-config-compat",t2="@firebase/storage",e2="@firebase/storage-compat",n2="@firebase/firestore",i2="@firebase/ai",r2="@firebase/firestore-compat",s2="firebase",a2="12.6.0";const Wd="[DEFAULT]",o2={[Zd]:"fire-core",[Vb]:"fire-core-compat",[zb]:"fire-analytics",[kb]:"fire-analytics-compat",[Lb]:"fire-app-check",[Pb]:"fire-app-check-compat",[Ub]:"fire-auth",[jb]:"fire-auth-compat",[Bb]:"fire-rtdb",[Hb]:"fire-data-connect",[qb]:"fire-rtdb-compat",[Fb]:"fire-fn",[Gb]:"fire-fn-compat",[Qb]:"fire-iid",[Yb]:"fire-iid-compat",[Kb]:"fire-fcm",[Xb]:"fire-fcm-compat",[$b]:"fire-perf",[Jb]:"fire-perf-compat",[Zb]:"fire-rc",[Wb]:"fire-rc-compat",[t2]:"fire-gcs",[e2]:"fire-gcs-compat",[n2]:"fire-fst",[r2]:"fire-fst-compat",[i2]:"fire-vertex","fire-js":"fire-js",[s2]:"fire-js-all"};const Hc=new Map,l2=new Map,tm=new Map;function nv(s,t){try{s.container.addComponent(t)}catch(i){er.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const t=s.name;if(tm.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,s);for(const i of Hc.values())nv(i,s);for(const i of l2.values())nv(i,s);return!0}function Cm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Pn(s){return s==null?!1:s.settings!==void 0}const u2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new Ul("app","Firebase",u2);class c2{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}const ro=a2;function k0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Wd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Xr.create("bad-app-name",{appName:String(l)});if(i||(i=x0()),!i)throw Xr.create("no-options");const c=Hc.get(l);if(c){if(qs(i,c.options)&&qs(r,c.config))return c;throw Xr.create("duplicate-app",{appName:l})}const d=new gb(l);for(const y of tm.values())d.addComponent(y);const p=new c2(i,r,d);return Hc.set(l,p),p}function z0(s=Wd){const t=Hc.get(s);if(!t&&s===Wd&&x0())return k0();if(!t)throw Xr.create("no-app",{appName:s});return t}function $r(s,t,i){let r=o2[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}$a(new Fs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const h2="firebase-heartbeat-database",f2=1,Cl="firebase-heartbeat-store";let Bd=null;function P0(){return Bd||(Bd=xb(h2,f2,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Cl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Xr.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function d2(s){try{const i=(await P0()).transaction(Cl),r=await i.objectStore(Cl).get(L0(s));return await i.done,r}catch(t){if(t instanceof sr)er.warn(t.message);else{const i=Xr.create("idb-get",{originalErrorMessage:t?.message});er.warn(i.message)}}}async function iv(s,t){try{const r=(await P0()).transaction(Cl,"readwrite");await r.objectStore(Cl).put(t,L0(s)),await r.done}catch(i){if(i instanceof sr)er.warn(i.message);else{const r=Xr.create("idb-set",{originalErrorMessage:i?.message});er.warn(r.message)}}}function L0(s){return`${s.name}!${s.options.appId}`}const m2=1024,p2=30;class g2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>p2){const l=v2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rv(),{heartbeatsToSend:i,unsentEntries:r}=y2(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return er.warn(t),""}}}function rv(){return new Date().toISOString().substring(0,10)}function y2(s,t=m2){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),sv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class _2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rb()?sb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await d2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function sv(s){return Bc(JSON.stringify({version:2,heartbeats:s})).length}function v2(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function E2(s){$a(new Fs("platform-logger",t=>new Mb(t),"PRIVATE")),$a(new Fs("heartbeat",t=>new g2(t),"PRIVATE")),$r(Zd,ev,s),$r(Zd,ev,"esm2020"),$r("fire-js","")}E2("");var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jr,U0;(function(){var s;function t(D,w){function I(){}I.prototype=w.prototype,D.F=w.prototype,D.prototype=new I,D.prototype.constructor=D,D.D=function(V,O,z){for(var R=Array(arguments.length-2),Xt=2;Xt<arguments.length;Xt++)R[Xt-2]=arguments[Xt];return w.prototype[O].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,I){I||(I=0);const V=Array(16);if(typeof w=="string")for(var O=0;O<16;++O)V[O]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=D.g[0],I=D.g[1],O=D.g[2];let z=D.g[3],R;R=w+(z^I&(O^z))+V[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=z+(O^w&(I^O))+V[1]+3905402710&4294967295,z=w+(R<<12&4294967295|R>>>20),R=O+(I^z&(w^I))+V[2]+606105819&4294967295,O=z+(R<<17&4294967295|R>>>15),R=I+(w^O&(z^w))+V[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(z^I&(O^z))+V[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=z+(O^w&(I^O))+V[5]+1200080426&4294967295,z=w+(R<<12&4294967295|R>>>20),R=O+(I^z&(w^I))+V[6]+2821735955&4294967295,O=z+(R<<17&4294967295|R>>>15),R=I+(w^O&(z^w))+V[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(z^I&(O^z))+V[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=z+(O^w&(I^O))+V[9]+2336552879&4294967295,z=w+(R<<12&4294967295|R>>>20),R=O+(I^z&(w^I))+V[10]+4294925233&4294967295,O=z+(R<<17&4294967295|R>>>15),R=I+(w^O&(z^w))+V[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(z^I&(O^z))+V[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=z+(O^w&(I^O))+V[13]+4254626195&4294967295,z=w+(R<<12&4294967295|R>>>20),R=O+(I^z&(w^I))+V[14]+2792965006&4294967295,O=z+(R<<17&4294967295|R>>>15),R=I+(w^O&(z^w))+V[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=w+(O^z&(I^O))+V[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=z+(I^O&(w^I))+V[6]+3225465664&4294967295,z=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(z^w))+V[11]+643717713&4294967295,O=z+(R<<14&4294967295|R>>>18),R=I+(z^w&(O^z))+V[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^z&(I^O))+V[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=z+(I^O&(w^I))+V[10]+38016083&4294967295,z=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(z^w))+V[15]+3634488961&4294967295,O=z+(R<<14&4294967295|R>>>18),R=I+(z^w&(O^z))+V[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^z&(I^O))+V[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=z+(I^O&(w^I))+V[14]+3275163606&4294967295,z=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(z^w))+V[3]+4107603335&4294967295,O=z+(R<<14&4294967295|R>>>18),R=I+(z^w&(O^z))+V[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(O^z&(I^O))+V[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=z+(I^O&(w^I))+V[2]+4243563512&4294967295,z=w+(R<<9&4294967295|R>>>23),R=O+(w^I&(z^w))+V[7]+1735328473&4294967295,O=z+(R<<14&4294967295|R>>>18),R=I+(z^w&(O^z))+V[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=w+(I^O^z)+V[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=z+(w^I^O)+V[8]+2272392833&4294967295,z=w+(R<<11&4294967295|R>>>21),R=O+(z^w^I)+V[11]+1839030562&4294967295,O=z+(R<<16&4294967295|R>>>16),R=I+(O^z^w)+V[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^z)+V[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=z+(w^I^O)+V[4]+1272893353&4294967295,z=w+(R<<11&4294967295|R>>>21),R=O+(z^w^I)+V[7]+4139469664&4294967295,O=z+(R<<16&4294967295|R>>>16),R=I+(O^z^w)+V[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^z)+V[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=z+(w^I^O)+V[0]+3936430074&4294967295,z=w+(R<<11&4294967295|R>>>21),R=O+(z^w^I)+V[3]+3572445317&4294967295,O=z+(R<<16&4294967295|R>>>16),R=I+(O^z^w)+V[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(I^O^z)+V[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=z+(w^I^O)+V[12]+3873151461&4294967295,z=w+(R<<11&4294967295|R>>>21),R=O+(z^w^I)+V[15]+530742520&4294967295,O=z+(R<<16&4294967295|R>>>16),R=I+(O^z^w)+V[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=w+(O^(I|~z))+V[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=z+(I^(w|~O))+V[7]+1126891415&4294967295,z=w+(R<<10&4294967295|R>>>22),R=O+(w^(z|~I))+V[14]+2878612391&4294967295,O=z+(R<<15&4294967295|R>>>17),R=I+(z^(O|~w))+V[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~z))+V[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=z+(I^(w|~O))+V[3]+2399980690&4294967295,z=w+(R<<10&4294967295|R>>>22),R=O+(w^(z|~I))+V[10]+4293915773&4294967295,O=z+(R<<15&4294967295|R>>>17),R=I+(z^(O|~w))+V[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~z))+V[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=z+(I^(w|~O))+V[15]+4264355552&4294967295,z=w+(R<<10&4294967295|R>>>22),R=O+(w^(z|~I))+V[6]+2734768916&4294967295,O=z+(R<<15&4294967295|R>>>17),R=I+(z^(O|~w))+V[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=w+(O^(I|~z))+V[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=z+(I^(w|~O))+V[11]+3174756917&4294967295,z=w+(R<<10&4294967295|R>>>22),R=O+(w^(z|~I))+V[2]+718787259&4294967295,O=z+(R<<15&4294967295|R>>>17),R=I+(z^(O|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const I=w-this.blockSize,V=this.C;let O=this.h,z=0;for(;z<w;){if(O==0)for(;z<=I;)l(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<w;)if(V[O++]=D.charCodeAt(z++),O==this.blockSize){l(this,V),O=0;break}}else for(;z<w;)if(V[O++]=D[z++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var I=D.length-8;I<D.length;++I)D[I]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)D[w++]=this.g[I]>>>V&255;return D};function c(D,w){var I=p;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=w(D)}function d(D,w){this.h=w;const I=[];let V=!0;for(let O=D.length-1;O>=0;O--){const z=D[O]|0;V&&z==w||(I[O]=z,V=!1)}this.g=I}var p={};function y(D){return-128<=D&&D<128?c(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return J(_(-D));const w=[];let I=1;for(let V=0;D>=I;V++)w[V]=D/I|0,I*=4294967296;return new d(w,0)}function A(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return J(A(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(w,8));let V=b;for(let z=0;z<D.length;z+=8){var O=Math.min(8,D.length-z);const R=parseInt(D.substring(z,z+O),w);O<8?(O=_(Math.pow(w,O)),V=V.j(O).add(_(R))):(V=V.j(I),V=V.add(_(R)))}return V}var b=y(0),N=y(1),B=y(16777216);s=d.prototype,s.m=function(){if(Z(this))return-J(this).m();let D=0,w=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if(Z(this))return"-"+J(this).toString(D);const w=_(Math.pow(D,6));var I=this;let V="";for(;;){const O=St(I,w).g;I=it(I,O.j(w));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(D);if(I=O,H(I))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function Z(D){return D.h==-1}s.l=function(D){return D=it(this,D),Z(D)?-1:H(D)?0:1};function J(D){const w=D.g.length,I=[];for(let V=0;V<w;V++)I[V]=~D.g[V];return new d(I,~D.h).add(N)}s.abs=function(){return Z(this)?J(this):this},s.add=function(D){const w=Math.max(this.g.length,D.g.length),I=[];let V=0;for(let O=0;O<=w;O++){let z=V+(this.i(O)&65535)+(D.i(O)&65535),R=(z>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);V=R>>>16,z&=65535,R&=65535,I[O]=R<<16|z}return new d(I,I[I.length-1]&-2147483648?-1:0)};function it(D,w){return D.add(J(w))}s.j=function(D){if(H(this)||H(D))return b;if(Z(this))return Z(D)?J(this).j(J(D)):J(J(this).j(D));if(Z(D))return J(this.j(J(D)));if(this.l(B)<0&&D.l(B)<0)return _(this.m()*D.m());const w=this.g.length+D.g.length,I=[];for(var V=0;V<2*w;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<D.g.length;O++){const z=this.i(V)>>>16,R=this.i(V)&65535,Xt=D.i(O)>>>16,me=D.i(O)&65535;I[2*V+2*O]+=R*me,st(I,2*V+2*O),I[2*V+2*O+1]+=z*me,st(I,2*V+2*O+1),I[2*V+2*O+1]+=R*Xt,st(I,2*V+2*O+1),I[2*V+2*O+2]+=z*Xt,st(I,2*V+2*O+2)}for(D=0;D<w;D++)I[D]=I[2*D+1]<<16|I[2*D];for(D=w;D<2*w;D++)I[D]=0;return new d(I,0)};function st(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function lt(D,w){this.g=D,this.h=w}function St(D,w){if(H(w))throw Error("division by zero");if(H(D))return new lt(b,b);if(Z(D))return w=St(J(D),w),new lt(J(w.g),J(w.h));if(Z(w))return w=St(D,J(w)),new lt(J(w.g),w.h);if(D.g.length>30){if(Z(D)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var I=N,V=w;V.l(D)<=0;)I=Dt(I),V=Dt(V);var O=Lt(I,1),z=Lt(V,1);for(V=Lt(V,2),I=Lt(I,2);!H(V);){var R=z.add(V);R.l(D)<=0&&(O=O.add(I),z=R),V=Lt(V,1),I=Lt(I,1)}return w=it(D,O.j(w)),new lt(O,w)}for(O=b;D.l(w)>=0;){for(I=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=_(I),R=z.j(w);Z(R)||R.l(D)>0;)I-=V,z=_(I),R=z.j(w);H(z)&&(z=N),O=O.add(z),D=it(D,R)}return new lt(O,D)}s.B=function(D){return St(this,D).h},s.and=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)&D.i(V);return new d(I,this.h&D.h)},s.or=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)|D.i(V);return new d(I,this.h|D.h)},s.xor=function(D){const w=Math.max(this.g.length,D.g.length),I=[];for(let V=0;V<w;V++)I[V]=this.i(V)^D.i(V);return new d(I,this.h^D.h)};function Dt(D){const w=D.g.length+1,I=[];for(let V=0;V<w;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new d(I,D.h)}function Lt(D,w){const I=w>>5;w%=32;const V=D.g.length-I,O=[];for(let z=0;z<V;z++)O[z]=w>0?D.i(z+I)>>>w|D.i(z+I+1)<<32-w:D.i(z+I);return new d(O,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,U0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Jr=d}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});var wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var j0,gl,B0,Nc,em,H0,q0,F0;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof wc=="object"&&wc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in v))break t;v=v[P]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,P,q){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[P].apply(S,nt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function H(u,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=P[nt]}else u.push(P)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function it(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const S=lt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var lt=new Z(()=>new St,u=>u.reset());class St{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Dt,Lt=!1,D=new st,w=()=>{const u=Promise.resolve(void 0);Dt=()=>{u.then(I)}};function I(){for(var u;u=it();){try{u.h.call(u.g)}catch(v){J(v)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Xt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(Xt,O),Xt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Xt.Z.h.call(this)},Xt.prototype.h=function(){Xt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),Q=0;function rt(u,m,v,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=P,this.key=++Q,this.da=this.fa=!1}function et(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ht(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function yt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(v in S)u[v]=S[v];for(let q=0;q<G.length;q++)v=G[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,S,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=Et(u,m,S,P);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!S,P),m.fa=v,u.push(m)),m};function mt(u,m){const v=m.type;if(v in u.g){var S=u.g[v],P=Array.prototype.indexOf.call(S,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(S,P,1),q&&(et(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Et(u,m,v,S){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return P}return-1}var It="closure_lm_"+(Math.random()*1e6|0),he={};function ne(u,m,v,S,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ne(u,m[q],v,S,P);return null}return v=lr(v),u&&u[me]?u.J(m,v,p(S)?!!S.capture:!1,P):tn(u,m,v,!1,S,P)}function tn(u,m,v,S,P,q){if(!m)throw Error("Invalid event type");const nt=p(P)?!!P.capture:!!P;let wt=Mi(u);if(wt||(u[It]=wt=new at(u)),v=wt.add(m,v,S,nt,q),v.proxy)return v;if(S=ti(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)z||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(Un(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ti(){function u(v){return m.call(u.src,u.listener,v)}const m=Ws;return u}function us(u,m,v,S,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)us(u,m[q],v,S,P);else S=p(S)?!!S.capture:!!S,v=lr(v),u&&u[me]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Et(m,v,S,P),v>-1&&(et(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Mi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,v,S,P)),(v=u>-1?m[u]:null)&&ar(v))}function ar(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[me])mt(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(Un(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=Mi(m))?(mt(v,u),v.h==0&&(v.src=null,m[It]=null)):et(u)}}}function Un(u){return u in he?he[u]:he[u]="on"+u}function Ws(u,m){if(u.da)u=!0;else{m=new Xt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&ar(u),u=v.call(S,m)}return u}function Mi(u){return u=u[It],u instanceof at?u:null}var or="__closure_events_fn_"+(Math.random()*1e9>>>0);function lr(u){return typeof u=="function"?u:(u[or]||(u[or]=function(m){return u.handleEvent(m)}),u[or])}function ie(){V.call(this),this.i=new at(this),this.M=this,this.G=null}b(ie,V),ie.prototype[me]=!0,ie.prototype.removeEventListener=function(u,m,v,S){us(this,u,m,v,S)};function pe(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var P=m;m=new O(S,u),tt(m,P)}P=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],P=ur(q,S,!0,m)&&P;if(q=m.g=u,P=ur(q,S,!0,m)&&P,P=ur(q,S,!1,m)&&P,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],P=ur(q,S,!1,m)&&P}ie.prototype.N=function(){if(ie.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)et(v[S]);delete u.g[m],u.h--}}this.G=null},ie.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},ie.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function ur(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,ye=nt.ha||nt.src;nt.fa&&mt(u.i,nt),P=wt.call(ye,S)!==!1&&P}}return P&&!S.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function $l(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){V.call(this),this.h=u,this.g={}}b(cs,V);var co=[];function ho(u){ht(u.g,function(m,v){this.g.hasOwnProperty(v)&&ar(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),ho(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cr=d.JSON.stringify,Mh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Wl(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){O.call(this,"d")}b(Ue,O);function bn(){O.call(this,"c")}b(bn,O);var ge={},tu=null;function ta(){return tu=tu||new ie}ge.Ia="serverreachability";function eu(u){O.call(this,ge.Ia,u)}b(eu,O);function ei(u){const m=ta();pe(m,new eu(m))}ge.STAT_EVENT="statevent";function hs(u,m){O.call(this,ge.STAT_EVENT,u),this.stat=m}b(hs,O);function Te(u){const m=ta();pe(m,new hs(m,u))}ge.Ja="timingevent";function ni(u,m){O.call(this,ge.Ja,u),this.size=m}b(ni,O);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Bn(){this.g=!0}Bn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,S,P,q){u.info(function(){if(u.g)if(q){var nt="",wt=q.split("&");for(let qt=0;qt<wt.length;qt++){var ye=wt[qt].split("=");if(ye.length>1){const oe=ye[0];ye=ye[1];const Cn=oe.split("_");nt=Cn.length>=2&&Cn[1]=="type"?nt+(oe+"="+ye+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+v+`
`+nt})}function nu(u,m,v,S,P,q,nt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+nt})}function ri(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(S?" "+S:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}Bn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<S.length;nt++)S[nt]=""}}}}return cr(q)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mo;function ms(){}b(ms,Zl),ms.prototype.g=function(){return new XMLHttpRequest},mo=new ms;function Oi(u){return encodeURIComponent(String(u))}function iu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Se={},ke={};function si(u,m,v){u.M=1,u.A=ps(be(m)),u.u=v,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),ai(u),u.B=be(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),sa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new qn,u.g=_u(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(co[0]=P.toString()),P=co);for(let q=0;q<P.length;q++){const nt=ne(v,P[q],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Qn(this.g),ye=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||wt!=4||ye==7||(ye==8||qt<=0?ei(3):ei(2)),oi(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,nu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var q=S;break e}}q=null}if(u=q)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,Te(12),mn(this),wn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=su(this,v),oe==ke){wt==4&&(this.m=4,Te(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Se){this.m=4,Te(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,oe,null),li(this,oe);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xo(nt),nt.P=!0,Te(11))}}else ri(this.i,this.l,v,null),li(this,v);wt==4&&mn(this),this.o&&!this.K&&(wt==4?mu(this.j,this):(this.o=!1,ai(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),mn(this),wn(this)}}}catch{}finally{}};function kh(u){if(!ru(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const S=m.length,P=Qn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?ke:(v=Number(m.substring(v,S)),isNaN(v)?Se:(S+=1,S+v>m.length?ke:(m=m.slice(S,S+v),u.C=S+v,m)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function ai(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(_(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ei(),Te(17)),mn(this),this.m=2,wn(this)):na(this,this.T-u)};function wn(u){u.j.I==0||u.K||mu(u.j,u)}function mn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ho(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),_r(v);else break t;Ss(v),Te(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(_(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&ca(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let qt=P[m];const oe=qt[0];if(!(oe<=v.K))if(v.K=oe,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Cn=qt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const yi=qt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Yn=qt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(S=1.5*Yn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Kn=u.g;if(Kn){const As=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var q=S.h;q.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(yo(q,q.h),q.h=null))}if(S.G){const ha=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(S.wa=ha,Qt(S.J,S.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var nt=u;if(S.na=yu(S,S.L?S.ba:null,S.W),nt.L){_o(S.h,nt);var wt=nt,ye=S.O;ye&&(wt.H=ye),wt.D&&(oi(wt),ai(wt)),S.g=nt}else fu(S);v.i.length>0&&pi(v)}else qt[0]!="stop"&&qt[0]!="close"||gi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?gi(v,7):Io(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ei(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function go(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function yo(u,m){u.g?u.g.add(m):u.h=m}function _o(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}po.prototype.cancel=function(){if(this.i=vo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function vo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let P,q=null;S>=0?(P=u[v].substring(0,S),q=u[v].substring(S+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,hr(this,u.u),this.h=u.h,Eo(this,cu(u.i)),this.m=u.m):u&&(m=String(u).match(au))?(this.l=!1,ze(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),hr(this,m[4]),this.h=hi(m[5]||"",!0),Eo(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new dr(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gs(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gs(m,ra,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gs(v,v.charAt(0)=="/"?To:ou,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gs(v,lu)),u.join("")},pn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)hr(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let nt=0;nt<P.length;){const wt=P[nt++];wt=="."?S&&nt==P.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&nt==P.length&&q.push("")):(q.push(wt),S=!0)}S=q.join("/")}else S=P}return v?m.h=S:v=u.i.toString()!=="",v?Eo(m,cu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new pn(u)}function ze(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Eo(u,m,v){m instanceof dr?(u.i=m,aa(u.i,u.l)):(v||(m=gs(m,fr)),u.i=new dr(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function ps(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,ou=/[#\?:]/g,To=/[#\?]/g,fr=/[#\?@]/g,lu=/#/g;function dr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=dr.prototype,s.add=function(u,m){an(this),this.i=null,u=mr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function uu(u,m){an(u),m=mr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return an(u),m=mr(u,m),u.g.has(m)}s.forEach=function(u,m){an(this),this.g.forEach(function(v,S){v.forEach(function(P){u.call(m,P,S,this)},this)},this)};function Ao(u,m){an(u);let v=[];if(typeof m=="string")So(u,m)&&(v=v.concat(u.g.get(mr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return an(this),this.i=null,u=mr(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ao(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,v){uu(u,m),v.length>0&&(u.i=null,u.g.set(mr(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const P=Oi(v);v=Ao(this,v);for(let q=0;q<v.length;q++){let nt=P;v[q]!==""&&(nt+="="+Oi(v[q])),u.push(nt)}}return this.i=u.join("&")};function cu(u){const m=new dr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function mr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,S){const P=S.toLowerCase();S!=P&&(uu(this,S),sa(this,P,v))},u)),u.j=m}function Fn(u,m){const v=new Bn;if(d.Image){const S=new Image;S.onload=A(Rn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=A(Rn,v,"TestLoadImage: error",!1,m,S),S.onabort=A(Rn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(Rn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function bo(u,m){const v=new Bn,S=new AbortController,P=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(P),q.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(v)}catch{}}function pr(){this.g=new Jl}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(fi,Zl),fi.prototype.g=function(){return new ys(this.i,this.h)};function ys(u,m){ie.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ys,ie),s=ys.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;oa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function oa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gr(this):Gn(this),this.readyState==3&&oa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,gr(this))},s.Na=function(u){this.g&&(this.response=u,gr(this))},s.ga=function(){this.g&&gr(this)};function gr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return ht(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function _s(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=In(v),typeof u=="string"?v!=null&&Oi(v):Qt(u,m,v))}function $t(u){ie.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,ie);var di=/^https?$/i,wo=["POST","PUT"];s=$t.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mo.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){vs(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)v.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wo,m,void 0)>=0)||S||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){vs(this,q)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ro(u),Vi(u)}function Ro(u){u.A||(u.A=!0,pe(u,"complete"),pe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,pe(this,"complete"),pe(this,"abort"),Vi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},s.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Qn(u)==4)setTimeout(u.Ca.bind(u),0);else if(pe(u,"readystatechange"),Qn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let nt=String(u.D).match(au)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),S=!di.test(nt?nt.toLowerCase():"")}v=S}if(v)pe(u,"complete"),pe(u,"success");else{u.o=6;try{var P=Qn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Ro(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||pe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Qn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var v=iu(u[S]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}yt(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function yr(u){this.za=0,this.i=[],this.j=new Bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new po(u&&u.concurrentRequestLimit),this.Ba=new pr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=yr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){Te(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=yu(this,null,this.W),pi(this)};function Io(u){if(la(u),u.I==3){var m=u.V++,v=be(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Ts(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=ps(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=_u(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}gu(u)}function _r(u){u.g&&(xo(u),u.g.cancel(),u.g=null)}function la(u){_r(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!go(u.h)&&!u.m){u.m=!0;var m=u.Ea;Dt||w(),Lt||(Dt(),Lt=!0),D.add(m,u),u.D=0}}function ua(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(_(u.Ea,u,m),pu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Hn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=x(q),tt(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=hu(this,P,m),v=be(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Ts(this,v),q&&(this.R?m="headers="+Oi(In(q))+"&"+m:this.u&&_s(v,this.u,q)),yo(this.h,P),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),P.U=!0,si(P,v,null)):si(P,v,m),this.I=2}}else this.I==3&&(u?Co(this,u):this.i.length==0||go(this.h)||Co(this))};function Co(u,m){var v;m?v=m.l:v=u.V++;const S=be(u.J);Qt(S,"SID",u.M),Qt(S,"RID",v),Qt(S,"AID",u.K),Ts(u,S),u.u&&u.o&&_s(S,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=hu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),yo(u.h,v),si(v,S,m)}function Ts(u,m){u.H&&ht(u.H,function(v,S){Qt(m,S,v)}),u.l&&ht({},function(v,S){Qt(m,S,v)})}function hu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var P=u.i;let wt=-1;for(;;){const ye=["count="+v];wt==-1?v>0?(wt=P[0].g,ye.push("ofs="+wt)):wt=0:ye.push("ofs="+wt);let qt=!0;for(let oe=0;oe<v;oe++){var q=P[oe].g;const Cn=P[oe].map;if(q-=wt,q<0)wt=Math.max(0,P[oe].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var nt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[yi,Yn]of nt){let Kn=Yn;p(Yn)&&(Kn=cr(Yn)),ye.push(q+yi+"="+encodeURIComponent(Kn))}}catch(yi){throw ye.push(q+"type="+encodeURIComponent("_badmap")),yi}}catch{S&&S(Cn)}}if(qt){nt=ye.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function fu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Dt||w(),Lt||(Dt(),Lt=!0),D.add(m,u),u.A=0}}function Ss(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(_(u.Da,u),pu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),_r(this),du(this))};function xo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function du(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&_s(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ps(be(m)),v.u=null,v.R=!0,ea(v,u)}s.Va=function(){this.C!=null&&(this.C=null,_r(this),Ss(this),Te(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function mu(u,m){var v=null;if(u.g==m){ca(u),xo(u),u.g=null;var S=2}else if(ci(u.h,m))v=m.G,_o(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;S=ta(),pe(S,new ni(S,v)),pi(u)}else fu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&ua(u,m)||S==2&&Ss(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function pu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const P=!S;S=new pn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(S,"https"),ps(S),P?Fn(S.toString(),v):bo(S.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),gu(u),la(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=vo(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function yu(u,m,v){var S=v instanceof pn?be(v):new pn(v);if(S.g!="")m&&(S.g=m+"."+S.g),hr(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new pn(null);S&&ze(q,S),m&&(q.g=m),P&&hr(q,P),v&&(q.h=v),S=q}return v=u.G,m=u.wa,v&&m&&Qt(S,v,m),Qt(S,"VER",u.ka),Ts(u,S),S}function _u(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new fi({ab:v})):new $t(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function vr(){}vr.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){ie.call(this),this.g=new yr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new zi(this)}b(nn,ie),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Io(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cr(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&pi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Io(this.g),delete this.g,nn.Z.N.call(this)};function Eu(u){Ue.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Eu,Ue);function Tu(){bn.call(this),this.status=1}b(Tu,bn);function zi(u){this.g=u}b(zi,vu),zi.prototype.ra=function(){pe(this.g,"a")},zi.prototype.qa=function(u){pe(this.g,new Eu(u))},zi.prototype.pa=function(u){pe(this.g,new Tu)},zi.prototype.oa=function(){pe(this.g,"b")},vr.prototype.createWebChannel=vr.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,F0=function(){return new vr},q0=function(){return ta()},H0=ge,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Nc=ds,fo.COMPLETE="complete",B0=fo,Wl.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",ie.prototype.listen=ie.prototype.J,gl=Wl,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,j0=$t}).apply(typeof wc<"u"?wc:typeof self<"u"?self:typeof window<"u"?window:{});const ov="@firebase/firestore",lv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let so="12.3.0";const Gs=new Rm("@firebase/firestore");function Ba(){return Gs.logLevel}function ot(s,...t){if(Gs.logLevel<=kt.DEBUG){const i=t.map(xm);Gs.debug(`Firestore (${so}): ${s}`,...i)}}function nr(s,...t){if(Gs.logLevel<=kt.ERROR){const i=t.map(xm);Gs.error(`Firestore (${so}): ${s}`,...i)}}function Ja(s,...t){if(Gs.logLevel<=kt.WARN){const i=t.map(xm);Gs.warn(`Firestore (${so}): ${s}`,...i)}}function xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function vt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,G0(s,r,i)}function G0(s,t,i){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw nr(r),new Error(r)}function Gt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||G0(t,l,r)}function bt(s,t){return s}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends sr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Q0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class S2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class A2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new Q0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class b2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new b2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new uv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=I2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function zt(s,t){return s<t?-1:s>t?1:0}function nm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Hd(l)===Hd(c)?zt(l,c):Hd(l)?1:-1}return zt(s.length,t.length)}const C2=55296,x2=57343;function Hd(s){const t=s.charCodeAt(0);return t>=C2&&t<=x2}function Za(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const cv="__name__";class Si{constructor(t,i,r){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&vt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const r=Si.isNumericId(t),l=Si.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class ue extends Si{construct(t,i,r){return new ue(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ft(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Si{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return D2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cv}static keyField(){return new Qe([cv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ft(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ft(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ft(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ue.fromString(t))}static fromName(t){return new pt(ue.fromString(t).popFirst(5))}static empty(){return new pt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ue(t.slice()))}}function N2(s,t,i){if(!i)throw new ft(W.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function M2(s,t,i,r){if(t===!0&&r===!0)throw new ft(W.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function hv(s){if(!pt.isDocumentKey(s))throw new ft(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Y0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function Qs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ft(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nm(s);throw new ft(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function De(s,t){const i={typeString:s};return t&&(i.value=t),i}function Bl(s,t){if(!Y0(s))throw new ft(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ft(W.INVALID_ARGUMENT,i);return!0}const fv=-62135596800,dv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*dv);return new ae(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<fv)throw new ft(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:De("string",ae._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ae(0,0))}static max(){return new Tt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xl=-1;function O2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Tt.fromTimestamp(r===1e9?new ae(i+1,0):new ae(i,r));return new Wr(l,pt.empty(),t)}function V2(s){return new Wr(s.readTime,s.key,xl)}class Wr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Wr(Tt.min(),pt.empty(),xl)}static max(){return new Wr(Tt.max(),pt.empty(),xl)}}function k2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,t.documentKey),i!==0?i:zt(s.largestBatchId,t.largestBatchId))}const z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(s){if(s.code!==W.FAILED_PRECONDITION||s.message!==z2)throw s;ot("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function L2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(s){return s.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Mm=-1;function ch(s){return s==null}function qc(s){return s===0&&1/s==-1/0}function U2(s){return typeof s=="number"&&Number.isInteger(s)&&!qc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const K0="";function j2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=mv(t)),t=B2(s.get(i),t);return mv(t)}function B2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case K0:i+="";break;default:i+=c}}return i}function mv(s){return s+K0+""}function pv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ss(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function X0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Rc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Rc(this.root,t,this.comparator,!0)}}class Rc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new gv(this.data.getIterator())}getIteratorFrom(t){return new gv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class gv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new An([])}unionWith(t){let i=new Ve(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class $0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $0("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(s){if(Gt(!!s,39018),typeof s=="string"){let t=0;const i=H2.exec(s);if(Gt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(s.seconds),nanos:Ee(s.nanos)}}function Ee(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function es(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const J0="server_timestamp",Z0="__type__",W0="__previous_value__",t1="__local_write_time__";function Om(s){return(s?.mapValue?.fields||{})[Z0]?.stringValue===J0}function hh(s){const t=s.mapValue.fields[W0];return Om(t)?hh(t):t}function Dl(s){const t=ts(s.mapValue.fields[t1].timestampValue);return new ae(t.seconds,t.nanos)}class q2{constructor(t,i,r,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Fc="(default)";class Nl{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new Nl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof Nl&&t.projectId===this.projectId&&t.database===this.database}}const e1="__type__",F2="__max__",Ic={mapValue:{}},n1="__vector__",Gc="value";function ns(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:Q2(s)?9007199254740991:G2(s)?10:11:vt(28295,{value:s})}function Di(s,t){if(s===t)return!0;const i=ns(s);if(i!==ns(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Dl(s).isEqual(Dl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ts(l.timestampValue),p=ts(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return es(l.bytesValue).isEqual(es(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ee(l.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(l.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ee(l.integerValue)===Ee(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ee(l.doubleValue),p=Ee(c.doubleValue);return d===p?qc(d)===qc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(pv(d)!==pv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Di(d[y],p[y])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Ml(s,t){return(s.values||[]).find((i=>Di(i,t)))!==void 0}function Wa(s,t){if(s===t)return 0;const i=ns(s),r=ns(t);if(i!==r)return zt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ee(c.integerValue||c.doubleValue),y=Ee(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return yv(s.timestampValue,t.timestampValue);case 4:return yv(Dl(s),Dl(t));case 5:return nm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=es(c),y=es(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=zt(p[_],y[_]);if(A!==0)return A}return zt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=zt(Ee(c.latitude),Ee(d.latitude));return p!==0?p:zt(Ee(c.longitude),Ee(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return _v(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Gc]?.arrayValue,A=y[Gc]?.arrayValue,b=zt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:_v(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const N=nm(y[b],A[b]);if(N!==0)return N;const B=Wa(p[y[b]],_[A[b]]);if(B!==0)return B}return zt(y.length,A.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function yv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const i=ts(s),r=ts(t),l=zt(i.seconds,r.seconds);return l!==0?l:zt(i.nanos,r.nanos)}function _v(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Wa(i[l],r[l]);if(c)return c}return zt(i.length,r.length)}function to(s){return im(s)}function im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ts(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return es(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=im(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function Mc(s){switch(ns(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(s);return t?16+Mc(t):16;case 5:return 2*s.stringValue.length;case 6:return es(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Mc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return ss(r.fields,((c,d)=>{l+=c.length+Mc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function rm(s){return!!s&&"integerValue"in s}function Vm(s){return!!s&&"arrayValue"in s}function vv(s){return!!s&&"nullValue"in s}function Ev(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oc(s){return!!s&&"mapValue"in s}function G2(s){return(s?.mapValue?.fields||{})[e1]?.stringValue===n1}function Tl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ss(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Tl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(s.arrayValue.values[i]);return t}return{...s}}function Q2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Oc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=Qe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Tl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Oc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Oc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){ss(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new dn(Tl(this.value))}}function i1(s){const t=[];return ss(s.fields,((i,r)=>{const l=new Qe([i]);if(Oc(r)){const c=i1(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new An(t)}class Je{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,Tt.min(),Tt.min(),Tt.min(),dn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,Tt.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,Tt.min(),Tt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Tt.min(),Tt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function Tv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=pt.comparator(pt.fromName(d.referenceValue),i.key):r=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Di(s.position[i],t.position[i]))return!1;return!0}class Yc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Y2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class r1{}class Me extends r1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new X2(t,i,r):i==="array-contains"?new Z2(t,r):i==="in"?new W2(t,r):i==="not-in"?new tw(t,r):i==="array-contains-any"?new ew(t,r):new Me(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new $2(t,r):new J2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&ns(this.value)===ns(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends r1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ni(t,i)}matches(t){return s1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s1(s){return s.op==="and"}function a1(s){return K2(s)&&s1(s)}function K2(s){for(const t of s.filters)if(t instanceof Ni)return!1;return!0}function sm(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+to(s.value);if(a1(s))return s.filters.map((t=>sm(t))).join(",");{const t=s.filters.map((i=>sm(i))).join(",");return`${s.op}(${t})`}}function o1(s,t){return s instanceof Me?(function(r,l){return l instanceof Me&&r.op===l.op&&r.field.isEqual(l.field)&&Di(r.value,l.value)})(s,t):s instanceof Ni?(function(r,l){return l instanceof Ni&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&o1(d,l.filters[p])),!0):!1})(s,t):void vt(19439)}function l1(s){return s instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(s):s instanceof Ni?(function(i){return i.op.toString()+" {"+i.getFilters().map(l1).join(" ,")+"}"})(s):"Filter"}class X2 extends Me{constructor(t,i,r){super(t,i,r),this.key=pt.fromName(r.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class $2 extends Me{constructor(t,i){super(t,"in",i),this.keys=u1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class J2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=u1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function u1(s,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class Z2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&Ml(i.arrayValue,this.value)}}class W2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ml(this.value.arrayValue,i)}}class tw extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ml(this.value.arrayValue,i)}}class ew extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ml(this.value.arrayValue,r)))}}class nw{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Av(s,t=null,i=[],r=[],l=null,c=null,d=null){return new nw(s,t,i,r,l,c,d)}function km(s){const t=bt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>sm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>to(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>to(r))).join(",")),t.Te=i}return t.Te}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Y2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!o1(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Sv(s.startAt,t.startAt)&&Sv(s.endAt,t.endAt)}function am(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class fh{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iw(s,t,i,r,l,c,d,p){return new fh(s,t,i,r,l,c,d,p)}function Pm(s){return new fh(s)}function bv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function rw(s){return s.collectionGroup!==null}function Sl(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Yc(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Yc(Qe.keyField(),r))}return t.Ie}function Ai(s){const t=bt(s);return t.Ee||(t.Ee=sw(t,Sl(s))),t.Ee}function sw(s,t){if(s.limitType==="F")return Av(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Yc(l.field,c)}));const i=s.endAt?new Qc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Qc(s.startAt.position,s.startAt.inclusive):null;return Av(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function om(s,t,i){return new fh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function dh(s,t){return zm(Ai(s),Ai(t))&&s.limitType===t.limitType}function c1(s){return`${km(Ai(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>l1(l))).join(", ")}]`),ch(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${r})`})(Ai(s))}; limitType=${s.limitType})`}function mh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Sl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=Tv(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,Sl(r),l)||r.endAt&&!(function(d,p,y){const _=Tv(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,Sl(r),l))})(s,t)}function aw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function h1(s){return(t,i)=>{let r=!1;for(const l of Sl(s)){const c=ow(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function ow(s,t,i){const r=s.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Wa(y,_):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}class $s{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ss(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return X0(this.inner)}size(){return this.innerSize}}const lw=new ce(pt.comparator);function ir(){return lw}const f1=new ce(pt.comparator);function yl(...s){let t=f1;for(const i of s)t=t.insert(i.key,i);return t}function d1(s){let t=f1;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Bs(){return Al()}function m1(){return Al()}function Al(){return new $s((s=>s.toString()),((s,t)=>s.isEqual(t)))}const uw=new ce(pt.comparator),cw=new Ve(pt.comparator);function Pt(...s){let t=cw;for(const i of s)t=t.add(i);return t}const hw=new Ve(zt);function fw(){return hw}function Lm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(t)?"-0":t}}function p1(s){return{integerValue:""+s}}function dw(s,t){return U2(t)?p1(t):Lm(s,t)}class ph{constructor(){this._=void 0}}function mw(s,t,i){return s instanceof Kc?(function(l,c){const d={fields:{[Z0]:{stringValue:J0},[t1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=hh(c)),c&&(d.fields[W0]=c),{mapValue:d}})(i,t):s instanceof Ol?y1(s,t):s instanceof Vl?_1(s,t):(function(l,c){const d=g1(l,c),p=wv(d)+wv(l.Ae);return rm(d)&&rm(l.Ae)?p1(p):Lm(l.serializer,p)})(s,t)}function pw(s,t,i){return s instanceof Ol?y1(s,t):s instanceof Vl?_1(s,t):i}function g1(s,t){return s instanceof Xc?(function(r){return rm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Kc extends ph{}class Ol extends ph{constructor(t){super(),this.elements=t}}function y1(s,t){const i=v1(t);for(const r of s.elements)i.some((l=>Di(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Vl extends ph{constructor(t){super(),this.elements=t}}function _1(s,t){let i=v1(t);for(const r of s.elements)i=i.filter((l=>!Di(l,r)));return{arrayValue:{values:i}}}class Xc extends ph{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function wv(s){return Ee(s.integerValue||s.doubleValue)}function v1(s){return Vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function gw(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Ol&&l instanceof Ol||r instanceof Vl&&l instanceof Vl?Za(r.elements,l.elements,Di):r instanceof Xc&&l instanceof Xc?Di(r.Ae,l.Ae):r instanceof Kc&&l instanceof Kc})(s.transform,t.transform)}class yw{constructor(t,i){this.version=t,this.transformResults=i}}class bi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bi}static exists(t){return new bi(void 0,t)}static updateTime(t){return new bi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class gh{}function E1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new S1(s.key,bi.none()):new Hl(s.key,s.data,bi.none());{const i=s.data,r=dn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new as(s.key,r,new An(l.toArray()),bi.none())}}function _w(s,t,i){s instanceof Hl?(function(l,c,d){const p=l.value.clone(),y=Iv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof as?(function(l,c,d){if(!Vc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Iv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(T1(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(s,t,i,r){return s instanceof Hl?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const _=c.value.clone(),A=Cv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof as?(function(c,d,p,y){if(!Vc(c.precondition,d))return p;const _=Cv(c.fieldTransforms,y,d),A=d.data;return A.setAll(T1(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,p){return Vc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function vw(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=g1(r.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(r.field,c))}return i||null}function Rv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Za(r,l,((c,d)=>gw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Hl extends gh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class as extends gh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function T1(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Iv(s,t,i){const r=new Map;Gt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,pw(d,p,i[l]))}return r}function Cv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,mw(c,d,t))}return r}class S1 extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ew extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_w(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=bl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=bl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=m1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=E1(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,r)=>Rv(i,r)))&&Za(this.baseMutations,t.baseMutations,((i,r)=>Rv(i,r)))}}class Um{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return uw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Um(t,i,r,l)}}class Sw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Aw{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,jt;function bw(s){switch(s){case W.OK:return vt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function A1(s){if(s===void 0)return nr("GRPC error has no .code"),W.UNKNOWN;switch(s){case xe.OK:return W.OK;case xe.CANCELLED:return W.CANCELLED;case xe.UNKNOWN:return W.UNKNOWN;case xe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case xe.INTERNAL:return W.INTERNAL;case xe.UNAVAILABLE:return W.UNAVAILABLE;case xe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case xe.NOT_FOUND:return W.NOT_FOUND;case xe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case xe.ABORTED:return W.ABORTED;case xe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case xe.DATA_LOSS:return W.DATA_LOSS;default:return vt(39323,{code:s})}}(jt=xe||(xe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function ww(){return new TextEncoder}const Rw=new Jr([4294967295,4294967295],0);function xv(s){const t=ww().encode(s),i=new U0;return i.update(t),new Uint8Array(i.digest())}function Dv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Jr([i,r],0),new Jr([l,c],0)]}class jm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(r<0)throw new _l(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Jr.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Jr.fromNumber(r)));return l.compare(Rw)===1&&(l=new Jr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=xv(t),[r,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=xv(t),[r,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,ql.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new yh(Tt.min(),l,new ce(zt),ir(),Pt())}}class ql{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new ql(r,i,Pt(),Pt(),Pt())}}class kc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class b1{constructor(t,i){this.targetId=t,this.Ce=i}}class w1{constructor(t,i,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Nv{constructor(){this.ve=0,this.Fe=Mv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),r=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:vt(38017,{changeType:c})}})),new ql(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Mv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Iw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ir(),this.Je=Cc(),this.He=Cc(),this.Ye=new ce(zt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(r===0){const d=new pt(c.path);this.et(i,d,Je.newNoDocument(d,Tt.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=es(r).toUint8Array()}catch(y){if(y instanceof $0)return Ja("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new jm(d,l,c)}catch(y){return Ja(y instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&am(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Pt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new yh(t,i,this.Ye,this.je,r);return this.je=ir(),this.Je=Cc(),this.He=Cc(),this.Ye=new ce(zt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Nv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(zt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(zt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Nv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new ce(pt.comparator)}function Mv(){return new ce(pt.comparator)}const Cw={asc:"ASCENDING",desc:"DESCENDING"},xw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dw={and:"AND",or:"OR"};class Nw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(s,t){return s.useProto3Json||ch(t)?t:{value:t}}function $c(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function R1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Mw(s,t){return $c(s,t.toTimestamp())}function wi(s){return Gt(!!s,49232),Tt.fromTimestamp((function(i){const r=ts(i);return new ae(r.seconds,r.nanos)})(s))}function Bm(s,t){return um(s,t).canonicalString()}function um(s,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function I1(s){const t=ue.fromString(s);return Gt(M1(t),10190,{key:t.toString()}),t}function cm(s,t){return Bm(s.databaseId,t.path)}function qd(s,t){const i=I1(t);if(i.get(1)!==s.databaseId.projectId)throw new ft(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ft(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(x1(i))}function C1(s,t){return Bm(s.databaseId,t)}function Ow(s){const t=I1(s);return t.length===4?ue.emptyPath():x1(t)}function hm(s){return new ue(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function x1(s){return Gt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Ov(s,t,i){return{name:cm(s,t),fields:i.value.mapValue.fields}}function Vw(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Gt(A===void 0||typeof A=="string",58123),Ye.fromBase64String(A||"")):(Gt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ye.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?W.UNKNOWN:A1(_.code);return new ft(A,_.message||"")})(d);i=new w1(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=qd(s,r.document.name),c=wi(r.document.updateTime),d=r.document.createTime?wi(r.document.createTime):Tt.min(),p=new dn({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(l,c,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new kc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=qd(s,r.document),c=r.readTime?wi(r.readTime):Tt.min(),d=Je.newNoDocument(l,c),p=r.removedTargetIds||[];i=new kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=qd(s,r.document),c=r.removedTargetIds||[];i=new kc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Aw(l,c),p=r.targetId;i=new b1(p,d)}}return i}function kw(s,t){let i;if(t instanceof Hl)i={update:Ov(s,t.key,t.value)};else if(t instanceof S1)i={delete:cm(s,t.key)};else if(t instanceof as)i={update:Ov(s,t.key,t.data),updateMask:Fw(t.fieldMask)};else{if(!(t instanceof Ew))return vt(16599,{Vt:t.type});i={verify:cm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Mw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function zw(s,t){return s&&s.length>0?(Gt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(Tt.min())&&(d=wi(c)),new yw(d,l.transformResults||[])})(i,t)))):[]}function Pw(s,t){return{documents:[C1(s,t.path)]}}function Lw(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=C1(s,l);const c=(function(_){if(_.length!==0)return N1(Ni.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:qa(N.field),direction:Bw(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Uw(s){let t=Ow(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Gt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const N=D1(b);return N instanceof Ni&&a1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((N=>(function(H){return new Yc(Fa(H.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let N;return N=typeof b=="object"?b.value:b,ch(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(b){const N=!!b.before,B=b.values||[];return new Qc(B,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const N=!b.before,B=b.values||[];return new Qc(B,N)})(i.endAt)),iw(t,l,d,c,p,"F",y,_)}function jw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function D1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Fa(i.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Me.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Ni.create(i.compositeFilter.filters.map((r=>D1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function Bw(s){return Cw[s]}function Hw(s){return xw[s]}function qw(s){return Dw[s]}function qa(s){return{fieldPath:s.canonicalString()}}function Fa(s){return Qe.fromServerFormat(s.fieldPath)}function N1(s){return s instanceof Me?(function(i){if(i.op==="=="){if(Ev(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(vv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ev(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(vv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:Hw(i.op),value:i.value}}})(s):s instanceof Ni?(function(i){const r=i.getFilters().map((l=>N1(l)));return r.length===1?r[0]:{compositeFilter:{op:qw(i.op),filters:r}}})(s):vt(54877,{filter:s})}function Fw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function M1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Yr{constructor(t,i,r,l,c=Tt.min(),d=Tt.min(),p=Ye.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Yr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Gw{constructor(t){this.yt=t}}function Qw(s){const t=Uw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?om(t,t.limit,"L"):t}class Yw{constructor(){this.Cn=new Kw}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Wr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Wr.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Kw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ve(ue.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ve(ue.comparator)).toArray()}}const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O1=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(O1,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}const kv="LruGarbageCollector",Xw=1048576;function zv([s,t],[i,r]){const l=zt(s,i);return l===0?zt(t,r):l}class $w{constructor(t){this.Ir=t,this.buffer=new Ve(zv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();zv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Jw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(kv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?ot(kv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class Zw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(uh.ce);const r=new $w(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Vv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(_=Date.now(),Ba()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Ww(s,t){return new Zw(s,t)}class tR{constructor(){this.changes=new $s((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&bl(r.mutation,l,An.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Pt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Pt()){const l=Bs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=yl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Bs();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Pt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ir();const d=Al(),p=(function(){return Al()})();return i.forEach(((y,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof as)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),bl(A.mutation,_,A.mutation.getFieldMask(),ae.now())):d.set(_.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new eR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Al();let l=new ce(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||An.empty();A=p.applyToLocalView(_,A),r.set(y,A);const b=(l.get(p.batchId)||Pt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,b=m1();A.forEach((N=>{if(!c.has(N)){const B=E1(i.get(N),r.get(N));B!==null&&b.set(N,B),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):rw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve(Bs());let p=xl,y=c;return d.next((_=>$.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{y=y.insert(A,N)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Pt()))).next((A=>({batchId:p,changes:d1(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((r=>{let l=yl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(b,N){return new fh(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=yl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&bl(A.mutation,_,An.empty(),ae.now()),mh(i,_)&&(p=p.insert(y,_))})),p}))}}class iR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Qw(l.bundledQuery),readTime:wi(l.readTime)}})(i)),$.resolve()}}class rR{constructor(){this.overlays=new ce(pt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Bs();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=Bs(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ce(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=Bs(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=Bs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Sw(i,r));let c=this.qr.get(i);c===void 0&&(c=Pt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class sR{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Hm{constructor(){this.Qr=new Ve(Le.$r),this.Ur=new Ve(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new pt(new ue([])),r=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new ue([])),r=new Le(i,t),l=new Le(i,t+1);let c=Pt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||zt(t.Yr,i.Yr)}static Kr(t,i){return zt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class aR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Le.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Tw(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ve(zt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;pt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new pt(c),0);let p=new Ve(zt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Le(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oR{constructor(t){this.ri=t,this.docs=(function(){return new ce(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=ir();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ir();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||k2(V2(A),r)<=0||(l.has(A.key)||mh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){vt(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new lR(this)}getSize(t){return $.resolve(this.size)}}class lR extends tR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class uR{constructor(t){this.persistence=t,this.si=new $s((i=>km(i)),zm),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class V1{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new sR,this.referenceDelegate=t(this),this.Pi=new uR(this),this.indexManager=new Yw,this.remoteDocumentCache=(function(l){return new oR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Gw(i),this.Ii=new iR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new aR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ot("MemoryPersistence","Starting transaction:",t);const l=new cR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class cR extends P2{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new qm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=pt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.pi=new $s((r=>j2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Ww(this,i)}static mi(t,i){return new Jc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,Tt.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Mc(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Fm(t,i.fromCache,r,l)}}class hR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ib()?8:L2(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(Ba()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ba()<=kt.DEBUG&&ot("QueryEngine","Query:",Ha(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(Ba()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):$.resolve())}ys(t,i){if(bv(i))return $.resolve(null);let r=Ai(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),r=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Pt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,om(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return bv(i)||l.isEqual(Tt.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(Ba()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,O2(l,xl)).next((p=>p)))}))}Ds(t,i){let r=new Ve(h1(t));return i.forEach(((l,c)=>{mh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return Ba()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,Wr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",dR=3e8;class mR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(zt),this.xs=new $s((c=>km(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pR(s,t,i,r){return new mR(s,t,i,r)}async function k1(s,t){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Pt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function gR(s,t){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const b=_.batch,N=b.keys();let B=$.resolve();return N.forEach((H=>{B=B.next((()=>A.getEntry(y,H))).next((Z=>{const J=_.docVersions.get(H);Gt(J!==null,48541),Z.version.compareTo(J)<0&&(b.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),A.addEntry(Z)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Pt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function z1(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function yR(s,t){const i=bt(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const N=l.get(b);if(!N)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let B=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?B=B.withResumeToken(Ye.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,r)),l=l.insert(b,B),(function(Z,J,it){return Z.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=dR?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(N,B,A)&&p.push(i.Pi.updateTargetData(c,B))}));let y=ir(),_=Pt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(_R(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!r.isEqual(Tt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function _R(s,t,i){let r=Pt(),l=Pt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=ir();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Tt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):ot(Gm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function vR(s,t){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function ER(s,t){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Yr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function fm(s,t,i){const r=bt(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;ot(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Pv(s,t,i){const r=bt(s);let l=Tt.min(),c=Pt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const b=bt(y),N=b.xs.get(A);return N!==void 0?$.resolve(b.Ms.get(N)):b.Pi.getTargetData(_,A)})(r,d,Ai(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:Tt.min(),i?c:Pt()))).next((p=>(TR(r,aw(t),p),{documents:p,Qs:c})))))}function TR(s,t,i){let r=s.Os.get(t)||Tt.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class Lv{constructor(){this.activeTargetIds=fw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SR{constructor(){this.Mo=new Lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Lv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AR{Oo(t){}shutdown(){}}const Uv="ConnectivityMonitor";class jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(Uv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(Uv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xc=null;function dm(){return xc===null?xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():xc++,"0x"+xc.toString(16)}const Fd="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Fc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=dm(),p=this.zo(t,i.toUriEncodedString());ot(Fd,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=io(_);return this.Jo(t,p,y,r,A).then((b=>(ot(Fd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ja(Fd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=bR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class RR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class IR extends wR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=dm();return new Promise(((p,y)=>{const _=new j0;_.setWithCredentials(!0),_.listenOnce(B0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Nc.NO_ERROR:const b=_.getResponseJson();ot(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Nc.TIMEOUT:ot(Xe,`RPC '${t}' ${d} timed out`),y(new ft(W.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const N=_.getStatus();if(ot(Xe,`RPC '${t}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const H=B?.error;if(H&&H.status&&H.message){const Z=(function(it){const st=it.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(st)>=0?st:W.UNKNOWN})(H.status);y(new ft(Z,H.message))}else y(new ft(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ft(W.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);ot(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=F0(),p=q0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=c.join("");ot(Xe,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let N=!1,B=!1;const H=new RR({Yo:J=>{B?ot(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(N||(ot(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),N=!0),ot(Xe,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),Z=(J,it,st)=>{J.listen(it,(lt=>{try{st(lt)}catch(St){setTimeout((()=>{throw St}),0)}}))};return Z(b,gl.EventType.OPEN,(()=>{B||(ot(Xe,`RPC '${t}' stream ${l} transport opened.`),H.o_())})),Z(b,gl.EventType.CLOSE,(()=>{B||(B=!0,ot(Xe,`RPC '${t}' stream ${l} transport closed`),H.a_(),this.E_(b))})),Z(b,gl.EventType.ERROR,(J=>{B||(B=!0,Ja(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),H.a_(new ft(W.UNAVAILABLE,"The operation could not be completed")))})),Z(b,gl.EventType.MESSAGE,(J=>{if(!B){const it=J.data[0];Gt(!!it,16349);const st=it,lt=st?.error||st[0]?.error;if(lt){ot(Xe,`RPC '${t}' stream ${l} received error:`,lt);const St=lt.status;let Dt=(function(w){const I=xe[w];if(I!==void 0)return A1(I)})(St),Lt=lt.message;Dt===void 0&&(Dt=W.INTERNAL,Lt="Unknown error status: "+St+" with message "+lt.message),B=!0,H.a_(new ft(Dt,Lt)),b.close()}else ot(Xe,`RPC '${t}' stream ${l} received:`,it),H.u_(it)}})),Z(p,H0.STAT_EVENT,(J=>{J.stat===em.PROXY?ot(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===em.NOPROXY&&ot(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}function _h(s){return new Nw(s,!0)}class P1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Bv="PersistentStream";class L1{constructor(t,i,r,l,c,d,p,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new P1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(nr(i.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ft(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(Bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CR extends L1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Vw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Tt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?wi(d.readTime):Tt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=am(y)?{documents:Pw(c,y)}:{query:Lw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=R1(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Tt.min())>0){p.readTime=$c(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=jw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class xR extends L1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=zw(t.writeResults,t.commitTime),r=wi(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>kw(this.serializer,r)))};this.q_(i)}}class DR{}class NR extends DR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(W.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,um(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(W.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ys="RemoteStore";class OR{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Js(this)&&(ot(Ys,"Restarting streams for network reachability change."),await(async function(y){const _=bt(y);_.Ea.add(4),await Fl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await vh(_)})(this))}))})),this.Ra=new MR(r,l)}}async function vh(s){if(Js(s))for(const t of s.da)await t(!0)}async function Fl(s){for(const t of s.da)await t(!1)}function U1(s,t){const i=bt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Km(i):lo(i).O_()&&Ym(i,t))}function Qm(s,t){const i=bt(s),r=lo(i);i.Ia.delete(t),r.O_()&&j1(i,t),i.Ia.size===0&&(r.O_()?r.L_():Js(i)&&i.Ra.set("Unknown"))}function Ym(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(s).Y_(t)}function j1(s,t){s.Va.Ue(t),lo(s).Z_(t)}function Km(s){s.Va=new Iw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.Ra.ua()}function Xm(s){return Js(s)&&!lo(s).x_()&&s.Ia.size>0}function Js(s){return bt(s).Ea.size===0}function B1(s){s.Va=void 0}async function VR(s){s.Ra.set("Online")}async function kR(s){s.Ia.forEach(((t,i)=>{Ym(s,t)}))}async function zR(s,t){B1(s),Xm(s)?(s.Ra.ha(t),Km(s)):s.Ra.set("Unknown")}async function PR(s,t,i){if(s.Ra.set("Online"),t instanceof w1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){ot(Ys,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Zc(s,r)}else if(t instanceof kc?s.Va.Ze(t):t instanceof b1?s.Va.st(t):s.Va.tt(t),!i.isEqual(Tt.min()))try{const r=await z1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),j1(c,y);const b=new Yr(A.target,y,_,A.sequenceNumber);Ym(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){ot(Ys,"Failed to raise snapshot:",r),await Zc(s,r)}}async function Zc(s,t,i){if(!oo(t))throw t;s.Ea.add(1),await Fl(s),s.Ra.set("Offline"),i||(i=()=>z1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Ys,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await vh(s)}))}function H1(s,t){return t().catch((i=>Zc(s,i,t)))}async function Eh(s){const t=bt(s),i=is(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mm;for(;LR(t);)try{const l=await vR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,UR(t,l)}catch(l){await Zc(t,l)}q1(t)&&F1(t)}function LR(s){return Js(s)&&s.Ta.length<10}function UR(s,t){s.Ta.push(t);const i=is(s);i.O_()&&i.X_&&i.ea(t.mutations)}function q1(s){return Js(s)&&!is(s).x_()&&s.Ta.length>0}function F1(s){is(s).start()}async function jR(s){is(s).ra()}async function BR(s){const t=is(s);for(const i of s.Ta)t.ea(i.mutations)}async function HR(s,t,i){const r=s.Ta.shift(),l=Um.from(r,t,i);await H1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Eh(s)}async function qR(s,t){t&&is(s).X_&&await(async function(r,l){if((function(d){return bw(d)&&d!==W.ABORTED})(l.code)){const c=r.Ta.shift();is(r).B_(),await H1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Eh(r)}})(s,t),q1(s)&&F1(s)}async function Hv(s,t){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),ot(Ys,"RemoteStore received new credentials");const r=Js(i);i.Ea.add(3),await Fl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function FR(s,t){const i=bt(s);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Fl(i),i.Ra.set("Unknown"))}function lo(s){return s.ma||(s.ma=(function(i,r,l){const c=bt(i);return c.sa(),new CR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:VR.bind(null,s),t_:kR.bind(null,s),r_:zR.bind(null,s),H_:PR.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Xm(s)?Km(s):s.Ra.set("Unknown")):(await s.ma.stop(),B1(s))}))),s.ma}function is(s){return s.fa||(s.fa=(function(i,r,l){const c=bt(i);return c.sa(),new xR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:jR.bind(null,s),r_:qR.bind(null,s),ta:BR.bind(null,s),na:HR.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Eh(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Ys,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class $m{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new $m(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(s,t){if(nr("AsyncQueue",`${t}: ${s}`),oo(s))return new ft(W.UNAVAILABLE,`${t}: ${s}`);throw s}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||pt.comparator(i.key,r.key):(i,r)=>pt.comparator(i.key,r.key),this.keyedMap=yl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class qv{constructor(){this.ga=new ce(pt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class no{constructor(t,i,r,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new no(t,i,Qa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class GR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QR{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=bt(i),c=l.queries;l.queries=Fv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ft(W.ABORTED,"Firestore shutting down"))}}function Fv(){return new $s((s=>c1(s)),dh)}async function YR(s,t){const i=bt(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new GR,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Jm(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function KR(s,t){const i=bt(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function XR(s,t){const i=bt(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Zm(i)}function $R(s,t,i){const r=bt(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Zm(s){s.Ca.forEach((t=>{t.next()}))}var mm,Gv;(Gv=mm||(mm={})).Ma="default",Gv.Cache="cache";class JR{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new no(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class G1{constructor(t){this.key=t}}class Q1{constructor(t){this.key=t}}class ZR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=h1(t),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const N=l.get(A),B=mh(this.query,b)?b:null,H=!!N&&this.mutatedKeys.has(N.key),Z=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;N&&B?N.data.isEqual(B.data)?H!==Z&&(r.track({type:3,doc:B}),J=!0):this.su(N,B)||(r.track({type:2,doc:B}),J=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(p=!0)):!N&&B?(r.track({type:0,doc:B}),J=!0):N&&!B&&(r.track({type:1,doc:N}),J=!0,(y||_)&&(p=!0)),J&&(B?(d=d.add(B),c=Z?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(B,H){const Z=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return Z(B)-Z(H)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new Q1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new G1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wm="SyncEngine";class WR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class tI{constructor(t){this.key=t,this.hu=!1}}class eI{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $s((p=>c1(p)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(pt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nI(s,t,i=!0){const r=Z1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Y1(r,t,i,!0),l}async function iI(s,t){const i=Z1(s);await Y1(i,t,!0,!1)}async function Y1(s,t,i,r){const l=await ER(s.localStore,Ai(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await rI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&U1(s.remoteStore,l),p}async function rI(s,t,i,r,l){s.pu=(b,N,B)=>(async function(Z,J,it,st){let lt=J.view.ru(it);lt.Cs&&(lt=await Pv(Z.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,lt))));const St=st&&st.targetChanges.get(J.targetId),Dt=st&&st.targetMismatches.get(J.targetId)!=null,Lt=J.view.applyChanges(lt,Z.isPrimaryClient,St,Dt);return Yv(Z,J.targetId,Lt.au),Lt.snapshot})(s,b,N,B);const c=await Pv(s.localStore,t,!0),d=new ZR(t,c.Qs),p=d.ru(c.documents),y=ql.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);Yv(s,i,_.au);const A=new WR(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function sI(s,t,i){const r=bt(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!dh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Qm(r.remoteStore,l.targetId),pm(r,l.targetId)})).catch(ao)):(pm(r,l.targetId),await fm(r.localStore,l.targetId,!0))}async function aI(s,t){const i=bt(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(i.remoteStore,r.targetId))}async function oI(s,t,i){const r=mI(s);try{const l=await(function(d,p){const y=bt(d),_=ae.now(),A=p.reduce(((B,H)=>B.add(H.key)),Pt());let b,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let H=ir(),Z=Pt();return y.Ns.getEntries(B,A).next((J=>{H=J,H.forEach(((it,st)=>{st.isValidDocument()||(Z=Z.add(it))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,H))).next((J=>{b=J;const it=[];for(const st of p){const lt=vw(st,b.get(st.key).overlayedDocument);lt!=null&&it.push(new as(st.key,lt,i1(lt.value.mapValue),bi.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,it,p)})).next((J=>{N=J;const it=J.applyToLocalDocumentSet(b,Z);return y.documentOverlayCache.saveOverlays(B,J.batchId,it)}))})).then((()=>({batchId:N.batchId,changes:d1(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ce(zt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await Gl(r,l.changes),await Eh(r.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function K1(s,t){const i=bt(s);try{const r=await yR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Gl(i,r,t)}catch(r){await ao(r)}}function Qv(s,t,i){const r=bt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=bt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,b)=>{for(const N of b.Sa)N.va(p)&&(_=!0)})),_&&Zm(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lI(s,t,i){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ce(pt.comparator);d=d.insert(c,Je.newNoDocument(c,Tt.min()));const p=Pt().add(c),y=new yh(Tt.min(),new Map,new ce(zt),d,p);await K1(r,y),r.du=r.du.remove(c),r.Au.delete(t),tp(r)}else await fm(r.localStore,t,!1).then((()=>pm(r,t,i))).catch(ao)}async function uI(s,t){const i=bt(s),r=t.batch.batchId;try{const l=await gR(i.localStore,t);$1(i,r,null),X1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Gl(i,l)}catch(l){await ao(l)}}async function cI(s,t,i){const r=bt(s);try{const l=await(function(d,p){const y=bt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Gt(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);$1(r,t,i),X1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Gl(r,l)}catch(l){await ao(l)}}function X1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function $1(s,t,i){const r=bt(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function pm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||J1(s,r)}))}function J1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Qm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),tp(s))}function Yv(s,t,i){for(const r of i)r instanceof G1?(s.Ru.addReference(r.key,t),hI(s,r)):r instanceof Q1?(ot(Wm,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||J1(s,r.key)):vt(19791,{wu:r})}function hI(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ot(Wm,"New document in limbo: "+i),s.Eu.add(r),tp(s))}function tp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new pt(ue.fromString(t)),r=s.fu.next();s.Au.set(r,new tI(i)),s.du=s.du.insert(i,r),U1(s.remoteStore,new Yr(Ai(Pm(i.path)),r,"TargetPurposeLimboResolution",uh.ce))}}async function Gl(s,t,i){const r=bt(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Fm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const A=bt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(_,(N=>$.forEach(N.Es,(B=>A.persistence.referenceDelegate.addReference(b,N.targetId,B))).next((()=>$.forEach(N.ds,(B=>A.persistence.referenceDelegate.removeReference(b,N.targetId,B)))))))))}catch(b){if(!oo(b))throw b;ot(Gm,"Failed to update sequence numbers: "+b)}for(const b of _){const N=b.targetId;if(!b.fromCache){const B=A.Ms.get(N),H=B.snapshotVersion,Z=B.withLastLimboFreeSnapshotVersion(H);A.Ms=A.Ms.insert(N,Z)}}})(r.localStore,c))}async function fI(s,t){const i=bt(s);if(!i.currentUser.isEqual(t)){ot(Wm,"User change. New user:",t.toKey());const r=await k1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ft(W.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Gl(i,r.Ls)}}function dI(s,t){const i=bt(s),r=i.Au.get(t);if(r&&r.hu)return Pt().add(r.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function Z1(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=K1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lI.bind(null,t),t.Pu.H_=XR.bind(null,t.eventManager),t.Pu.yu=$R.bind(null,t.eventManager),t}function mI(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pR(this.persistence,new fR,t.initialUser,this.serializer)}Cu(t){return new V1(qm.mi,this.serializer)}Du(t){return new SR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class pI extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Jw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new V1((r=>Jc.mi(r,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await FR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QR})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),r=(function(c){return new IR(c)})(t.databaseInfo);return(function(c,d,p,y){return new NR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new OR(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Qv(this.syncEngine,i,0)),(function(){return jv.v()?new jv:new AR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const b=new eI(l,c,d,p,y,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=bt(i);ot(Ys,"RemoteStore shutting down."),r.Ea.add(5),await Fl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class gI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const rs="FirestoreClient";class yI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{ot(rs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(rs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Jm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Qd(s,t){s.asyncQueue.verifyOperationInProgress(),ot(rs,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await k1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Kv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await _I(s);ot(rs,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Hv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Hv(t.remoteStore,l))),s._onlineComponents=t}async function _I(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(rs,"Using user provided OfflineComponentProvider");try{await Qd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Qd(s,new Wc)}}else ot(rs,"Using default OfflineComponentProvider"),await Qd(s,new pI(void 0));return s._offlineComponents}async function W1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(rs,"Using user provided OnlineComponentProvider"),await Kv(s,s._uninitializedComponentsProvider._online)):(ot(rs,"Using default OnlineComponentProvider"),await Kv(s,new gm))),s._onlineComponents}function vI(s){return W1(s).then((t=>t.syncEngine))}async function EI(s){const t=await W1(s),i=t.eventManager;return i.onListen=nI.bind(null,t.syncEngine),i.onUnlisten=sI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aI.bind(null,t.syncEngine),i}function TI(s,t,i={}){const r=new Zr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new gI({next:N=>{A.Nu(),d.enqueueAndForget((()=>KR(c,b)));const B=N.docs.has(p);!B&&N.fromCache?_.reject(new ft(W.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&N.fromCache&&y&&y.source==="server"?_.reject(new ft(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),b=new JR(Pm(p.path),A,{includeMetadataChanges:!0,qa:!0});return YR(c,b)})(await EI(s),s.asyncQueue,t,i,r))),r.promise}function tE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Xv=new Map;const eE="firestore.googleapis.com",$v=!0;class Jv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eE,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=O1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Xw)throw new ft(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}M2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ft(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ft(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ft(W.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ep{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new T2;switch(r.type){case"firstParty":return new w2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Xv.get(i);r&&(ot("ComponentProvider","Removing Datastore"),Xv.delete(i),r.terminate())})(this),Promise.resolve()}}function SI(s,t,i,r={}){s=Qs(s,ep);const l=io(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(N0(`https://${p}`),M0("Firestore",!0)),c.host!==eE&&c.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!qs(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=$e.MOCK_USER;else{_=KA(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ft(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(b)}s._authCredentials=new S2(new Q0(_,A))}}class np{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new np(this.firestore,t,this._query)}}class Oe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Bl(i,Oe._jsonSchema))return new Oe(t,r||null,new pt(ue.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:De("string",Oe._jsonSchemaVersion),referencePath:De("string")};class kl extends np{constructor(t,i,r){super(t,i,Pm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new pt(t))}withConverter(t){return new kl(this.firestore,t,this._path)}}function Th(s,t,...i){if(s=We(s),arguments.length===1&&(t=Dm.newId()),N2("doc","path",t),s instanceof ep){const r=ue.fromString(t,...i);return hv(r),new Oe(s,null,new pt(r))}{if(!(s instanceof Oe||s instanceof kl))throw new ft(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ue.fromString(t,...i));return hv(r),new Oe(s.firestore,s instanceof kl?s.converter:null,new pt(r))}}const Zv="AsyncQueue";class Wv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new P1(this,"async_queue_retry"),this._c=()=>{const r=Gd();r&&ot(Zv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;ot(Zv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",t0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:t0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function t0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Sh extends ep{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Wv(t),this._firestoreClient=void 0,await t}}}function AI(s,t){const i=typeof s=="object"?s:z0(),r=typeof s=="string"?s:Fc,l=Cm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=QA("firestore");c&&SI(l,...c)}return l}function nE(s){if(s._terminated)throw new ft(W.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||bI(s),s._firestoreClient}function bI(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new q2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new yI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Ye.fromBase64String(t))}catch(i){throw new ft(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:De("string",Ln._jsonSchemaVersion),bytes:De("string")};class Ah{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ip{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:De("string",Ri._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new ft(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:De("string",Ii._jsonSchemaVersion),vectorValues:De("object")};const wI=/^__.*__$/;class RI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new as(t,this.data,this.fieldMask,i,this.fieldTransforms):new Hl(t,this.data,i,this.fieldTransforms)}}class iE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new as(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function rE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class rp{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new rp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return th(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(rE(this.Ac)&&wI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class II{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||_h(t)}Cc(t,i,r,l=!1){return new rp({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sE(s){const t=s._freezeSettings(),i=_h(s._databaseId);return new II(s._databaseId,!!t.ignoreUndefinedProperties,i)}function CI(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);sp("Data must be an object, but it was:",d,r);const p=aE(r,d);let y,_;if(c.merge)y=new An(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const N=ym(t,b,i);if(!d.contains(N))throw new ft(W.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);lE(A,N)||A.push(N)}y=new An(A),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new RI(new dn(p),y,_)}class bh extends ip{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}function xI(s,t,i,r){const l=s.Cc(1,t,i);sp("Data must be an object, but it was:",l,r);const c=[],d=dn.empty();ss(r,((y,_)=>{const A=ap(t,y,i);_=We(_);const b=l.yc(A);if(_ instanceof bh)c.push(A);else{const N=wh(_,b);N!=null&&(c.push(A),d.set(A,N))}}));const p=new An(c);return new iE(d,p,l.fieldTransforms)}function DI(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[ym(t,r,i)],y=[l];if(c.length%2!=0)throw new ft(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(ym(t,c[N])),y.push(c[N+1]);const _=[],A=dn.empty();for(let N=p.length-1;N>=0;--N)if(!lE(_,p[N])){const B=p[N];let H=y[N];H=We(H);const Z=d.yc(B);if(H instanceof bh)_.push(B);else{const J=wh(H,Z);J!=null&&(_.push(B),A.set(B,J))}}const b=new An(_);return new iE(A,b,d.fieldTransforms)}function wh(s,t){if(oE(s=We(s)))return sp("Unsupported field value:",t,s),aE(s,t);if(s instanceof ip)return(function(r,l){if(!rE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=wh(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ae.fromDate(r);return{timestampValue:$c(l.serializer,c)}}if(r instanceof ae){const c=new ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$c(l.serializer,c)}}if(r instanceof Ri)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:R1(l.serializer,r._byteString)};if(r instanceof Oe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Ii)return(function(d,p){return{mapValue:{fields:{[e1]:{stringValue:n1},[Gc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Lm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Nm(r)}`)})(s,t)}function aE(s,t){const i={};return X0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ss(s,((r,l)=>{const c=wh(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function oE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ae||s instanceof Ri||s instanceof Ln||s instanceof Oe||s instanceof ip||s instanceof Ii)}function sp(s,t,i){if(!oE(i)||!Y0(i)){const r=Nm(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function ym(s,t,i){if((t=We(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return ap(s,t);throw th("Field path arguments must be of type string or ",s,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function ap(s,t,i){if(t.search(NI)>=0)throw th(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Ah(...t.split("."))._internalPath}catch{throw th(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function th(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ft(W.INVALID_ARGUMENT,p+s+y)}function lE(s,t){return s.some((i=>i.isEqual(t)))}class uE{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(cE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MI extends uE{data(){return super.data()}}function cE(s,t){return typeof t=="string"?ap(s,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}class OI{convertValue(t,i="none"){switch(ns(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return ss(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((r=>Ee(r.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new Ri(Ee(t.latitude),Ee(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=hh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Dl(t));default:return null}}convertTimestamp(t){const i=ts(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ue.fromString(t);Gt(M1(r),9688,{name:t});const l=new Nl(r.get(1),r.get(3)),c=new pt(r.popFirst(5));return l.isEqual(i)||nr(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function VI(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends uE{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(cE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:De("string",Hs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class zc extends Hs{data(t={}){return super.data(t)}}class wl{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new zc(this._firestore,this._userDataWriter,r.key,r,new vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new zc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new vl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:kI(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}function hE(s){s=Qs(s,Oe);const t=Qs(s.firestore,Sh);return TI(nE(t),s._key).then((i=>UI(t,s,i)))}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:De("string",wl._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class zI extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function PI(s,t,i){s=Qs(s,Oe);const r=Qs(s.firestore,Sh),l=VI(s.converter,t);return fE(r,[CI(sE(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,bi.none())])}function LI(s,t,i,...r){s=Qs(s,Oe);const l=Qs(s.firestore,Sh),c=sE(l);let d;return d=typeof(t=We(t))=="string"||t instanceof Ah?DI(c,"updateDoc",s._key,t,i,r):xI(c,"updateDoc",s._key,t),fE(l,[d.toMutation(s._key,bi.exists(!0))])}function fE(s,t){return(function(r,l){const c=new Zr;return r.asyncQueue.enqueueAndForget((async()=>oI(await vI(r),l,c))),c.promise})(nE(s),t)}function UI(s,t,i){const r=i.docs.get(t._key),l=new zI(s);return new Hs(s,l,t._key,r,new vl(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){so=l})(ro),$a(new Fs("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Sh(new A2(r.getProvider("auth-internal")),new R2(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),$r(ov,lv,t),$r(ov,lv,"esm2020")})();function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jI=dE,mE=new Ul("auth","Firebase",dE());const eh=new Rm("@firebase/auth");function BI(s,...t){eh.logLevel<=kt.WARN&&eh.warn(`Auth (${ro}): ${s}`,...t)}function Pc(s,...t){eh.logLevel<=kt.ERROR&&eh.error(`Auth (${ro}): ${s}`,...t)}function Wn(s,...t){throw op(s,...t)}function Ci(s,...t){return op(s,...t)}function pE(s,t,i){const r={...jI(),[t]:i};return new Ul("auth","Firebase",r).create(t,{appName:s.name})}function tr(s){return pE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return mE.create(s,...t)}function _t(s,t,...i){if(!s)throw op(t,...i)}function Zi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Pc(t),new Error(t)}function rr(s,t){s||Zi(t)}function _m(){return typeof self<"u"&&self.location?.href||""}function HI(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function qI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HI()||tb()||"connection"in navigator)?navigator.onLine:!0}function FI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,rr(i>t,"Short delay should be less than long delay!"),this.isMobile=JA()||eb()}get(){return qI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(s,t){rr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class gE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YI=new Ql(3e4,6e4);function os(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function ls(s,t,i,r,l={}){return yE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=jl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return WA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&io(s.emulatorConfig.host)&&(_.credentials="include"),gE.fetch()(await _E(s,s.config.apiHost,i,p),_)})}async function yE(s,t,i){s._canInitEmulator=!1;const r={...GI,...t};try{const l=new XI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Dc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Dc(s,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw pE(s,A,_);Wn(s,A)}}catch(l){if(l instanceof sr)throw l;Wn(s,"network-request-failed",{message:String(l)})}}async function Yl(s,t,i,r,l={}){const c=await ls(s,t,i,r,l);return"mfaPendingCredential"in c&&Wn(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function _E(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?lp(s.config,l):`${s.config.apiScheme}://${l}`;return QI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function KI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),YI.get())})}}function Dc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ci(s,t,r);return l.customData._tokenResponse=i,l}function n0(s){return s!==void 0&&s.enterprise!==void 0}class $I{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return KI(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JI(s,t){return ls(s,"GET","/v2/recaptchaConfig",os(s,t))}async function ZI(s,t){return ls(s,"POST","/v1/accounts:delete",t)}async function nh(s,t){return ls(s,"POST","/v1/accounts:lookup",t)}function Rl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WI(s,t=!1){const i=We(s),r=await i.getIdToken(t),l=up(r);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Rl(Yd(l.auth_time)),issuedAtTime:Rl(Yd(l.iat)),expirationTime:Rl(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(s){return Number(s)*1e3}function up(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=I0(i);return l?JSON.parse(l):(Pc("Failed to decode base64 JWT payload"),null)}catch(l){return Pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function i0(s){const t=up(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof sr&&tC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function tC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class eC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rl(this.lastLoginAt),this.creationTime=Rl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ih(s){const t=s.auth,i=await s.getIdToken(),r=await zl(s,nh(t,{idToken:i}));_t(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?vE(l.providerUserInfo):[],d=iC(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function nC(s){const t=We(s);await ih(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iC(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function vE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function rC(s,t){const i=await yE(s,{},async()=>{const r=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await _E(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&io(s.emulatorConfig.host)&&(y.credentials="include"),gE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function sC(s,t){return ls(s,"POST","/v2/accounts:revokeToken",os(s,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):i0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=i0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await rC(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Ya;return r&&(_t(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Hr(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new eC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return WI(this,t)}reload(){return nC(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await zl(this,ZI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:B,providerData:H,stsTokenManager:Z}=i;_t(b&&Z,t,"internal-error");const J=Ya.fromJSON(this.name,Z);_t(typeof b=="string",t,"internal-error"),Hr(r,t.name),Hr(l,t.name),_t(typeof N=="boolean",t,"internal-error"),_t(typeof B=="boolean",t,"internal-error"),Hr(c,t.name),Hr(d,t.name),Hr(p,t.name),Hr(y,t.name),Hr(_,t.name),Hr(A,t.name);const it=new Zn({uid:b,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:A});return H&&Array.isArray(H)&&(it.providerData=H.map(st=>({...st}))),y&&(it._redirectEventId=y),it}static async _fromIdTokenResponse(t,i,r=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await ih(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?vE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ya;p.updateFromIdToken(r);const y=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const r0=new Map;function Wi(s){rr(s instanceof Function,"Expected a class definition");let t=r0.get(s);return t?(rr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,r0.set(s,t),t)}class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}EE.type="NONE";const s0=EE;function Lc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ka{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await nh(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ka(Wi(s0),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Wi(s0);const d=Lc(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const N=await nh(t,{idToken:A}).catch(()=>{});if(!N)break;b=await Zn._fromGetAccountInfoResponse(t,N,A)}else b=Zn._fromJSON(t,A);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ka(c,t,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ka(c,t,r))}}function a0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RE(t))return"Blackberry";if(IE(t))return"Webos";if(SE(t))return"Safari";if((t.includes("chrome/")||AE(t))&&!t.includes("edge/"))return"Chrome";if(wE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function TE(s=Ze()){return/firefox\//i.test(s)}function SE(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AE(s=Ze()){return/crios\//i.test(s)}function bE(s=Ze()){return/iemobile/i.test(s)}function wE(s=Ze()){return/android/i.test(s)}function RE(s=Ze()){return/blackberry/i.test(s)}function IE(s=Ze()){return/webos/i.test(s)}function cp(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aC(s=Ze()){return cp(s)&&!!window.navigator?.standalone}function oC(){return nb()&&document.documentMode===10}function CE(s=Ze()){return cp(s)||wE(s)||IE(s)||RE(s)||/windows phone/i.test(s)||bE(s)}function xE(s,t=[]){let i;switch(s){case"Browser":i=a0(Ze());break;case"Worker":i=`${a0(Ze())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${r}`}class lC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function uC(s,t={}){return ls(s,"GET","/v2/passwordPolicy",os(s,t))}const cC=6;class hC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??cC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class fC{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new lC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await nh(this,{idToken:t}),r=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ih(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(tr(this));const i=t?We(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uC(this),i=new hC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await sC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&BI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Zs(s){return We(s)}class o0{constructor(t){this.auth=t,this.observer=null,this.addObserver=cb(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dC(s){Rh=s}function DE(s){return Rh.loadJS(s)}function mC(){return Rh.recaptchaEnterpriseScript}function pC(){return Rh.gapiScript}function gC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class yC{constructor(){this.enterprise=new _C}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class _C{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const vC="recaptcha-enterprise",NE="NO_RECAPTCHA";class EC{constructor(t){this.type=vC,this.auth=Zs(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{JI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new $I(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;n0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(NE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&n0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=mC();y.length!==0&&(y+=p),DE(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function l0(s,t,i,r=!1,l=!1){const c=new EC(s);let d;if(l)d=NE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Em(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await l0(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await l0(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function TC(s,t){const i=Cm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(qs(c,t??{}))return l;Wn(l,"already-initialized")}return i.initialize({options:t})}function SC(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function AC(s,t,i){const r=Zs(s);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=ME(t),{host:d,port:p}=bC(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(qs(_,r.config.emulator)&&qs(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,io(d)?(N0(`${c}//${d}${y}`),M0("Auth",!0)):wC()}function ME(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function bC(s){const t=ME(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:u0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:u0(d)}}}function u0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function wC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class hp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function RC(s,t){return ls(s,"POST","/v1/accounts:signUp",t)}async function IC(s,t){return Yl(s,"POST","/v1/accounts:signInWithPassword",os(s,t))}async function CC(s,t){return Yl(s,"POST","/v1/accounts:signInWithEmailLink",os(s,t))}async function xC(s,t){return Yl(s,"POST","/v1/accounts:signInWithEmailLink",os(s,t))}class Pl extends hp{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Pl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Pl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(t,i,"signInWithPassword",IC);case"emailLink":return CC(t,{email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(t,r,"signUpPassword",RC);case"emailLink":return xC(t,{idToken:i,email:this._email,oobCode:this._password});default:Wn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Xa(s,t){return Yl(s,"POST","/v1/accounts:signInWithIdp",os(s,t))}const DC="http://localhost";class Ks extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ks(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Ks(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Xa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:DC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}function NC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MC(s){const t=ml(pl(s)).link,i=t?ml(pl(t)).deep_link_id:null,r=ml(pl(s)).deep_link_id;return(r?ml(pl(r)).link:null)||r||i||t||s}class fp{constructor(t){const i=ml(pl(t)),r=i.apiKey??null,l=i.oobCode??null,c=NC(i.mode??null);_t(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=MC(t);try{return new fp(i)}catch{return null}}}class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(t,i){return Pl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=fp.parseLink(i);return _t(r,"argument-error"),Pl._fromEmailAndCode(t,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class OE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends OE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qr extends Kl{constructor(){super("facebook.com")}static credential(t){return Ks._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";class Fr extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ks._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Fr.credential(i,r)}catch{return null}}}Fr.GOOGLE_SIGN_IN_METHOD="google.com";Fr.PROVIDER_ID="google.com";class Gr extends Kl{constructor(){super("github.com")}static credential(t){return Ks._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class Qr extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Ks._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Qr.credential(i,r)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";async function OC(s,t){return Yl(s,"POST","/v1/accounts:signUp",os(s,t))}class Xs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Zn._fromIdTokenResponse(t,r,l),d=c0(r);return new Xs({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=c0(r);return new Xs({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function c0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class rh extends sr{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new rh(t,i,r,l)}}function VE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(s,c,t,r):c})}async function VC(s,t,i=!1){const r=await zl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Xs._forOperation(s,"link",r)}async function kC(s,t,i=!1){const{auth:r}=s;if(Pn(r.app))return Promise.reject(tr(r));const l="reauthenticate";try{const c=await zl(s,VE(r,l,t,s),i);_t(c.idToken,r,"internal-error");const d=up(c.idToken);_t(d,r,"internal-error");const{sub:p}=d;return _t(s.uid===p,r,"user-mismatch"),Xs._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wn(r,"user-mismatch"),c}}async function kE(s,t,i=!1){if(Pn(s.app))return Promise.reject(tr(s));const r="signIn",l=await VE(s,r,t),c=await Xs._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function zC(s,t){return kE(Zs(s),t)}async function zE(s){const t=Zs(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function PC(s,t,i){if(Pn(s.app))return Promise.reject(tr(s));const r=Zs(s),d=await Em(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&zE(s),y}),p=await Xs._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function LC(s,t,i){return Pn(s.app)?Promise.reject(tr(s)):zC(We(s),uo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zE(s),r})}function UC(s,t,i,r){return We(s).onIdTokenChanged(t,i,r)}function jC(s,t,i){return We(s).beforeAuthStateChanged(t,i)}function BC(s,t,i,r){return We(s).onAuthStateChanged(t,i,r)}function HC(s){return We(s).signOut()}const sh="__sak";class PE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qC=1e3,FC=10;class LE extends PE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);oC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,FC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}LE.type="LOCAL";const GC=LE;class UE extends PE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}UE.type="SESSION";const jE=UE;function QC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Ih(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await QC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function dp(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class YC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=dp("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function KC(s){xi().location.href=s}function BE(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function XC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $C(){return navigator?.serviceWorker?.controller||null}function JC(){return BE()?self:null}const HE="firebaseLocalStorageDb",ZC=1,ah="firebaseLocalStorage",qE="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(s,t){return s.transaction([ah],t?"readwrite":"readonly").objectStore(ah)}function WC(){const s=indexedDB.deleteDatabase(HE);return new Xl(s).toPromise()}function Tm(){const s=indexedDB.open(HE,ZC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(ah,{keyPath:qE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(ah)?t(r):(r.close(),await WC(),t(await Tm()))})})}async function h0(s,t,i){const r=Ch(s,!0).put({[qE]:t,value:i});return new Xl(r).toPromise()}async function tx(s,t){const i=Ch(s,!1).get(t),r=await new Xl(i).toPromise();return r===void 0?null:r.value}function f0(s,t){const i=Ch(s,!0).delete(t);return new Xl(i).toPromise()}const ex=800,nx=3;class FE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>nx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(JC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XC(),!this.activeServiceWorker)return;this.sender=new YC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tm();return await h0(t,sh,"1"),await f0(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>h0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>tx(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>f0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ch(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FE.type="LOCAL";const ix=FE;new Ql(3e4,6e4);function rx(s,t){return t?Wi(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class mp extends hp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function sx(s){return kE(s.auth,new mp(s),s.bypassAuthState)}function ax(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),kC(i,new mp(s),s.bypassAuthState)}async function ox(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),VC(i,new mp(s),s.bypassAuthState)}class GE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sx;case"linkViaPopup":case"linkViaRedirect":return ox;case"reauthViaPopup":case"reauthViaRedirect":return ax;default:Wn(this.auth,"internal-error")}}resolve(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lx=new Ql(2e3,1e4);class Ga extends GE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const t=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lx.get())};t()}}Ga.currentPopupAction=null;const ux="pendingRedirect",Uc=new Map;class cx extends GE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const r=await hx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hx(s,t){const i=mx(t),r=dx(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function fx(s,t){Uc.set(s._key(),t)}function dx(s){return Wi(s._redirectPersistence)}function mx(s){return Lc(ux,s.config.apiKey,s.name)}async function px(s,t,i=!1){if(Pn(s.app))return Promise.reject(tr(s));const r=Zs(s),l=rx(r,t),d=await new cx(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const gx=600*1e3;class yx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_x(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!QE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ci(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gx&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(t))}saveEventToCache(t){this.cachedEventUids.add(d0(t)),this.lastProcessedEventTime=Date.now()}}function d0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function QE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function _x(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QE(s);default:return!1}}async function vx(s,t={}){return ls(s,"GET","/v1/projects",t)}const Ex=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tx=/^https?/;async function Sx(s){if(s.config.emulator)return;const{authorizedDomains:t}=await vx(s);for(const i of t)try{if(Ax(i))return}catch{}Wn(s,"unauthorized-domain")}function Ax(s){const t=_m(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Tx.test(i))return!1;if(Ex.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const bx=new Ql(3e4,6e4);function m0(){const s=xi().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function wx(s){return new Promise((t,i)=>{function r(){m0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{m0(),i(Ci(s,"network-request-failed"))},timeout:bx.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)r();else{const l=gC("iframefcb");return xi()[l]=()=>{gapi.load?r():i(Ci(s,"network-request-failed"))},DE(`${pC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw jc=null,t})}let jc=null;function Rx(s){return jc=jc||wx(s),jc}const Ix=new Ql(5e3,15e3),Cx="__/auth/iframe",xx="emulator/auth/iframe",Dx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mx(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?lp(t,xx):`https://${s.config.authDomain}/${Cx}`,r={apiKey:t.apiKey,appName:s.name,v:ro},l=Nx.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${jl(r).slice(1)}`}async function Ox(s){const t=await Rx(s),i=xi().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:Mx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dx,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ci(s,"network-request-failed"),p=xi().setTimeout(()=>{c(d)},Ix.get());function y(){xi().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const Vx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kx=500,zx=600,Px="_blank",Lx="http://localhost";class p0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ux(s,t,i,r=kx,l=zx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...Vx,width:r.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(p=AE(_)?Px:i),TE(_)&&(t=t||Lx,y.scrollbars="yes");const A=Object.entries(y).reduce((N,[B,H])=>`${N}${B}=${H},`,"");if(aC(_)&&p!=="_self")return jx(t||"",p),new p0(null);const b=window.open(t||"",p,A);_t(b,s,"popup-blocked");try{b.focus()}catch{}return new p0(b)}function jx(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const Bx="__/auth/handler",Hx="emulator/auth/handler",qx=encodeURIComponent("fac");async function g0(s,t,i,r,l,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ro,eventId:l};if(t instanceof OE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",ub(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Kl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),_=y?`#${qx}=${encodeURIComponent(y)}`:"";return`${Fx(s)}?${jl(p).slice(1)}${_}`}function Fx({config:s}){return s.emulator?lp(s,Hx):`https://${s.authDomain}/${Bx}`}const Kd="webStorageSupport";class Gx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=px,this._overrideRedirectResult=fx}async _openPopup(t,i,r,l){rr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await g0(t,i,r,_m(),l);return Ux(t,c,dp())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await g0(t,i,r,_m(),l);return KC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(rr(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Ox(t),r=new yx(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),Wn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Sx(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return CE()||SE()||cp()}}const Qx=Gx;var y0="@firebase/auth",_0="1.11.1";class Yx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xx(s){$a(new Fs("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(s)},_=new fC(r,l,c,y);return SC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),$a(new Fs("auth-internal",t=>{const i=Zs(t.getProvider("auth").getImmediate());return(r=>new Yx(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$r(y0,_0,Kx(s)),$r(y0,_0,"esm2020")}const $x=300,Jx=D0("authIdTokenMaxAge")||$x;let v0=null;const Zx=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Jx)return;const l=i?.token;v0!==l&&(v0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Wx(s=z0()){const t=Cm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=TC(s,{popupRedirectResolver:Qx,persistence:[ix,GC,jE]}),r=D0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Zx(c.toString());jC(i,d,()=>d(i.currentUser)),UC(i,p=>d(p))}}const l=C0("auth");return l&&AC(i,`http://${l}`),i}function tD(){return document.getElementsByTagName("head")?.[0]??document}dC({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Ci("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",tD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xx("Browser");var eD="firebase",nD="12.6.0";$r(eD,nD,"app");const iD={apiKey:"AIzaSyD57-O7kdWimJbL3fD2PSR1FX2L-ngKiTc",authDomain:"al-hafiz-8717a.firebaseapp.com",projectId:"al-hafiz-8717a",storageBucket:"al-hafiz-8717a.firebasestorage.app",messagingSenderId:"35620847316",appId:"1:35620847316:web:c7071af469e92475988541"},YE=k0(iD),xh=Wx(YE),Dh=AI(YE),rD=async(s,t,i,r)=>{try{const l=`${s}@alhafiz.local`,d=(await PC(xh,l,t)).user,p={username:s,firstName:i,lastName:r,uid:d.uid,email:l,joinedDate:new Date().toISOString(),streak:0,lastActivityDate:null,progress:{surah:1,verseIndex:0,percent:0,memorized:{},surahName:"Surah Al-Fatiha"},settings:{targetDuration:1,reciterId:7,translationId:85}};return await PI(Th(Dh,"users",d.uid),p),{success:!0,user:p}}catch(l){return console.error("Registration error:",l),l.code==="auth/email-already-in-use"?{success:!1,error:"Username already exists"}:{success:!1,error:l.message}}},sD=async(s,t)=>{try{const i=`${s}@alhafiz.local`,l=(await LC(xh,i,t)).user,c=await hE(Th(Dh,"users",l.uid));return c.exists()?{success:!0,user:{...c.data(),uid:l.uid}}:{success:!1,error:"User data not found"}}catch(i){return console.error("Login error:",i),i.code==="auth/user-not-found"||i.code==="auth/wrong-password"?{success:!1,error:"Invalid username or password"}:{success:!1,error:i.message}}},aD=async()=>{try{return await HC(xh),{success:!0}}catch(s){return console.error("Logout error:",s),{success:!1,error:s.message}}},oD=async(s,t)=>{try{const i=Th(Dh,"users",s);return await LI(i,t),{success:!0}}catch(i){return console.error("Update error:",i),{success:!1,error:i.message}}},lD=async s=>{try{const t=await hE(Th(Dh,"users",s));return t.exists()?{success:!0,user:t.data()}:{success:!1,error:"User not found"}}catch(t){return console.error("Get user error:",t),{success:!1,error:t.message}}},uD=({onLogin:s})=>{const[t,i]=xt.useState(!1),[r,l]=xt.useState(""),[c,d]=xt.useState(""),[p,y]=xt.useState(""),[_,A]=xt.useState(""),[b,N]=xt.useState(""),[B,H]=xt.useState(""),[Z,J]=xt.useState(!1),it=async St=>{if(St.preventDefault(),H(""),!r||!c){H("Please fill in all fields");return}if(t){if(!_||!b){H("Please enter your first and last name");return}if(c!==p){H("Passwords do not match");return}if(c.length<6){H("Password must be at least 6 characters");return}}J(!0);try{let Dt;t?Dt=await rD(r,c,_,b):Dt=await sD(r,c),Dt.success?s(Dt.user):H(Dt.error)}catch(Dt){console.error("Authentication error:",Dt),H("An unexpected error occurred. Please try again.")}finally{J(!1)}},st={width:"100%",padding:"12px 12px 12px 40px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--glass-border)",borderRadius:"8px",color:"white",outline:"none"},lt={display:"block",marginBottom:"8px",color:"var(--text-muted)",fontSize:"0.9rem"};return E.jsx("div",{className:"container",style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsxs("div",{className:"glass-panel",style:{padding:"40px",width:"100%",maxWidth:"400px"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[E.jsx("h1",{style:{color:"var(--primary)",fontSize:"2.5rem",marginBottom:"10px"},children:"Al-Hafiz"}),E.jsx("p",{style:{color:"var(--text-muted)"},children:t?"Begin your journey":"Welcome back"})]}),E.jsxs("form",{onSubmit:it,children:[t&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:lt,children:"First Name"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(Q_,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"text",value:_,onChange:St=>A(St.target.value),disabled:Z,style:st,placeholder:"Enter first name"})]})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:lt,children:"Last Name"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(Q_,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"text",value:b,onChange:St=>N(St.target.value),disabled:Z,style:st,placeholder:"Enter last name"})]})]})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:lt,children:"Username"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(NA,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"text",value:r,onChange:St=>l(St.target.value),disabled:Z,style:st,placeholder:"Enter username"})]})]}),E.jsxs("div",{style:{marginBottom:t?"20px":"30px"},children:[E.jsx("label",{style:lt,children:"Password"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(Xd,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"password",value:c,onChange:St=>d(St.target.value),disabled:Z,style:st,placeholder:"Enter password"})]})]}),t&&E.jsxs("div",{style:{marginBottom:"30px"},children:[E.jsx("label",{style:lt,children:"Confirm Password"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(Xd,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"password",value:p,onChange:St=>y(St.target.value),disabled:Z,style:st,placeholder:"Re-enter password"})]})]}),B&&E.jsx("p",{style:{color:"#EF4444",marginBottom:"20px",textAlign:"center",fontSize:"0.9rem"},children:B}),E.jsxs("button",{type:"submit",className:"btn-primary",disabled:Z,style:{width:"100%",justifyContent:"center",marginBottom:"20px",opacity:Z?.5:1},children:[Z?"Please wait...":t?"Create Account":"Login"," ",E.jsx(HS,{size:20})]}),E.jsx("div",{style:{textAlign:"center"},children:t?E.jsxs("p",{style:{color:"var(--text-muted)",cursor:"pointer",margin:0},onClick:()=>{i(!1),H(""),A(""),N(""),y("")},children:["Already have an account? ",E.jsx("span",{style:{color:"var(--primary)"},children:"Login"})]}):E.jsx("button",{type:"button",onClick:()=>{i(!0),H("")},className:"btn-outline",style:{width:"100%",justifyContent:"center"},children:"Sign Up"})})]})]})})},cD=({show:s,message:t="Session saved"})=>s?E.jsxs("div",{style:{position:"fixed",bottom:"90px",right:"20px",background:"rgba(16, 185, 129, 0.9)",color:"white",padding:"12px 20px",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",zIndex:1e3,animation:"slideIn 0.3s ease",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:[" ",t,E.jsx("style",{children:`
        @keyframes slideIn {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `})]}):null,hD=()=>{const s=()=>{confirm(" This will delete ALL your progress and log you out. Are you sure?")&&(localStorage.clear(),window.location.reload())};return E.jsx("button",{onClick:s,style:{position:"fixed",bottom:"100px",right:"20px",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:1e3},title:"Reset All Data (for testing)",children:E.jsx(EA,{size:24,color:"#ff0000"})})};function fD(){const[s,t]=xt.useState("home"),[i,r]=xt.useState(!1),[l,c]=xt.useState(null),[d,p]=xt.useState(!0);xt.useEffect(()=>{const N=BC(xh,async B=>{if(B){const H=await lD(B.uid);H.success&&c({...H.user,uid:B.uid})}else c(null);p(!1)});return()=>N()},[]);const y=N=>{c(N),r(!0),setTimeout(()=>r(!1),2500)},_=async()=>{await aD(),c(null),t("home")},A=async N=>{if(!(!l||!l.uid))try{const B={},H={},Z=["streak","lastActivityDate","joinedDate","settings"];Object.keys(N).forEach(st=>{Z.includes(st)?B[st]=N[st]:H[st]=N[st]});const J={};Object.keys(B).length>0&&Object.assign(J,B),Object.keys(H).length>0&&(J.progress={...l.progress,...H});const it={...l,...B,progress:J.progress||l.progress};c(it),await oD(l.uid,J)}catch(B){console.error(" Error updating user:",B),alert("Failed to save progress. Please check your connection.")}},b=()=>{switch(s){case"home":return E.jsx(K_,{setView:t,user:l,onLogout:_});case"memorize":return E.jsx(VA,{user:l,updateUserProgress:A,setView:t});case"plan":return E.jsx(kA,{user:l,setView:t,updateUserProgress:A});case"settings":return E.jsx(zA,{setView:t,user:l,updateUser:A});case"tutorial":return E.jsx(PA,{setView:t});default:return E.jsx(K_,{setView:t,user:l,onLogout:_})}};return d?E.jsx("div",{className:"flex-center",style:{height:"100vh"},children:E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("h2",{style:{color:"var(--primary)"},children:"Al-Hafiz"}),E.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading..."})]})}):l?E.jsxs(E.Fragment,{children:[E.jsx("main",{style:{paddingTop:"40px",minHeight:"100vh"},children:b()}),E.jsx(MA,{currentView:s,setView:t}),E.jsx(cD,{show:i,onClose:()=>r(!1)}),E.jsx(hD,{})]}):E.jsx(uD,{onLogin:y})}OS.createRoot(document.getElementById("root")).render(E.jsx(xt.StrictMode,{children:E.jsx(fD,{})}));
