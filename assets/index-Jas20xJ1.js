(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Dd={exports:{}},dl={};var k_;function bS(){if(k_)return dl;k_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var z_;function wS(){return z_||(z_=1,Dd.exports=bS()),Dd.exports}var E=wS(),Nd={exports:{}},St={};var L_;function RS(){if(L_)return St;L_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),N=Symbol.iterator;function B(x){return x===null||typeof x!="object"?null:(x=N&&x[N]||x["@@iterator"],typeof x=="function"?x:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,J={};function it(x,G,W){this.props=x,this.context=G,this.refs=J,this.updater=W||H}it.prototype.isReactComponent={},it.prototype.setState=function(x,G){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,G,"setState")},it.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function st(){}st.prototype=it.prototype;function ot(x,G,W){this.props=x,this.context=G,this.refs=J,this.updater=W||H}var Tt=ot.prototype=new st;Tt.constructor=ot,Z(Tt,it.prototype),Tt.isPureReactComponent=!0;var xt=Array.isArray;function Lt(){}var D={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(x,G,W){var et=W.ref;return{$$typeof:s,type:x,key:G,ref:et!==void 0?et:null,props:W}}function V(x,G){return C(x.type,G,x.props)}function M(x){return typeof x=="object"&&x!==null&&x.$$typeof===s}function z(x){var G={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(W){return G[W]})}var R=/\/+/g;function ne(x,G){return typeof x=="object"&&x!==null&&x.key!=null?z(""+x.key):G.toString(36)}function pe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(Lt,Lt):(x.status="pending",x.then(function(G){x.status==="pending"&&(x.status="fulfilled",x.value=G)},function(G){x.status==="pending"&&(x.status="rejected",x.reason=G)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Q(x,G,W,et,ct){var gt=typeof x;(gt==="undefined"||gt==="boolean")&&(x=null);var bt=!1;if(x===null)bt=!0;else switch(gt){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(x.$$typeof){case s:case t:bt=!0;break;case A:return bt=x._init,Q(bt(x._payload),G,W,et,ct)}}if(bt)return ct=ct(x),bt=et===""?"."+ne(x,0):et,xt(ct)?(W="",bt!=null&&(W=bt.replace(R,"$&/")+"/"),Q(ct,G,W,"",function(ei){return ei})):ct!=null&&(M(ct)&&(ct=V(ct,W+(ct.key==null||x&&x.key===ct.key?"":(""+ct.key).replace(R,"$&/")+"/")+bt)),G.push(ct)),1;bt=0;var ae=et===""?".":et+":";if(xt(x))for(var qt=0;qt<x.length;qt++)et=x[qt],gt=ae+ne(et,qt),bt+=Q(et,G,W,gt,ct);else if(qt=B(x),typeof qt=="function")for(x=qt.call(x),qt=0;!(et=x.next()).done;)et=et.value,gt=ae+ne(et,qt++),bt+=Q(et,G,W,gt,ct);else if(gt==="object"){if(typeof x.then=="function")return Q(pe(x),G,W,et,ct);throw G=String(x),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return bt}function rt(x,G,W){if(x==null)return x;var et=[],ct=0;return Q(x,et,"","",function(gt){return G.call(W,gt,ct++)}),et}function dt(x){if(x._status===-1){var G=x._result;G=G(),G.then(function(W){(x._status===0||x._status===-1)&&(x._status=1,x._result=W)},function(W){(x._status===0||x._status===-1)&&(x._status=2,x._result=W)}),x._status===-1&&(x._status=0,x._result=G)}if(x._status===1)return x._result.default;throw x._result}var Pt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},lt={map:rt,forEach:function(x,G,W){rt(x,function(){G.apply(this,arguments)},W)},count:function(x){var G=0;return rt(x,function(){G++}),G},toArray:function(x){return rt(x,function(G){return G})||[]},only:function(x){if(!M(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return St.Activity=b,St.Children=lt,St.Component=it,St.Fragment=i,St.Profiler=l,St.PureComponent=ot,St.StrictMode=r,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,St.__COMPILER_RUNTIME={__proto__:null,c:function(x){return D.H.useMemoCache(x)}},St.cache=function(x){return function(){return x.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(x,G,W){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var et=Z({},x.props),ct=x.key;if(G!=null)for(gt in G.key!==void 0&&(ct=""+G.key),G)!w.call(G,gt)||gt==="key"||gt==="__self"||gt==="__source"||gt==="ref"&&G.ref===void 0||(et[gt]=G[gt]);var gt=arguments.length-2;if(gt===1)et.children=W;else if(1<gt){for(var bt=Array(gt),ae=0;ae<gt;ae++)bt[ae]=arguments[ae+2];et.children=bt}return C(x.type,ct,et)},St.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},St.createElement=function(x,G,W){var et,ct={},gt=null;if(G!=null)for(et in G.key!==void 0&&(gt=""+G.key),G)w.call(G,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ct[et]=G[et]);var bt=arguments.length-2;if(bt===1)ct.children=W;else if(1<bt){for(var ae=Array(bt),qt=0;qt<bt;qt++)ae[qt]=arguments[qt+2];ct.children=ae}if(x&&x.defaultProps)for(et in bt=x.defaultProps,bt)ct[et]===void 0&&(ct[et]=bt[et]);return C(x,gt,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(x){return{$$typeof:p,render:x}},St.isValidElement=M,St.lazy=function(x){return{$$typeof:A,_payload:{_status:-1,_result:x},_init:dt}},St.memo=function(x,G){return{$$typeof:_,type:x,compare:G===void 0?null:G}},St.startTransition=function(x){var G=D.T,W={};D.T=W;try{var et=x(),ct=D.S;ct!==null&&ct(W,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Lt,Pt)}catch(gt){Pt(gt)}finally{G!==null&&W.types!==null&&(G.types=W.types),D.T=G}},St.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},St.use=function(x){return D.H.use(x)},St.useActionState=function(x,G,W){return D.H.useActionState(x,G,W)},St.useCallback=function(x,G){return D.H.useCallback(x,G)},St.useContext=function(x){return D.H.useContext(x)},St.useDebugValue=function(){},St.useDeferredValue=function(x,G){return D.H.useDeferredValue(x,G)},St.useEffect=function(x,G){return D.H.useEffect(x,G)},St.useEffectEvent=function(x){return D.H.useEffectEvent(x)},St.useId=function(){return D.H.useId()},St.useImperativeHandle=function(x,G,W){return D.H.useImperativeHandle(x,G,W)},St.useInsertionEffect=function(x,G){return D.H.useInsertionEffect(x,G)},St.useLayoutEffect=function(x,G){return D.H.useLayoutEffect(x,G)},St.useMemo=function(x,G){return D.H.useMemo(x,G)},St.useOptimistic=function(x,G){return D.H.useOptimistic(x,G)},St.useReducer=function(x,G,W){return D.H.useReducer(x,G,W)},St.useRef=function(x){return D.H.useRef(x)},St.useState=function(x){return D.H.useState(x)},St.useSyncExternalStore=function(x,G,W){return D.H.useSyncExternalStore(x,G,W)},St.useTransition=function(){return D.H.useTransition()},St.version="19.2.0",St}var P_;function Sm(){return P_||(P_=1,Nd.exports=RS()),Nd.exports}var Ct=Sm(),Md={exports:{}},ml={},Od={exports:{}},Vd={};var U_;function IS(){return U_||(U_=1,(function(s){function t(Q,rt){var dt=Q.length;Q.push(rt);t:for(;0<dt;){var Pt=dt-1>>>1,lt=Q[Pt];if(0<l(lt,rt))Q[Pt]=rt,Q[dt]=lt,dt=Pt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var rt=Q[0],dt=Q.pop();if(dt!==rt){Q[0]=dt;t:for(var Pt=0,lt=Q.length,x=lt>>>1;Pt<x;){var G=2*(Pt+1)-1,W=Q[G],et=G+1,ct=Q[et];if(0>l(W,dt))et<lt&&0>l(ct,W)?(Q[Pt]=ct,Q[et]=dt,Pt=et):(Q[Pt]=W,Q[G]=dt,Pt=G);else if(et<lt&&0>l(ct,dt))Q[Pt]=ct,Q[et]=dt,Pt=et;else break t}}return rt}function l(Q,rt){var dt=Q.sortIndex-rt.sortIndex;return dt!==0?dt:Q.id-rt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,b=null,N=3,B=!1,H=!1,Z=!1,J=!1,it=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Tt(Q){for(var rt=i(_);rt!==null;){if(rt.callback===null)r(_);else if(rt.startTime<=Q)r(_),rt.sortIndex=rt.expirationTime,t(y,rt);else break;rt=i(_)}}function xt(Q){if(Z=!1,Tt(Q),!H)if(i(y)!==null)H=!0,Lt||(Lt=!0,z());else{var rt=i(_);rt!==null&&pe(xt,rt.startTime-Q)}}var Lt=!1,D=-1,w=5,C=-1;function V(){return J?!0:!(s.unstable_now()-C<w)}function M(){if(J=!1,Lt){var Q=s.unstable_now();C=Q;var rt=!0;try{t:{H=!1,Z&&(Z=!1,st(D),D=-1),B=!0;var dt=N;try{e:{for(Tt(Q),b=i(y);b!==null&&!(b.expirationTime>Q&&V());){var Pt=b.callback;if(typeof Pt=="function"){b.callback=null,N=b.priorityLevel;var lt=Pt(b.expirationTime<=Q);if(Q=s.unstable_now(),typeof lt=="function"){b.callback=lt,Tt(Q),rt=!0;break e}b===i(y)&&r(y),Tt(Q)}else r(y);b=i(y)}if(b!==null)rt=!0;else{var x=i(_);x!==null&&pe(xt,x.startTime-Q),rt=!1}}break t}finally{b=null,N=dt,B=!1}rt=void 0}}finally{rt?z():Lt=!1}}}var z;if(typeof ot=="function")z=function(){ot(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=M,z=function(){ne.postMessage(null)}}else z=function(){it(M,0)};function pe(Q,rt){D=it(function(){Q(s.unstable_now())},rt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var rt=3;break;default:rt=N}var dt=N;N=rt;try{return Q()}finally{N=dt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(Q,rt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var dt=N;N=Q;try{return rt()}finally{N=dt}},s.unstable_scheduleCallback=function(Q,rt,dt){var Pt=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Pt+dt:Pt):dt=Pt,Q){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=dt+lt,Q={id:A++,callback:rt,priorityLevel:Q,startTime:dt,expirationTime:lt,sortIndex:-1},dt>Pt?(Q.sortIndex=dt,t(_,Q),i(y)===null&&Q===i(_)&&(Z?(st(D),D=-1):Z=!0,pe(xt,dt-Pt))):(Q.sortIndex=lt,t(y,Q),H||B||(H=!0,Lt||(Lt=!0,z()))),Q},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(Q){var rt=N;return function(){var dt=N;N=rt;try{return Q.apply(this,arguments)}finally{N=dt}}}})(Vd)),Vd}var j_;function CS(){return j_||(j_=1,Od.exports=IS()),Od.exports}var kd={exports:{}},Ke={};var B_;function xS(){if(B_)return Ke;B_=1;var s=Sm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Ke.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},Ke.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Ke.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ke.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,B=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:B}):A==="script"&&r.d.X(y,{crossOrigin:b,integrity:N,fetchPriority:B,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ke.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Ke.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,b=p(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ke.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Ke.requestFormReset=function(y){r.d.r(y)},Ke.unstable_batchedUpdates=function(y,_){return y(_)},Ke.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.0",Ke}var H_;function DS(){if(H_)return kd.exports;H_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=xS(),kd.exports}var q_;function NS(){if(q_)return ml;q_=1;var s=CS(),t=Sm(),i=DS();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,T=h.child;T;){if(T===a){g=!0,a=h,o=f;break}if(T===o){g=!0,o=h,a=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===a){g=!0,a=f,o=h;break}if(T===o){g=!0,o=f,a=h;break}T=T.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,N=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),xt=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case it:return"Profiler";case J:return"StrictMode";case xt:return"Suspense";case Lt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case ot:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case Tt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var pe=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Pt=[],lt=-1;function x(e){return{current:e}}function G(e){0>lt||(e.current=Pt[lt],Pt[lt]=null,lt--)}function W(e,n){lt++,Pt[lt]=e.current,e.current=n}var et=x(null),ct=x(null),gt=x(null),bt=x(null);function ae(e,n){switch(W(gt,n),W(ct,e),W(et,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=r_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(et),W(et,e)}function qt(){G(et),G(ct),G(gt)}function ei(e){e.memoizedState!==null&&W(bt,e);var n=et.current,a=s_(n,e.type);n!==a&&(W(ct,e),W(et,a))}function or(e){ct.current===e&&(G(et),G(ct)),bt.current===e&&(G(bt),ul._currentValue=dt)}var rn,ni;function jn(e){if(rn===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);rn=n&&n[1]||"",ni=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rn+e+ni}var ls=!1;function lr(e,n){if(!e||ls)return"";ls=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var j=F}Reflect.construct(e,[],X)}else{try{X.call()}catch(F){j=F}e.call(X.prototype)}}else{try{throw Error()}catch(F){j=F}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&j&&typeof F.stack=="string")return[F.stack,j.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var I=g.split(`
`),U=T.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===U.length)for(o=I.length-1,h=U.length-1;1<=o&&0<=h&&I[o]!==U[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==U[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==U[h]){var Y=`
`+I[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{ls=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?jn(a):""}function Zs(e,n){switch(e.tag){case 26:case 27:case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return e.child!==n&&n!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return jn("Activity");default:return""}}function us(e){try{var n="",a=null;do n+=Zs(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ue=Object.prototype.hasOwnProperty,fe=s.unstable_scheduleCallback,sn=s.unstable_cancelCallback,co=s.unstable_shouldYield,Jl=s.unstable_requestPaint,tn=s.unstable_now,cs=s.unstable_getCurrentPriorityLevel,ho=s.unstable_ImmediatePriority,fo=s.unstable_UserBlockingPriority,ur=s.unstable_NormalPriority,Mh=s.unstable_LowPriority,Zl=s.unstable_IdlePriority,Wl=s.log,tu=s.unstable_setDisableYieldValue,Bn=null,Ue=null;function wn(e){if(typeof Wl=="function"&&tu(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(Bn,e)}catch{}}var ge=Math.clz32?Math.clz32:nu,eu=Math.log,Ws=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/Ws|0)|0}var ii=256,hs=262144,Te=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=ri(o):(g&=T,g!==0?h=ri(g):a||(a=T&~e,a!==0&&(h=ri(a))))):(T=o&~f,T!==0?h=ri(T):g!==0?h=ri(g):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ai(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function fs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,I=e.expirationTimes,U=e.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-ge(a),X=1<<Y;T[Y]=0,I[Y]=-1;var j=U[Y];if(j!==null)for(U[Y]=null,Y=0;Y<j.length;Y++){var F=j[Y];F!==null&&(F.lane&=-536870913)}a&=~X}o!==0&&ds(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ds(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ge(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function mo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-ge(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function po(e,n){var a=n&-n;return a=(a&42)!==0?1:ms(a),(a&(e.suspendedLanes|n))!==0?0:a}function ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function qn(e,n){var a=rt.p;try{return rt.p=e,n()}finally{rt.p=a}}var Fn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Fn,ke="__reactProps$"+Fn,oi="__reactContainer$"+Fn,ta="__reactEvents$"+Fn,kh="__reactListeners$"+Fn,su="__reactHandles$"+Fn,au="__reactResources$"+Fn,li="__reactMarker$"+Fn;function ea(e){delete e[Se],delete e[ke],delete e[ta],delete e[kh],delete e[su]}function ui(e){var n=e[Se];if(n)return n;for(var a=e.parentNode;a;){if(n=a[oi]||a[Se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=f_(e);e!==null;){if(a=e[Se])return a;e=f_(e)}return n}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Se]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ci(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[li]=!0}var go=new Set,yo={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(yo[e]=n,e=0;e<n.length;e++)go.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function ou(e){return ue.call(Eo,e)?!0:ue.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function na(e,n,a){if(ou(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function gn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function be(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cr(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=cr(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function ps(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=cr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gs=/[\n"\\]/g;function an(e){return e.replace(gs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,a,o,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?So(e,g,ze(n)):a!=null?So(e,g,ze(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ze(T):e.removeAttribute("name")}function lu(e,n,a,o,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}a=a!=null?""+ze(a):"",n=n!=null?""+ze(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Yt(e)}function So(e,n,a){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function hr(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,a){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+ze(a):""}function fr(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(pe(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=ze(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Yt(e)}function on(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||cu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function bo(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Ao(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Ao(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return dr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var wo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var mr=null,mi=null;function ys(e){var n=Rn(e);if(n&&(e=n.stateNode)){var a=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(r(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&ps(o)}break t;case"textarea":uu(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&hr(e,!!a.multiple,n,!1)}}}var aa=!1;function pr(e,n,a){if(aa)return e(n,a);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(mr!==null||mi!==null)&&(rc(),mr&&(n=mr,e=mi,mi=mr=null,ys(n),e)))for(n=0;n<e.length;n++)ys(e[n])}}function Qn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[ke]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_s=!1;if(Cn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){_s=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{_s=!1}var pi=null,Ro=null,vs=null;function Io(){if(vs)return vs;var e,n=Ro,a=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return vs=h.slice(e,1<o?1-o:void 0)}function Es(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Yn(){return!1}function je(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Yn,this.isPropagationStopped=Yn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=je(zi),gr=b({},zi,{view:0,detail:0}),Co=je(gr),yr,oa,yi,la=b({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(yr=e.screenX-yi.screenX,oa=e.screenY-yi.screenY):oa=yr=0,yi=e),yr)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),xo=je(la),Ts=b({},la,{dataTransfer:0}),fu=je(Ts),du=b({},gr,{relatedTarget:0}),Ss=je(du),Do=b({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=je(Do),ua=b({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=je(ua),gu=b({},zi,{data:0}),_i=je(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function _r(){return Eu}var en=b({},gr,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(e){return e.type==="keypress"?Es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=je(en),Su=b({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=je(Su),u=b({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),m=je(u),v=b({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=je(v),L=b({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=je(L),nt=b({},zi,{newState:0,oldState:0}),wt=je(nt),ye=[9,13,27,32],Ft=Cn&&"CompositionEvent"in window,oe=null;Cn&&"documentMode"in document&&(oe=document.documentMode);var xn=Cn&&"TextEvent"in window&&!oe,vi=Cn&&(!Ft||oe&&8<oe&&11>=oe),Kn=" ",Xn=!1;function As(e,n){switch(e){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function KE(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Xn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Xn?null:e;default:return null}}function XE(e,n){if(ha)return e==="compositionend"||!Ft&&As(e,n)?(e=Io(),vs=Ro=pi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var $E={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$E[e.type]:n==="textarea"}function gp(e,n,a,o){mr?mi?mi.push(o):mi=[o]:mr=o,n=hc(n,"onChange"),0<n.length&&(a=new gi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var No=null,Mo=null;function JE(e){Zy(e,0)}function Au(e){var n=pn(e);if(ps(n))return e}function yp(e,n){if(e==="change")return n}var _p=!1;if(Cn){var zh;if(Cn){var Lh="oninput"in document;if(!Lh){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Lh=typeof vp.oninput=="function"}zh=Lh}else zh=!1;_p=zh&&(!document.documentMode||9<document.documentMode)}function Ep(){No&&(No.detachEvent("onpropertychange",Tp),Mo=No=null)}function Tp(e){if(e.propertyName==="value"&&Au(Mo)){var n=[];gp(n,Mo,e,In(e)),pr(JE,n)}}function ZE(e,n,a){e==="focusin"?(Ep(),No=n,Mo=a,No.attachEvent("onpropertychange",Tp)):e==="focusout"&&Ep()}function WE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Mo)}function tT(e,n){if(e==="click")return Au(n)}function eT(e,n){if(e==="input"||e==="change")return Au(n)}function nT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:nT;function Oo(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!ue.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function Sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,n){var a=Sp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sp(a)}}function bp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=di(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iT=Cn&&"documentMode"in document&&11>=document.documentMode,fa=null,Uh=null,Vo=null,jh=!1;function Rp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jh||fa==null||fa!==di(o)||(o=fa,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Vo&&Oo(Vo,o)||(Vo=o,o=hc(Uh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=fa)))}function bs(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var da={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionrun:bs("Transition","TransitionRun"),transitionstart:bs("Transition","TransitionStart"),transitioncancel:bs("Transition","TransitionCancel"),transitionend:bs("Transition","TransitionEnd")},Bh={},Ip={};Cn&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function ws(e){if(Bh[e])return Bh[e];if(!da[e])return e;var n=da[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ip)return Bh[e]=n[a];return e}var Cp=ws("animationend"),xp=ws("animationiteration"),Dp=ws("animationstart"),rT=ws("transitionrun"),sT=ws("transitionstart"),aT=ws("transitioncancel"),Np=ws("transitionend"),Mp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function $n(e,n){Mp.set(e,n),hi(n,[e])}var bu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],ma=0,qh=0;function wu(){for(var e=ma,n=qh=ma=0;n<e;){var a=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Op(a,h,f)}}function Ru(e,n,a,o){Dn[ma++]=e,Dn[ma++]=n,Dn[ma++]=a,Dn[ma++]=o,qh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fh(e,n,a,o){return Ru(e,n,a,o),Iu(e)}function Rs(e,n){return Ru(e,null,null,n),Iu(e)}function Op(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ge(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Iu(e){if(50<nl)throw nl=0,td=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function oT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,a,o){return new oT(e,n,a,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var a=e.alternate;return a===null?(a=_n(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Vp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Cu(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")Gh(e)&&(g=1);else if(typeof e=="string")g=fS(e,a,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=_n(31,a,n,h),e.elementType=C,e.lanes=f,e;case Z:return Is(a.children,h,f,n);case J:g=8,h|=24;break;case it:return e=_n(12,a,n,h|2),e.elementType=it,e.lanes=f,e;case xt:return e=_n(13,a,n,h),e.elementType=xt,e.lanes=f,e;case Lt:return e=_n(19,a,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:g=10;break t;case st:g=9;break t;case Tt:g=11;break t;case D:g=14;break t;case w:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=_n(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Is(e,n,a,o){return e=_n(7,e,o,n),e.lanes=a,e}function Qh(e,n,a){return e=_n(6,e,null,n),e.lanes=a,e}function kp(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function Yh(e,n,a){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zp=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var a=zp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:us(n)},zp.set(e,n),n)}return{value:e,source:n,stack:us(n)}}var ga=[],ya=0,xu=null,ko=0,Mn=[],On=0,vr=null,Ei=1,Ti="";function Ui(e,n){ga[ya++]=ko,ga[ya++]=xu,xu=e,ko=n}function Lp(e,n,a){Mn[On++]=Ei,Mn[On++]=Ti,Mn[On++]=vr,vr=e;var o=Ei;e=Ti;var h=32-ge(o)-1;o&=~(1<<h),a+=1;var f=32-ge(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ei=1<<32-ge(n)+h|a<<h|o,Ti=f+e}else Ei=1<<f|a<<h|o,Ti=e}function Kh(e){e.return!==null&&(Ui(e,1),Lp(e,1,0))}function Xh(e){for(;e===xu;)xu=ga[--ya],ga[ya]=null,ko=ga[--ya],ga[ya]=null;for(;e===vr;)vr=Mn[--On],Mn[On]=null,Ti=Mn[--On],Mn[On]=null,Ei=Mn[--On],Mn[On]=null}function Pp(e,n){Mn[On++]=Ei,Mn[On++]=Ti,Mn[On++]=vr,Ei=n.id,Ti=n.overflow,vr=e}var Be=null,ie=null,Ut=!1,Er=null,Vn=!1,$h=Error(r(519));function Tr(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zo(Nn(n,e)),$h}function Up(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Se]=e,n[ke]=o,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<rl.length;a++)Nt(rl[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),fr(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||n_(n.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Tr(e,!0)}function jp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function _a(e){if(e!==Be)return!1;if(!Ut)return jp(e),Ut=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pd(e.type,e.memoizedProps)),a=!a),a&&ie&&Tr(e),jp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ie=h_(e)}else n===27?(n=ie,kr(e.type)?(e=Ed,Ed=null,ie=e):ie=n):ie=Be?zn(e.stateNode.nextSibling):null;return!0}function Cs(){ie=Be=null,Ut=!1}function Jh(){var e=Er;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Er=null),e}function zo(e){Er===null?Er=[e]:Er.push(e)}var Zh=x(null),xs=null,ji=null;function Sr(e,n,a){W(Zh,n._currentValue),n._currentValue=a}function Bi(e){e._currentValue=Zh.current,G(Zh)}function Wh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function tf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var I=0;I<n.length;I++)if(T.context===n[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Wh(f.return,a,e),o||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),Wh(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var T=h.type;yn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===bt.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&tf(n,e,a,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){xs=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Bp(xs,e)}function Nu(e,n){return xs===null&&Ds(e),Bp(e,n)}function Bp(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},ji===null){if(e===null)throw Error(r(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return a}var lT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},uT=s.unstable_scheduleCallback,cT=s.unstable_NormalPriority,we={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new lT,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&uT(cT,function(){e.controller.abort()})}var Po=null,nf=0,Ea=0,Ta=null;function hT(e,n){if(Po===null){var a=Po=[];nf=0,Ea=ad(),Ta={status:"pending",value:void 0,then:function(o){a.push(o)}}}return nf++,n.then(Hp,Hp),n}function Hp(){if(--nf===0&&Po!==null){Ta!==null&&(Ta.status="fulfilled");var e=Po;Po=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function fT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var qp=Q.S;Q.S=function(e,n){Ry=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hT(e,n),qp!==null&&qp(e,n)};var Ns=x(null);function rf(){var e=Ns.current;return e!==null?e:ee.pooledCache}function Mu(e,n){n===null?W(Ns,Ns.current):W(Ns,n.pool)}function Fp(){var e=rf();return e===null?null:{parent:we._currentValue,pool:e}}var Sa=Error(r(460)),sf=Error(r(474)),Ou=Error(r(542)),Vu={then:function(){}};function Gp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qp(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Gn,Gn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kp(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Kp(e),e}throw Os=n,Sa}}function Ms(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Os=a,Sa):a}}var Os=null;function Yp(){if(Os===null)throw Error(r(459));var e=Os;return Os=null,e}function Kp(e){if(e===Sa||e===Ou)throw Error(r(483))}var Aa=null,Uo=0;function ku(e){var n=Uo;return Uo+=1,Aa===null&&(Aa=[]),Qp(Aa,e,n)}function jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===N?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xp(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function a(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function o(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Pi(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,O,P,K){return O===null||O.tag!==6?(O=Qh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function I(k,O,P,K){var mt=P.type;return mt===Z?Y(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Ms(mt)===O.type)?(O=h(O,P.props),jo(O,P),O.return=k,O):(O=Cu(P.type,P.key,P.props,null,k.mode,K),jo(O,P),O.return=k,O)}function U(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Yh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function Y(k,O,P,K,mt){return O===null||O.tag!==7?(O=Is(P,k.mode,K,mt),O.return=k,O):(O=h(O,P),O.return=k,O)}function X(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case B:return P=Cu(O.type,O.key,O.props,null,k.mode,P),jo(P,O),P.return=k,P;case H:return O=Yh(O,k.mode,P),O.return=k,O;case w:return O=Ms(O),X(k,O,P)}if(pe(O)||z(O))return O=Is(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return X(k,ku(O),P);if(O.$$typeof===ot)return X(k,Nu(k,O),P);zu(k,O)}return null}function j(k,O,P,K){var mt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:T(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case B:return P.key===mt?I(k,O,P,K):null;case H:return P.key===mt?U(k,O,P,K):null;case w:return P=Ms(P),j(k,O,P,K)}if(pe(P)||z(P))return mt!==null?null:Y(k,O,P,K,null);if(typeof P.then=="function")return j(k,O,ku(P),K);if(P.$$typeof===ot)return j(k,O,Nu(k,P),K);zu(k,P)}return null}function F(k,O,P,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,T(O,k,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case B:return k=k.get(K.key===null?P:K.key)||null,I(O,k,K,mt);case H:return k=k.get(K.key===null?P:K.key)||null,U(O,k,K,mt);case w:return K=Ms(K),F(k,O,P,K,mt)}if(pe(K)||z(K))return k=k.get(P)||null,Y(O,k,K,mt,null);if(typeof K.then=="function")return F(k,O,P,ku(K),mt);if(K.$$typeof===ot)return F(k,O,P,Nu(O,K),mt);zu(O,K)}return null}function ut(k,O,P,K){for(var mt=null,Bt=null,ht=O,It=O=0,Ot=null;ht!==null&&It<P.length;It++){ht.index>It?(Ot=ht,ht=null):Ot=ht.sibling;var Ht=j(k,ht,P[It],K);if(Ht===null){ht===null&&(ht=Ot);break}e&&ht&&Ht.alternate===null&&n(k,ht),O=f(Ht,O,It),Bt===null?mt=Ht:Bt.sibling=Ht,Bt=Ht,ht=Ot}if(It===P.length)return a(k,ht),Ut&&Ui(k,It),mt;if(ht===null){for(;It<P.length;It++)ht=X(k,P[It],K),ht!==null&&(O=f(ht,O,It),Bt===null?mt=ht:Bt.sibling=ht,Bt=ht);return Ut&&Ui(k,It),mt}for(ht=o(ht);It<P.length;It++)Ot=F(ht,k,It,P[It],K),Ot!==null&&(e&&Ot.alternate!==null&&ht.delete(Ot.key===null?It:Ot.key),O=f(Ot,O,It),Bt===null?mt=Ot:Bt.sibling=Ot,Bt=Ot);return e&&ht.forEach(function(jr){return n(k,jr)}),Ut&&Ui(k,It),mt}function yt(k,O,P,K){if(P==null)throw Error(r(151));for(var mt=null,Bt=null,ht=O,It=O=0,Ot=null,Ht=P.next();ht!==null&&!Ht.done;It++,Ht=P.next()){ht.index>It?(Ot=ht,ht=null):Ot=ht.sibling;var jr=j(k,ht,Ht.value,K);if(jr===null){ht===null&&(ht=Ot);break}e&&ht&&jr.alternate===null&&n(k,ht),O=f(jr,O,It),Bt===null?mt=jr:Bt.sibling=jr,Bt=jr,ht=Ot}if(Ht.done)return a(k,ht),Ut&&Ui(k,It),mt;if(ht===null){for(;!Ht.done;It++,Ht=P.next())Ht=X(k,Ht.value,K),Ht!==null&&(O=f(Ht,O,It),Bt===null?mt=Ht:Bt.sibling=Ht,Bt=Ht);return Ut&&Ui(k,It),mt}for(ht=o(ht);!Ht.done;It++,Ht=P.next())Ht=F(ht,k,It,Ht.value,K),Ht!==null&&(e&&Ht.alternate!==null&&ht.delete(Ht.key===null?It:Ht.key),O=f(Ht,O,It),Bt===null?mt=Ht:Bt.sibling=Ht,Bt=Ht);return e&&ht.forEach(function(AS){return n(k,AS)}),Ut&&Ui(k,It),mt}function Wt(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case B:t:{for(var mt=P.key;O!==null;){if(O.key===mt){if(mt=P.type,mt===Z){if(O.tag===7){a(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Ms(mt)===O.type){a(k,O.sibling),K=h(O,P.props),jo(K,P),K.return=k,k=K;break t}a(k,O);break}else n(k,O);O=O.sibling}P.type===Z?(K=Is(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=Cu(P.type,P.key,P.props,null,k.mode,K),jo(K,P),K.return=k,k=K)}return g(k);case H:t:{for(mt=P.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){a(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break t}else{a(k,O);break}else n(k,O);O=O.sibling}K=Yh(P,k.mode,K),K.return=k,k=K}return g(k);case w:return P=Ms(P),Wt(k,O,P,K)}if(pe(P))return ut(k,O,P,K);if(z(P)){if(mt=z(P),typeof mt!="function")throw Error(r(150));return P=mt.call(P),yt(k,O,P,K)}if(typeof P.then=="function")return Wt(k,O,ku(P),K);if(P.$$typeof===ot)return Wt(k,O,Nu(k,P),K);zu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(a(k,O.sibling),K=h(O,P),K.return=k,k=K):(a(k,O),K=Qh(P,k.mode,K),K.return=k,k=K),g(k)):a(k,O)}return function(k,O,P,K){try{Uo=0;var mt=Wt(k,O,P,K);return Aa=null,mt}catch(ht){if(ht===Sa||ht===Ou)throw ht;var Bt=_n(29,ht,null,k.mode);return Bt.lanes=K,Bt.return=k,Bt}finally{}}}var Vs=Xp(!0),$p=Xp(!1),Ar=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function br(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wr(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Op(e,null,a),n}return Ru(e,o,n,a),Iu(e)}function Bo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,mo(e,a)}}function lf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var uf=!1;function Ho(){if(uf){var e=Ta;if(e!==null)throw e}}function qo(e,n,a,o){uf=!1;var h=e.updateQueue;Ar=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,U=I.next;I.next=null,g===null?f=U:g.next=U,g=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==g&&(T===null?Y.firstBaseUpdate=U:T.next=U,Y.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,Y=U=I=null,T=f;do{var j=T.lane&-536870913,F=j!==T.lane;if(F?(Mt&j)===j:(o&j)===j){j!==0&&j===Ea&&(uf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,yt=T;j=n;var Wt=a;switch(yt.tag){case 1:if(ut=yt.payload,typeof ut=="function"){X=ut.call(Wt,X,j);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=yt.payload,j=typeof ut=="function"?ut.call(Wt,X,j):ut,j==null)break t;X=b({},X,j);break t;case 2:Ar=!0}}j=T.callback,j!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[j]:F.push(j))}else F={lane:j,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(U=Y=F,I=X):Y=Y.next=F,g|=j;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(I=X),h.baseState=I,h.firstBaseUpdate=U,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Dr|=g,e.lanes=g,e.memoizedState=X}}function Jp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Zp(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Jp(a[e],n)}var ba=x(null),Lu=x(0);function Wp(e,n){e=$i,W(Lu,e),W(ba,n),$i=e|n.baseLanes}function cf(){W(Lu,$i),W(ba,ba.current)}function hf(){$i=Lu.current,G(ba),G(Lu)}var vn=x(null),kn=null;function Rr(e){var n=e.alternate;W(_e,_e.current&1),W(vn,e),kn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(kn=e)}function ff(e){W(_e,_e.current),W(vn,e),kn===null&&(kn=e)}function tg(e){e.tag===22?(W(_e,_e.current),W(vn,e),kn===null&&(kn=e)):Ir()}function Ir(){W(_e,_e.current),W(vn,vn.current)}function En(e){G(vn),kn===e&&(kn=null),G(_e)}var _e=x(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||vd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,Rt=null,Jt=null,Re=null,Uu=!1,wa=!1,ks=!1,ju=0,Fo=0,Ra=null,dT=0;function de(){throw Error(r(321))}function df(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!yn(e[a],n[a]))return!1;return!0}function mf(e,n,a,o,h,f){return Hi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?Lg:xf,ks=!1,f=a(o,h),ks=!1,wa&&(f=ng(n,a,o,h)),eg(e),f}function eg(e){Q.H=Yo;var n=Jt!==null&&Jt.next!==null;if(Hi=0,Re=Jt=Rt=null,Uu=!1,Fo=0,Ra=null,n)throw Error(r(300));e===null||Ie||(e=e.dependencies,e!==null&&Du(e)&&(Ie=!0))}function ng(e,n,a,o){Rt=e;var h=0;do{if(wa&&(Ra=null),Fo=0,wa=!1,25<=h)throw Error(r(301));if(h+=1,Re=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=Pg,f=n(a,o)}while(wa);return f}function mT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Go(n):n,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function pf(){var e=ju!==0;return ju=0,e}function gf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function yf(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Hi=0,Re=Jt=Rt=null,wa=!1,Fo=ju=0,Ra=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?Rt.memoizedState=Re=e:Re=Re.next=e,Re}function ve(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var n=Re===null?Rt.memoizedState:Re.next;if(n!==null)Re=n,Jt=e;else{if(e===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},Re===null?Rt.memoizedState=Re=e:Re=Re.next=e}return Re}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Go(e){var n=Fo;return Fo+=1,Ra===null&&(Ra=[]),e=Qp(Ra,e,n),n=Rt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Lg:xf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Go(e);if(e.$$typeof===ot)return He(e)}throw Error(r(438,String(e)))}function _f(e){var n=null,a=Rt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Bu(),Rt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function qi(e,n){return typeof n=="function"?n(e):n}function qu(e){var n=ve();return vf(n,Jt,e)}function vf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,I=null,U=n,Y=!1;do{var X=U.lane&-536870913;if(X!==U.lane?(Mt&X)===X:(Hi&X)===X){var j=U.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),X===Ea&&(Y=!0);else if((Hi&j)===j){U=U.next,j===Ea&&(Y=!0);continue}else X={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=X,g=f):I=I.next=X,Rt.lanes|=j,Dr|=j;X=U.action,ks&&a(f,X),f=U.hasEagerState?U.eagerState:a(f,X)}else j={lane:X,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},I===null?(T=I=j,g=f):I=I.next=j,Rt.lanes|=X,Dr|=X;U=U.next}while(U!==null&&U!==n);if(I===null?g=f:I.next=T,!yn(f,e.memoizedState)&&(Ie=!0,Y&&(a=Ta,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=ve(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);yn(f,n.memoizedState)||(Ie=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function ig(e,n,a){var o=Rt,h=ve(),f=Ut;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!yn((Jt||h).memoizedState,a);if(g&&(h.memoizedState=a,Ie=!0),h=h.queue,Af(ag.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},sg.bind(null,o,h,a,n),null),ee===null)throw Error(r(349));f||(Hi&127)!==0||rg(o,n,a)}return a}function rg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Rt.updateQueue,n===null?(n=Bu(),Rt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function sg(e,n,a,o){n.value=a,n.getSnapshot=o,og(n)&&lg(e)}function ag(e,n,a){return a(function(){og(n)&&lg(e)})}function og(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!yn(e,a)}catch{return!0}}function lg(e){var n=Rs(e,2);n!==null&&fn(n,e,2)}function Tf(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),ks){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function ug(e,n,a,o){return e.baseState=a,vf(e,Jt,typeof o=="function"?o:qi)}function pT(e,n,a,o,h){if(Qu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};Q.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,cg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function cg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=Q.T,g={};Q.T=g;try{var T=a(h,o),I=Q.S;I!==null&&I(g,T),hg(e,n,T)}catch(U){Sf(e,n,U)}finally{f!==null&&g.types!==null&&(f.types=g.types),Q.T=f}}else try{f=a(h,o),hg(e,n,f)}catch(U){Sf(e,n,U)}}function hg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){fg(e,n,o)},function(o){return Sf(e,n,o)}):fg(e,n,a)}function fg(e,n,a){n.status="fulfilled",n.value=a,dg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,cg(e,a)))}function Sf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,dg(n),n=n.next;while(n!==o)}e.action=null}function dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mg(e,n){return n}function pg(e,n){if(Ut){var a=ee.formState;if(a!==null){t:{var o=Rt;if(Ut){if(ie){e:{for(var h=ie,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=zn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=zn(h.nextSibling),o=h.data==="F!";break t}}Tr(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:n},a.queue=o,a=Vg.bind(null,Rt,o),o.dispatch=a,o=Tf(!1),f=Cf.bind(null,Rt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=pT.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function gg(e){var n=ve();return yg(n,Jt,e)}function yg(e,n,a){if(n=vf(e,n,mg)[0],e=qu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Go(n)}catch(g){throw g===Sa?Ou:g}else o=n;n=ve();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(Rt.flags|=2048,Ia(9,{destroy:void 0},gT.bind(null,h,a),null)),[o,f,e]}function gT(e,n){e.action=n}function _g(e){var n=ve(),a=Jt;if(a!==null)return yg(n,a,e);ve(),n=n.memoizedState,a=ve();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Ia(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=Bu(),Rt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function vg(){return ve().memoizedState}function Fu(e,n,a,o){var h=nn();Rt.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},a,o===void 0?null:o)}function Gu(e,n,a,o){var h=ve();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&df(o,Jt.memoizedState.deps)?h.memoizedState=Ia(n,f,a,o):(Rt.flags|=e,h.memoizedState=Ia(1|n,f,a,o))}function Eg(e,n){Fu(8390656,8,e,n)}function Af(e,n){Gu(2048,8,e,n)}function yT(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=Bu(),Rt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Tg(e){var n=ve().memoizedState;return yT({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Sg(e,n){return Gu(4,2,e,n)}function Ag(e,n){return Gu(4,4,e,n)}function bg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wg(e,n,a){a=a!=null?a.concat([e]):null,Gu(4,4,bg.bind(null,n,e),a)}function bf(){}function Rg(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&df(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Ig(e,n){var a=ve();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),ks){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function wf(e,n,a){return a===void 0||(Hi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Cy(),Rt.lanes|=e,Dr|=e,a)}function Cg(e,n,a,o){return yn(a,n)?a:ba.current!==null?(e=wf(e,a,o),yn(e,n)||(Ie=!0),e):(Hi&42)===0||(Hi&1073741824)!==0&&(Mt&261930)===0?(Ie=!0,e.memoizedState=a):(e=Cy(),Rt.lanes|=e,Dr|=e,n)}function xg(e,n,a,o,h){var f=rt.p;rt.p=f!==0&&8>f?f:8;var g=Q.T,T={};Q.T=T,Cf(e,!1,n,a);try{var I=h(),U=Q.S;if(U!==null&&U(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=fT(I,o);Qo(e,n,Y,An(e))}else Qo(e,n,o,An(e))}catch(X){Qo(e,n,{then:function(){},status:"rejected",reason:X},An())}finally{rt.p=f,g!==null&&T.types!==null&&(g.types=T.types),Q.T=g}}function _T(){}function Rf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Dg(e).queue;xg(e,h,n,dt,a===null?_T:function(){return Ng(e),a(o)})}function Dg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ng(e){var n=Dg(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},An())}function If(){return He(ul)}function Mg(){return ve().memoizedState}function Og(){return ve().memoizedState}function vT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=An();e=br(a);var o=wr(n,e,a);o!==null&&(fn(o,n,a),Bo(o,n,a)),n={cache:ef()},e.payload=n;return}n=n.return}}function ET(e,n,a){var o=An();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(e)?kg(n,a):(a=Fh(e,n,a,o),a!==null&&(fn(a,e,o),zg(a,n,o)))}function Vg(e,n,a){var o=An();Qo(e,n,a,o)}function Qo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))kg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,g))return Ru(e,n,h,0),ee===null&&wu(),!1}catch{}finally{}if(a=Fh(e,n,h,o),a!==null)return fn(a,e,o),zg(a,n,o),!0}return!1}function Cf(e,n,a,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(r(479))}else n=Fh(e,a,o,2),n!==null&&fn(n,e,2)}function Qu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function kg(e,n){wa=Uu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function zg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,mo(e,a)}}var Yo={readContext:He,use:Hu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Yo.useEffectEvent=de;var Lg={readContext:He,use:Hu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Eg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Fu(4194308,4,bg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(ks){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(ks){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=ET.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,a=Vg.bind(null,Rt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(e,n){var a=nn();return wf(a,e,n)},useTransition:function(){var e=Tf(!1);return e=xg.bind(null,Rt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=Rt,h=nn();if(Ut){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ee===null)throw Error(r(349));(Mt&127)!==0||rg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Eg(ag.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},sg.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=ee.identifierPrefix;if(Ut){var a=Ti,o=Ei;a=(o&~(1<<32-ge(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=ju++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=dT++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:If,useFormState:pg,useActionState:pg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Cf.bind(null,Rt,!0,a),a.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return nn().memoizedState=vT.bind(null,Rt)},useEffectEvent:function(e){var n=nn(),a={impl:e};return n.memoizedState=a,function(){if((Gt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},xf={readContext:He,use:Hu,useCallback:Rg,useContext:He,useEffect:Af,useImperativeHandle:wg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Ig,useReducer:qu,useRef:vg,useState:function(){return qu(qi)},useDebugValue:bf,useDeferredValue:function(e,n){var a=ve();return Cg(a,Jt.memoizedState,e,n)},useTransition:function(){var e=qu(qi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:If,useFormState:gg,useActionState:gg,useOptimistic:function(e,n){var a=ve();return ug(a,Jt,e,n)},useMemoCache:_f,useCacheRefresh:Og};xf.useEffectEvent=Tg;var Pg={readContext:He,use:Hu,useCallback:Rg,useContext:He,useEffect:Af,useImperativeHandle:wg,useInsertionEffect:Sg,useLayoutEffect:Ag,useMemo:Ig,useReducer:Ef,useRef:vg,useState:function(){return Ef(qi)},useDebugValue:bf,useDeferredValue:function(e,n){var a=ve();return Jt===null?wf(a,e,n):Cg(a,Jt.memoizedState,e,n)},useTransition:function(){var e=Ef(qi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Go(e),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:If,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var a=ve();return Jt!==null?ug(a,Jt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Og};Pg.useEffectEvent=Tg;function Df(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=An(),h=br(o);h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(fn(n,e,o),Bo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=An(),h=br(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=wr(e,h,o),n!==null&&(fn(n,e,o),Bo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=An(),o=br(a);o.tag=2,n!=null&&(o.callback=n),n=wr(e,o,a),n!==null&&(fn(n,e,a),Bo(n,e,a))}};function Ug(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Oo(a,o)||!Oo(h,f):!0}function jg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function zs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Bg(e){bu(e)}function Hg(e){console.error(e)}function qg(e){bu(e)}function Yu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Fg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(e,n)},a}function Gg(e){return e=br(e),e.tag=3,e}function Qg(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Fg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Fg(n,a,o),typeof h!="function"&&(Nr===null?Nr=new Set([this]):Nr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function TT(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&va(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?sc():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return a.flags|=65536,o===Vu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),id(e,o,h)),!1}throw Error(r(435,a.tag))}return id(e,o,h),sc(),!1}if(Ut)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(r(422),{cause:o}),zo(Nn(e,a)))):(o!==$h&&(n=Error(r(423),{cause:o}),zo(Nn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,a),h=Mf(e.stateNode,o,h),lf(e,h),me!==4&&(me=2)),!1;var f=Error(r(520),{cause:o});if(f=Nn(f,a),el===null?el=[f]:el.push(f),me!==4&&(me=2),n===null)return!0;o=Nn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Mf(a.stateNode,o,e),lf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Nr===null||!Nr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Gg(h),Qg(h,e,a,o),lf(a,h),!1}a=a.return}while(a!==null);return!1}var Of=Error(r(461)),Ie=!1;function qe(e,n,a,o){n.child=e===null?$p(n,null,a,o):Vs(n,e.child,a,o)}function Yg(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var T in o)T!=="ref"&&(g[T]=o[T])}else g=o;return Ds(n),o=mf(e,n,a,g,f,h),T=pf(),e!==null&&!Ie?(gf(e,n,h),Fi(e,n,h)):(Ut&&T&&Kh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Kg(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Xg(e,n,f,o,h)):(e=Cu(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Oo,a(g,o)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=Pi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Xg(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Oo(f,o)&&e.ref===n.ref)if(Ie=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return Vf(e,n,a,o,h)}function $g(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Jg(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Wp(n,f):cf(),tg(n);else return o=n.lanes=536870912,Jg(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Mu(n,f.cachePool),Wp(n,f),Ir(),n.memoizedState=null):(e!==null&&Mu(n,null),cf(),Ir());return qe(e,n,h,a),n.child}function Ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jg(e,n,a,o,h){var f=rf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Mu(n,null),cf(),tg(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Ku(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Zg(e,n,a){return Vs(n,e.child,null,a),e=Ku(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function ST(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(o.mode==="hidden")return e=Ku(n,o),n.lanes=536870912,Ko(null,e);if(ff(n),(e=ie)?(e=c_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=kp(e),a.return=n,n.child=a,Be=n,ie=null)):e=null,e===null)throw Tr(n);return n.lanes=536870912,null}return Ku(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Zg(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ie||va(e,n,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=ee,o!==null&&(g=po(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rs(e,g),fn(o,e,g),Of;sc(),n=Zg(e,n,a)}else e=f.treeContext,ie=zn(g.nextSibling),Be=n,Ut=!0,Er=null,Vn=!1,e!==null&&Pp(n,e),n=Ku(n,o),n.flags|=4096;return n}return e=Pi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Vf(e,n,a,o,h){return Ds(n),a=mf(e,n,a,o,void 0,h),o=pf(),e!==null&&!Ie?(gf(e,n,h),Fi(e,n,h)):(Ut&&o&&Kh(n),n.flags|=1,qe(e,n,a,h),n.child)}function Wg(e,n,a,o,h,f){return Ds(n),n.updateQueue=null,a=ng(n,o,a,h),eg(e),o=pf(),e!==null&&!Ie?(gf(e,n,f),Fi(e,n,f)):(Ut&&o&&Kh(n),n.flags|=1,qe(e,n,a,f),n.child)}function ty(e,n,a,o,h){if(Ds(n),n.stateNode===null){var f=pa,g=a.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?He(g):pa,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Df(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),qo(n,o,f,h),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,I=zs(a,T);f.props=I;var U=f.context,Y=a.contextType;g=pa,typeof Y=="object"&&Y!==null&&(g=He(Y));var X=a.getDerivedStateFromProps;Y=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||U!==g)&&jg(n,f,o,g),Ar=!1;var j=n.memoizedState;f.state=j,qo(n,o,f,h),Ho(),U=n.memoizedState,T||j!==U||Ar?(typeof X=="function"&&(Df(n,a,X,o),U=n.memoizedState),(I=Ar||Ug(n,a,I,o,j,U,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=U),f.props=o,f.state=U,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),g=n.memoizedProps,Y=zs(a,g),f.props=Y,X=n.pendingProps,j=f.context,U=a.contextType,I=pa,typeof U=="object"&&U!==null&&(I=He(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||j!==I)&&jg(n,f,o,I),Ar=!1,j=n.memoizedState,f.state=j,qo(n,o,f,h),Ho();var F=n.memoizedState;g!==X||j!==F||Ar||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof T=="function"&&(Df(n,a,T,o),F=n.memoizedState),(Y=Ar||Ug(n,a,Y,o,j,F,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(U||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=I,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vs(n,e.child,null,h),n.child=Vs(n,null,a,h)):qe(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function ey(e,n,a,o){return Cs(),n.flags|=256,qe(e,n,a,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zf(e){return{baseLanes:e,cachePool:Fp()}}function Lf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Sn),e}function ny(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?Rr(n):Ir(),(e=ie)?(e=c_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vr!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},a=kp(e),a.return=n,n.child=a,Be=n,ie=null)):e=null,e===null)throw Tr(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var T=o.children;return o=o.fallback,h?(Ir(),h=n.mode,T=$u({mode:"hidden",children:T},h),o=Is(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,o=n.child,o.memoizedState=zf(a),o.childLanes=Lf(e,g,a),n.memoizedState=kf,Ko(null,o)):(Rr(n),Pf(n,T))}var I=e.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(f)n.flags&256?(Rr(n),n.flags&=-257,n=Uf(e,n,a)):n.memoizedState!==null?(Ir(),n.child=e.child,n.flags|=128,n=null):(Ir(),T=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),T=Is(T,h,a,null),T.flags|=2,o.return=n,T.return=n,o.sibling=T,n.child=o,Vs(n,e.child,null,a),o=n.child,o.memoizedState=zf(a),o.childLanes=Lf(e,g,a),n.memoizedState=kf,n=Ko(null,o));else if(Rr(n),vd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var U=g.dgst;g=U,o=Error(r(419)),o.stack="",o.digest=g,zo({value:o,source:null,stack:null}),n=Uf(e,n,a)}else if(Ie||va(e,n,a,!1),g=(a&e.childLanes)!==0,Ie||g){if(g=ee,g!==null&&(o=po(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Rs(e,o),fn(g,e,o),Of;_d(T)||sc(),n=Uf(e,n,a)}else _d(T)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ie=zn(T.nextSibling),Be=n,Ut=!0,Er=null,Vn=!1,e!==null&&Pp(n,e),n=Pf(n,o.children),n.flags|=4096);return n}return h?(Ir(),T=o.fallback,h=n.mode,I=e.child,U=I.sibling,o=Pi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,U!==null?T=Pi(U,T):(T=Is(T,h,a,null),T.flags|=2),T.return=n,o.return=n,o.sibling=T,n.child=o,Ko(null,o),o=n.child,T=e.child.memoizedState,T===null?T=zf(a):(h=T.cachePool,h!==null?(I=we._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Fp(),T={baseLanes:T.baseLanes|a,cachePool:h}),o.memoizedState=T,o.childLanes=Lf(e,g,a),n.memoizedState=kf,Ko(e.child,o)):(Rr(n),a=e.child,e=a.sibling,a=Pi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Pf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function Uf(e,n,a){return Vs(n,e.child,null,a),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,a)}function jf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function ry(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=_e.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,W(_e,g),qe(e,n,o,a),o=Ut?ko:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,a,n);else if(e.tag===19)iy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Pu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),jf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}jf(n,!0,a,null,f,o);break;case"together":jf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Dr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(va(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=Pi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Pi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function AT(e,n,a){switch(n.tag){case 3:ae(n,n.stateNode.containerInfo),Sr(n,we,e.memoizedState.cache),Cs();break;case 27:case 5:ei(n);break;case 4:ae(n,n.stateNode.containerInfo);break;case 10:Sr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ny(e,n,a):(Rr(n),e=Fi(e,n,a),e!==null?e.sibling:null);Rr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(va(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return ry(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(_e,_e.current),o)break;return null;case 22:return n.lanes=0,$g(e,n,a,n.pendingProps);case 24:Sr(n,we,e.memoizedState.cache)}return Fi(e,n,a)}function sy(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Bf(e,a)&&(n.flags&128)===0)return Ie=!1,AT(e,n,a);Ie=(e.flags&131072)!==0}else Ie=!1,Ut&&(n.flags&1048576)!==0&&Lp(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ms(n.elementType),n.type=e,typeof e=="function")Gh(e)?(o=zs(e,o),n.tag=1,n=ty(null,n,e,o,a)):(n.tag=0,n=Vf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Tt){n.tag=11,n=Yg(null,n,e,o,a);break t}else if(h===D){n.tag=14,n=Kg(null,n,e,o,a);break t}}throw n=ne(e)||e,Error(r(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=zs(o,n.pendingProps),ty(e,n,o,h,a);case 3:t:{if(ae(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),qo(n,o,null,a);var g=n.memoizedState;if(o=g.cache,Sr(n,we,o),o!==f.cache&&tf(n,[we],a,!0),Ho(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,o,a);break t}else if(o!==h){h=Nn(Error(r(424)),n),zo(h),n=ey(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=zn(e.firstChild),Be=n,Ut=!0,Er=null,Vn=!0,a=$p(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cs(),o===h){n=Fi(e,n,a);break t}qe(e,n,o,a)}n=n.child}return n;case 26:return Xu(e,n),e===null?(a=g_(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ut||(a=n.type,e=n.pendingProps,o=fc(gt.current).createElement(a),o[Se]=n,o[ke]=e,Fe(o,a,e),Ae(o),n.stateNode=o):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ei(n),e===null&&Ut&&(o=n.stateNode=d_(n.type,n.pendingProps,gt.current),Be=n,Vn=!0,h=ie,kr(n.type)?(Ed=h,ie=zn(o.firstChild)):ie=h),qe(e,n,n.pendingProps.children,a),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=o=ie)&&(o=WT(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,Be=n,ie=zn(o.firstChild),Vn=!1,h=!0):h=!1),h||Tr(n)),ei(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:g!==null&&pd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,mT,null,null,a),ul._currentValue=h),Xu(e,n),qe(e,n,o,a),n.child;case 6:return e===null&&Ut&&((e=a=ie)&&(a=tS(a,n.pendingProps,Vn),a!==null?(n.stateNode=a,Be=n,ie=null,e=!0):e=!1),e||Tr(n)),null;case 13:return ny(e,n,a);case 4:return ae(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vs(n,null,o,a):qe(e,n,o,a),n.child;case 11:return Yg(e,n,n.type,n.pendingProps,a);case 7:return qe(e,n,n.pendingProps,a),n.child;case 8:return qe(e,n,n.pendingProps.children,a),n.child;case 12:return qe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Sr(n,n.type,o.value),qe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ds(n),h=He(h),o=o(h),n.flags|=1,qe(e,n,o,a),n.child;case 14:return Kg(e,n,n.type,n.pendingProps,a);case 15:return Xg(e,n,n.type,n.pendingProps,a);case 19:return ry(e,n,a);case 31:return ST(e,n,a);case 22:return $g(e,n,a,n.pendingProps);case 24:return Ds(n),o=He(we),e===null?(h=rf(),h===null&&(h=ee,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},af(n),Sr(n,we,h)):((e.lanes&a)!==0&&(of(e,n),qo(n,null,null,a),Ho()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Sr(n,we,o)):(o=f.cache,Sr(n,we,o),o!==h.cache&&tf(n,[we],a,!0))),qe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Gi(e){e.flags|=4}function Hf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(My())e.flags|=8192;else throw Os=Vu,sf}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(My())e.flags|=8192;else throw Os=Vu,sf}function Ju(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Na|=n)}function Xo(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function bT(e,n,a){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(we),qt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_a(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Jh())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(re(n),ay(n,f)):(re(n),Hf(n,h,null,o,a))):f?f!==e.memoizedState?(Gi(n),re(n),ay(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),re(n),Hf(n,h,e,o,a)),null;case 27:if(or(n),a=gt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return re(n),null}e=et.current,_a(n)?Up(n):(e=d_(h,o,a),n.stateNode=e,Gi(n))}return re(n),null;case 5:if(or(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return re(n),null}if(f=et.current,_a(n))Up(n);else{var g=fc(gt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[ke]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return re(n),Hf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=gt.current,_a(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||n_(e.nodeValue,a)),e||Tr(n,!0)}else e=fc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return re(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Se]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else a=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(r(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Se]=n}else Cs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=Jh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Ju(n,n.updateQueue),re(n),null);case 4:return qt(),e===null&&cd(n.stateNode.containerInfo),re(n),null;case 10:return Bi(n.type),re(n),null;case 19:if(G(_e),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Ju(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Vp(a,e),a=a.sibling;return W(_e,_e.current&1|2),Ut&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>nc&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Ju(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ut)return re(n),null}else 2*tn()-o.renderingStartTime>nc&&a!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,a=_e.current,W(_e,h?a&1|2:a&1),Ut&&Ui(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return En(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&Ju(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&G(Ns),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Bi(we),re(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function wT(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(we),qt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return or(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(r(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Cs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(_e),null;case 4:return qt(),null;case 10:return Bi(n.type),null;case 22:case 23:return En(n),hf(),e!==null&&G(Ns),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(we),null;case 25:return null;default:return null}}function oy(e,n){switch(Xh(n),n.tag){case 3:Bi(we),qt();break;case 26:case 27:case 5:or(n);break;case 4:qt();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:G(_e);break;case 10:Bi(n.type);break;case 22:case 23:En(n),hf(),e!==null&&G(Ns);break;case 24:Bi(we)}}function $o(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(T){Xt(n,n.return,T)}}function Cr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var I=a,U=T;try{U()}catch(Y){Xt(h,I,Y)}}}o=o.next}while(o!==f)}}catch(Y){Xt(n,n.return,Y)}}function ly(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Zp(n,a)}catch(o){Xt(e,e.return,o)}}}function uy(e,n,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Xt(e,n,o)}}function Jo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Xt(e,n,h)}}function Si(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,n,h)}else a.current=null}function cy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function qf(e,n,a){try{var o=e.stateNode;YT(o,e.type,a,n),o[ke]=n}catch(h){Xt(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,a),e=e.sibling;e!==null;)Gf(e,n,a),e=e.sibling}function Zu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&kr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Zu(e,n,a),e=e.sibling;e!==null;)Zu(e,n,a),e=e.sibling}function fy(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[Se]=e,n[ke]=a}catch(f){Xt(e,e.return,f)}}var Qi=!1,Ce=!1,Qf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function RT(e,n){if(e=e.containerInfo,dd=vc,e=wp(e),Ph(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,T=-1,I=-1,U=0,Y=0,X=e,j=null;e:for(;;){for(var F;X!==a||h!==0&&X.nodeType!==3||(T=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(F=X.firstChild)!==null;)j=X,X=F;for(;;){if(X===e)break e;if(j===a&&++U===h&&(T=g),j===f&&++Y===o&&(I=g),(F=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:e,selectionRange:a},vc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ut=zs(a.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Xt(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)yd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function my(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Ki(e,a),o&4&&$o(5,a);break;case 1:if(Ki(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){Xt(a,a.return,g)}else{var h=zs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(a,a.return,g)}}o&64&&ly(a),o&512&&Jo(a,a.return);break;case 3:if(Ki(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Zp(e,n)}catch(g){Xt(a,a.return,g)}}break;case 27:n===null&&o&4&&fy(a);case 26:case 5:Ki(e,a),n===null&&o&4&&cy(a),o&512&&Jo(a,a.return);break;case 12:Ki(e,a);break;case 31:Ki(e,a),o&4&&yy(e,a);break;case 13:Ki(e,a),o&4&&_y(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=kT.bind(null,a),eS(e,a))));break;case 22:if(o=a.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||Ce,h=Qi;var f=Ce;Qi=o,(Ce=n)&&!f?Xi(e,a,(a.subtreeFlags&8772)!==0):Ki(e,a),Qi=h,Ce=f}break;case 30:break;default:Ki(e,a)}}function py(e){var n=e.alternate;n!==null&&(e.alternate=null,py(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,ln=!1;function Yi(e,n,a){for(a=a.child;a!==null;)gy(e,n,a),a=a.sibling}function gy(e,n,a){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Ce||Si(a,n),Yi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Si(a,n);var o=le,h=ln;kr(a.type)&&(le=a.stateNode,ln=!1),Yi(e,n,a),al(a.stateNode),le=o,ln=h;break;case 5:Ce||Si(a,n);case 6:if(o=le,h=ln,le=null,Yi(e,n,a),le=o,ln=h,le!==null)if(ln)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Xt(a,n,f)}else try{le.removeChild(a.stateNode)}catch(f){Xt(a,n,f)}break;case 18:le!==null&&(ln?(e=le,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ua(e)):l_(le,a.stateNode));break;case 4:o=le,h=ln,le=a.stateNode.containerInfo,ln=!0,Yi(e,n,a),le=o,ln=h;break;case 0:case 11:case 14:case 15:Cr(2,a,n),Ce||Cr(4,a,n),Yi(e,n,a);break;case 1:Ce||(Si(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&uy(a,n,o)),Yi(e,n,a);break;case 21:Yi(e,n,a);break;case 22:Ce=(o=Ce)||a.memoizedState!==null,Yi(e,n,a),Ce=o;break;default:Yi(e,n,a)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(a){Xt(n,n.return,a)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(a){Xt(n,n.return,a)}}function IT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(r(435,e.tag))}}function Wu(e,n){var a=IT(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=zT.bind(null,e,o);o.then(h,h)}})}function un(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(kr(T.type)){le=T.stateNode,ln=!1;break t}break;case 5:le=T.stateNode,ln=!1;break t;case 3:case 4:le=T.stateNode.containerInfo,ln=!0;break t}T=T.return}if(le===null)throw Error(r(160));gy(f,g,h),le=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var Jn=null;function vy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Cr(3,e,e.return),$o(3,e),Cr(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(Ce||a===null||Si(a,a.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(un(n,e),cn(e),o&512&&(Ce||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[Se]=e,Ae(f),o=f;break t;case"link":var g=v_("link","href",h).get(o+(a.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=v_("meta","content",h).get(o+(a.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(T,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Se]=e,Ae(f),o=f}e.stateNode=o}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?E_(h,e.type,e.stateNode):__(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&qf(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(Ce||a===null||Si(a,a.return)),a!==null&&o&4&&qf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(Ce||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(ut){Xt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,qf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ut){Xt(e,e.return,ut)}}break;case 3:if(pc=null,h=Jn,Jn=dc(n.containerInfo),un(n,e),Jn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(ut){Xt(e,e.return,ut)}Qf&&(Qf=!1,Ey(e));break;case 4:o=Jn,Jn=dc(e.stateNode.containerInfo),un(n,e),cn(e),Jn=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ec=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,U=Qi,Y=Ce;if(Qi=U||h,Ce=Y||I,un(n,e),Ce=Y,Qi=U,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Qi||Ce||Ls(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=I.stateNode;var X=I.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(ut){Xt(I,I.return,ut)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ut){Xt(I,I.return,ut)}}}else if(n.tag===18){if(a===null){I=n;try{var F=I.stateNode;h?u_(F,!0):u_(I.stateNode,!1)}catch(ut){Xt(I,I.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Wu(e,a))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(hy(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Ff(e);Zu(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(on(g,""),a.flags&=-33);var T=Ff(e);Zu(e,T,g);break;case 3:case 4:var I=a.stateNode.containerInfo,U=Ff(e);Gf(e,U,I);break;default:throw Error(r(161))}}catch(Y){Xt(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function Ls(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cr(4,n,n.return),Ls(n);break;case 1:Si(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&uy(n,n.return,a),Ls(n);break;case 27:al(n.stateNode);case 26:case 5:Si(n,n.return),Ls(n);break;case 22:n.memoizedState===null&&Ls(n);break;case 30:Ls(n);break;default:Ls(n)}e=e.sibling}}function Xi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,a),$o(4,f);break;case 1:if(Xi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Xt(o,o.return,U)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Jp(I[h],T)}catch(U){Xt(o,o.return,U)}}a&&g&64&&ly(f),Jo(f,f.return);break;case 27:fy(f);case 26:case 5:Xi(h,f,a),a&&o===null&&g&4&&cy(f),Jo(f,f.return);break;case 12:Xi(h,f,a);break;case 31:Xi(h,f,a),a&&g&4&&yy(h,f);break;case 13:Xi(h,f,a),a&&g&4&&_y(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,a),Jo(f,f.return);break;case 30:break;default:Xi(h,f,a)}n=n.sibling}}function Yf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Lo(a))}function Kf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function Zn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,a,o),n=n.sibling}function Ty(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,a,o),h&2048&&$o(9,n);break;case 1:Zn(e,n,a,o);break;case 3:Zn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(h&2048){Zn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Xt(n,n.return,I)}}else Zn(e,n,a,o);break;case 31:Zn(e,n,a,o);break;case 13:Zn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,a,o):Zo(e,n):f._visibility&2?Zn(e,n,a,o):(f._visibility|=2,Ca(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Yf(g,n);break;case 24:Zn(e,n,a,o),h&2048&&Kf(n.alternate,n);break;default:Zn(e,n,a,o)}}function Ca(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=a,I=o,U=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,T,I,h),$o(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Ca(f,g,T,I,h):Zo(f,g):(Y._visibility|=2,Ca(f,g,T,I,h)),h&&U&2048&&Yf(g.alternate,g);break;case 24:Ca(f,g,T,I,h),h&&U&2048&&Kf(g.alternate,g);break;default:Ca(f,g,T,I,h)}n=n.sibling}}function Zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:Zo(a,o),h&2048&&Yf(o.alternate,o);break;case 24:Zo(a,o),h&2048&&Kf(o.alternate,o);break;default:Zo(a,o)}n=n.sibling}}var Wo=8192;function xa(e,n,a){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)Sy(e,n,a),e=e.sibling}function Sy(e,n,a){switch(e.tag){case 26:xa(e,n,a),e.flags&Wo&&e.memoizedState!==null&&dS(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,a);break;case 3:case 4:var o=Jn;Jn=dc(e.stateNode.containerInfo),xa(e,n,a),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,xa(e,n,a),Wo=o):xa(e,n,a));break;default:xa(e,n,a)}}function Ay(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,wy(o,e)}Ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&Cr(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):tl(e);break;default:tl(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,wy(o,e)}Ay(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cr(8,n,n.return),tc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function wy(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Cr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(py(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var CT={getCacheForType:function(e){var n=He(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(we).controller.signal}},xT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Dt=null,Mt=0,Kt=0,Tn=null,xr=!1,Da=!1,Xf=!1,$i=0,me=0,Dr=0,Ps=0,$f=0,Sn=0,Na=0,el=null,hn=null,Jf=!1,ec=0,Ry=0,nc=1/0,ic=null,Nr=null,Ne=0,Mr=null,Ma=null,Ji=0,Zf=0,Wf=null,Iy=null,nl=0,td=null;function An(){return(Gt&2)!==0&&Mt!==0?Mt&-Mt:Q.T!==null?ad():ru()}function Cy(){if(Sn===0)if((Mt&536870912)===0||Ut){var e=hs;hs<<=1,(hs&3932160)===0&&(hs=262144),Sn=e}else Sn=536870912;return e=vn.current,e!==null&&(e.flags|=32),Sn}function fn(e,n,a){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Or(e,Mt,Sn,!1)),fs(e,a),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(Ps|=a),me===4&&Or(e,Mt,Sn,!1)),Ai(e))}function xy(e,n,a){if((Gt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=o?MT(e,n):nd(e,n,!0),f=o;do{if(h===0){Da&&!o&&Or(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!DT(a)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=el;var I=T.current.memoizedState.isDehydrated;if(I&&(Oa(T,g).flags|=256),g=nd(T,g,!1),g!==2){if(Xf&&!I){T.errorRecoveryDisabledLanes|=f,Ps|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Or(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Or(o,n,Sn,!xr);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ec+300-tn(),10<h)){if(Or(o,n,Sn,!xr),si(o,0,!0)!==0)break t;Ji=n,o.timeoutHandle=a_(Dy.bind(null,o,a,hn,ic,Jf,n,Sn,Ps,Na,xr,f,"Throttled",-0,0),h);break t}Dy(o,a,hn,ic,Jf,n,Sn,Ps,Na,xr,f,null,-0,0)}}break}while(!0);Ai(e)}function Dy(e,n,a,o,h,f,g,T,I,U,Y,X,j,F){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Sy(n,f,X);var ut=(f&62914560)===f?ec-tn():(f&4194048)===f?Ry-tn():0;if(ut=mS(X,ut),ut!==null){Ji=f,e.cancelPendingCommit=ut(Py.bind(null,e,n,f,a,o,h,g,T,I,Y,X,null,j,F)),Or(e,f,g,!U);return}}Py(e,n,f,a,o,h,g,T,I)}function DT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Or(e,n,a,o){n&=~$f,n&=~Ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ge(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ds(e,a,n)}function rc(){return(Gt&6)===0?(il(0),!1):!0}function ed(){if(Dt!==null){if(Kt===0)var e=Dt.return;else e=Dt,ji=xs=null,yf(e),Aa=null,Uo=0,e=Dt;for(;e!==null;)oy(e.alternate,e),e=e.return;Dt=null}}function Oa(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$T(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ji=0,ed(),ee=e,Dt=a=Pi(e.current,null),Mt=n,Kt=0,Tn=null,xr=!1,Da=Hn(e,n),Xf=!1,Na=Sn=$f=Ps=Dr=me=0,hn=el=null,Jf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ge(o),f=1<<h;n|=e[h],o&=~f}return $i=n,wu(),a}function Ny(e,n){Rt=null,Q.H=Yo,n===Sa||n===Ou?(n=Yp(),Kt=3):n===sf?(n=Yp(),Kt=4):Kt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Dt===null&&(me=1,Yu(e,Nn(n,e.current)))}function My(){var e=vn.current;return e===null?!0:(Mt&4194048)===Mt?kn===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===kn:!1}function Oy(){var e=Q.H;return Q.H=Yo,e===null?Yo:e}function Vy(){var e=Q.A;return Q.A=CT,e}function sc(){me=4,xr||(Mt&4194048)!==Mt&&vn.current!==null||(Da=!0),(Dr&134217727)===0&&(Ps&134217727)===0||ee===null||Or(ee,Mt,Sn,!1)}function nd(e,n,a){var o=Gt;Gt|=2;var h=Oy(),f=Vy();(ee!==e||Mt!==n)&&(ic=null,Oa(e,n)),n=!1;var g=me;t:do try{if(Kt!==0&&Dt!==null){var T=Dt,I=Tn;switch(Kt){case 8:ed(),g=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var U=Kt;if(Kt=0,Tn=null,Va(e,T,I,U),a&&Da){g=0;break t}break;default:U=Kt,Kt=0,Tn=null,Va(e,T,I,U)}}NT(),g=me;break}catch(Y){Ny(e,Y)}while(!0);return n&&e.shellSuspendCounter++,ji=xs=null,Gt=o,Q.H=h,Q.A=f,Dt===null&&(ee=null,Mt=0,wu()),g}function NT(){for(;Dt!==null;)ky(Dt)}function MT(e,n){var a=Gt;Gt|=2;var o=Oy(),h=Vy();ee!==e||Mt!==n?(ic=null,nc=tn()+500,Oa(e,n)):Da=Hn(e,n);t:do try{if(Kt!==0&&Dt!==null){n=Dt;var f=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,Va(e,n,f,1);break;case 2:case 9:if(Gp(f)){Kt=0,Tn=null,zy(n);break}n=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),Ai(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Gp(f)?(Kt=0,Tn=null,zy(n)):(Kt=0,Tn=null,Va(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var T=Dt;if(g?T_(g):T.stateNode.complete){Kt=0,Tn=null;var I=T.sibling;if(I!==null)Dt=I;else{var U=T.return;U!==null?(Dt=U,ac(U)):Dt=null}break e}}Kt=0,Tn=null,Va(e,n,f,5);break;case 6:Kt=0,Tn=null,Va(e,n,f,6);break;case 8:ed(),me=6;break t;default:throw Error(r(462))}}OT();break}catch(Y){Ny(e,Y)}while(!0);return ji=xs=null,Q.H=o,Q.A=h,Gt=a,Dt!==null?0:(ee=null,Mt=0,wu(),me)}function OT(){for(;Dt!==null&&!co();)ky(Dt)}function ky(e){var n=sy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?ac(e):Dt=n}function zy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Wg(a,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Wg(a,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:yf(n);default:oy(a,n),n=Dt=Vp(n,$i),n=sy(a,n,$i)}e.memoizedProps=e.pendingProps,n===null?ac(e):Dt=n}function Va(e,n,a,o){ji=xs=null,yf(n),Aa=null,Uo=0;var h=n.return;try{if(TT(e,h,n,a,Mt)){me=1,Yu(e,Nn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;me=1,Yu(e,Nn(a,e.current)),Dt=null;return}n.flags&32768?(Ut||o===1?e=!0:Da||(Mt&536870912)!==0?e=!1:(xr=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Ly(n,xr);return}e=n.return;var a=bT(n.alternate,n,$i);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);me===0&&(me=5)}function Ly(e,n){do{var a=wT(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);me=6,Dt=null}function Py(e,n,a,o,h,f,g,T,I){e.cancelPendingCommit=null;do oc();while(Ne!==0);if((Gt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=qh,Vh(e,a,f,g,T,I),e===ee&&(Dt=ee=null,Mt=0),Ma=n,Mr=e,Ji=a,Zf=f,Wf=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,LT(ur,function(){return qy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,h=rt.p,rt.p=2,g=Gt,Gt|=4;try{RT(e,n,a)}finally{Gt=g,rt.p=h,Q.T=o}}Ne=1,Uy(),jy(),By()}}function Uy(){if(Ne===1){Ne=0;var e=Mr,n=Ma,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var o=rt.p;rt.p=2;var h=Gt;Gt|=4;try{vy(n,e);var f=md,g=wp(e.containerInfo),T=f.focusedElem,I=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&bp(T.ownerDocument.documentElement,T)){if(I!==null&&Ph(T)){var U=I.start,Y=I.end;if(Y===void 0&&(Y=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(Y,T.value.length);else{var X=T.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var F=j.getSelection(),ut=T.textContent.length,yt=Math.min(I.start,ut),Wt=I.end===void 0?yt:Math.min(I.end,ut);!F.extend&&yt>Wt&&(g=Wt,Wt=yt,yt=g);var k=Ap(T,yt),O=Ap(T,Wt);if(k&&O&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=X.createRange();P.setStart(k.node,k.offset),F.removeAllRanges(),yt>Wt?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var K=X[T];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vc=!!dd,md=dd=null}finally{Gt=h,rt.p=o,Q.T=a}}e.current=n,Ne=2}}function jy(){if(Ne===2){Ne=0;var e=Mr,n=Ma,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var o=rt.p;rt.p=2;var h=Gt;Gt|=4;try{my(e,n.alternate,n)}finally{Gt=h,rt.p=o,Q.T=a}}Ne=3}}function By(){if(Ne===4||Ne===3){Ne=0,Jl();var e=Mr,n=Ma,a=Ji,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ne=5:(Ne=0,Ma=Mr=null,Hy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Nr=null),Vi(a),n=n.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=Q.T,h=rt.p,rt.p=2,Q.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var T=o[g];f(T.value,{componentStack:T.stack})}}finally{Q.T=n,rt.p=h}}(Ji&3)!==0&&oc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===td?nl++:(nl=0,td=e):nl=0,il(0)}}function Hy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function oc(){return Uy(),jy(),By(),qy()}function qy(){if(Ne!==5)return!1;var e=Mr,n=Zf;Zf=0;var a=Vi(Ji),o=Q.T,h=rt.p;try{rt.p=32>a?32:a,Q.T=null,a=Wf,Wf=null;var f=Mr,g=Ji;if(Ne=0,Ma=Mr=null,Ji=0,(Gt&6)!==0)throw Error(r(331));var T=Gt;if(Gt|=4,by(f.current),Ty(f,f.current,g,a),Gt=T,il(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{rt.p=h,Q.T=o,Hy(e,n)}}function Fy(e,n,a){n=Nn(a,n),n=Mf(e.stateNode,n,2),e=wr(e,n,2),e!==null&&(fs(e,2),Ai(e))}function Xt(e,n,a){if(e.tag===3)Fy(e,e,a);else for(;n!==null;){if(n.tag===3){Fy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Nr===null||!Nr.has(o))){e=Nn(a,e),a=Gg(2),o=wr(n,a,2),o!==null&&(Qg(a,o,n,e),fs(o,2),Ai(o));break}}n=n.return}}function id(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new xT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Xf=!0,h.add(a),e=VT.bind(null,e,n,a),n.then(e,e))}function VT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Mt&a)===a&&(me===4||me===3&&(Mt&62914560)===Mt&&300>tn()-ec?(Gt&2)===0&&Oa(e,0):$f|=a,Na===Mt&&(Na=0)),Ai(e)}function Gy(e,n){n===0&&(n=iu()),e=Rs(e,n),e!==null&&(fs(e,n),Ai(e))}function kT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Gy(e,a)}function zT(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Gy(e,a)}function LT(e,n){return fe(e,n)}var lc=null,ka=null,rd=!1,uc=!1,sd=!1,Vr=0;function Ai(e){e!==ka&&e.next===null&&(ka===null?lc=ka=e:ka=ka.next=e),uc=!0,rd||(rd=!0,UT())}function il(e,n){if(!sd&&uc){sd=!0;do for(var a=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-ge(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Xy(o,f))}else f=Mt,f=si(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,Xy(o,f));o=o.next}while(a);sd=!1}}function PT(){Qy()}function Qy(){uc=rd=!1;var e=0;Vr!==0&&XT()&&(e=Vr);for(var n=tn(),a=null,o=lc;o!==null;){var h=o.next,f=Yy(o,n);f===0?(o.next=null,a===null?lc=h:a.next=h,h===null&&(ka=a)):(a=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Ne!==0&&Ne!==5||il(e),Vr!==0&&(Vr=0)}function Yy(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ge(f),T=1<<g,I=h[g];I===-1?((T&a)===0||(T&o)!==0)&&(h[g]=Oh(T,n)):I<=n&&(e.expiredLanes|=T),f&=~T}if(n=ee,a=Mt,a=si(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&sn(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&sn(o),Vi(a)){case 2:case 8:a=fo;break;case 32:a=ur;break;case 268435456:a=Zl;break;default:a=ur}return o=Ky.bind(null,e),a=fe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&sn(o),e.callbackPriority=2,e.callbackNode=null,2}function Ky(e,n){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(oc()&&e.callbackNode!==a)return null;var o=Mt;return o=si(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(xy(e,o,n),Yy(e,tn()),e.callbackNode!=null&&e.callbackNode===a?Ky.bind(null,e):null)}function Xy(e,n){if(oc())return null;xy(e,n,!0)}function UT(){JT(function(){(Gt&6)!==0?fe(ho,PT):Qy()})}function ad(){if(Vr===0){var e=Ea;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Vr=e}return Vr}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Jy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function jT(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=$y((h[ke]||null).action),g=o.submitter;g&&(n=(n=g[ke]||null)?$y(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new gi("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vr!==0){var I=g?Jy(h,g):new FormData(h);Rf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=g?Jy(h,g):new FormData(h),Rf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var od=0;od<Hh.length;od++){var ld=Hh[od],BT=ld.toLowerCase(),HT=ld[0].toUpperCase()+ld.slice(1);$n(BT,"on"+HT)}$n(Cp,"onAnimationEnd"),$n(xp,"onAnimationIteration"),$n(Dp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(rT,"onTransitionRun"),$n(sT,"onTransitionStart"),$n(aT,"onTransitionCancel"),$n(Np,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function Zy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var T=o[g],I=T.instance,U=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(Y){bu(Y)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(T=o[g],I=T.instance,U=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=U;try{f(h)}catch(Y){bu(Y)}h.currentTarget=null,f=I}}}}function Nt(e,n){var a=n[ta];a===void 0&&(a=n[ta]=new Set);var o=e+"__bubble";a.has(o)||(Wy(n,e,2,!1),a.add(o))}function ud(e,n,a){var o=0;n&&(o|=4),Wy(a,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[cc]){e[cc]=!0,go.forEach(function(a){a!=="selectionchange"&&(qT.has(a)||ud(a,!1,e),ud(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,ud("selectionchange",!1,n))}}function Wy(e,n,a,o){switch(C_(n)){case 2:var h=yS;break;case 8:h=_S;break;default:h=wd}a=h.bind(null,n,a,e),h=void 0,!_s||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function hd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var T=o.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=ui(T),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}T=T.parentNode}}o=o.return}pr(function(){var U=f,Y=In(a),X=[];t:{var j=Mp.get(e);if(j!==void 0){var F=gi,ut=e;switch(e){case"keypress":if(Es(a)===0)break t;case"keydown":case"keyup":F=Tu;break;case"focusin":ut="focus",F=Ss;break;case"focusout":ut="blur",F=Ss;break;case"beforeblur":case"afterblur":F=Ss;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Cp:case xp:case Dp:F=mu;break;case Np:F=S;break;case"scroll":case"scrollend":F=Co;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Li;break;case"toggle":case"beforetoggle":F=wt}var yt=(n&4)!==0,Wt=!yt&&(e==="scroll"||e==="scrollend"),k=yt?j!==null?j+"Capture":null:j;yt=[];for(var O=U,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Qn(O,k),K!=null&&yt.push(sl(O,K,P))),Wt)break;O=O.return}0<yt.length&&(j=new F(j,ut,null,a,Y),X.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",j&&a!==wo&&(ut=a.relatedTarget||a.fromElement)&&(ui(ut)||ut[oi]))break t;if((F||j)&&(j=Y.window===Y?Y:(j=Y.ownerDocument)?j.defaultView||j.parentWindow:window,F?(ut=a.relatedTarget||a.toElement,F=U,ut=ut?ui(ut):null,ut!==null&&(Wt=c(ut),yt=ut.tag,ut!==Wt||yt!==5&&yt!==27&&yt!==6)&&(ut=null)):(F=null,ut=U),F!==ut)){if(yt=xo,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Li,K="onPointerLeave",k="onPointerEnter",O="pointer"),Wt=F==null?j:pn(F),P=ut==null?j:pn(ut),j=new yt(K,O+"leave",F,a,Y),j.target=Wt,j.relatedTarget=P,K=null,ui(Y)===U&&(yt=new yt(k,O+"enter",ut,a,Y),yt.target=P,yt.relatedTarget=Wt,K=yt),Wt=K,F&&ut)e:{for(yt=FT,k=F,O=ut,P=0,K=k;K;K=yt(K))P++;K=0;for(var mt=O;mt;mt=yt(mt))K++;for(;0<P-K;)k=yt(k),P--;for(;0<K-P;)O=yt(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){yt=k;break e}k=yt(k),O=yt(O)}yt=null}else yt=null;F!==null&&t_(X,j,F,yt,!1),ut!==null&&Wt!==null&&t_(X,Wt,ut,yt,!0)}}t:{if(j=U?pn(U):window,F=j.nodeName&&j.nodeName.toLowerCase(),F==="select"||F==="input"&&j.type==="file")var Bt=yp;else if(pp(j))if(_p)Bt=eT;else{Bt=WE;var ht=ZE}else F=j.nodeName,!F||F.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?U&&ra(U.elementType)&&(Bt=yp):Bt=tT;if(Bt&&(Bt=Bt(e,U))){gp(X,Bt,a,Y);break t}ht&&ht(e,j,U),e==="focusout"&&U&&j.type==="number"&&U.memoizedProps.value!=null&&So(j,"number",j.value)}switch(ht=U?pn(U):window,e){case"focusin":(pp(ht)||ht.contentEditable==="true")&&(fa=ht,Uh=U,Vo=null);break;case"focusout":Vo=Uh=fa=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,Rp(X,a,Y);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Rp(X,a,Y)}var It;if(Ft)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ha?As(e,a)&&(Ot="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ot="onCompositionStart");Ot&&(vi&&a.locale!=="ko"&&(ha||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ha&&(It=Io()):(pi=Y,Ro="value"in pi?pi.value:pi.textContent,ha=!0)),ht=hc(U,Ot),0<ht.length&&(Ot=new _i(Ot,e,null,a,Y),X.push({event:Ot,listeners:ht}),It?Ot.data=It:(It=ca(a),It!==null&&(Ot.data=It)))),(It=xn?KE(e,a):XE(e,a))&&(Ot=hc(U,"onBeforeInput"),0<Ot.length&&(ht=new _i("onBeforeInput","beforeinput",null,a,Y),X.push({event:ht,listeners:Ot}),ht.data=It)),jT(X,e,U,a,Y)}Zy(X,n)})}function sl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function hc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,a),h!=null&&o.unshift(sl(e,h,f)),h=Qn(e,n),h!=null&&o.push(sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function FT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var T=a,I=T.alternate,U=T.stateNode;if(T=T.tag,I!==null&&I===o)break;T!==5&&T!==26&&T!==27||U===null||(I=U,h?(U=Qn(a,f),U!=null&&g.unshift(sl(a,U,I))):h||(U=Qn(a,f),U!=null&&g.push(sl(a,U,I)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var GT=/\r\n?/g,QT=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(GT,`
`).replace(QT,"")}function n_(e,n){return n=e_(n),e_(e)===n}function Zt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=sa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),na(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hu.get(a)||a,na(e,a,o))}}function fd(e,n,a,o,h,f){switch(a){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[ke]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):na(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,g,a,null)}}h&&Zt(e,n,"srcSet",a.srcSet,a,null),o&&Zt(e,n,"src",a.src,a,null);return;case"input":Nt("invalid",e);var T=f=g=h=null,I=null,U=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":I=Y;break;case"defaultChecked":U=Y;break;case"value":f=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Zt(e,n,o,Y,a,null)}}lu(e,f,T,I,U,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":o=T;default:Zt(e,n,h,T,a,null)}n=f,a=g,e.multiple=!!o,n!=null?hr(e,!!o,n,!1):a!=null&&hr(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:Zt(e,n,g,T,a,null)}fr(e,o,h,f);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,n,I,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)Nt(rl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(o=a[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,U,o,a,null)}return;default:if(ra(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&fd(e,n,Y,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Zt(e,n,T,o,a,null))}function YT(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,I=null,U=null,Y=null;for(F in a){var X=a[F];if(a.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(F)||Zt(e,n,F,null,o,X)}}for(var j in o){var F=o[j];if(X=a[j],o.hasOwnProperty(j)&&(F!=null||X!=null))switch(j){case"type":f=F;break;case"name":h=F;break;case"checked":U=F;break;case"defaultChecked":Y=F;break;case"value":g=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==X&&Zt(e,n,j,F,o,X)}}ia(e,g,T,I,U,Y,f,h);return;case"select":F=g=T=j=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":F=I;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==I&&Zt(e,n,h,f,o,I)}n=T,a=g,o=F,j!=null?hr(e,!!a,j,!1):!!o!=!!a&&(n!=null?hr(e,!!a,n,!0):hr(e,!!a,a?[]:"",!1));return;case"textarea":F=j=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Zt(e,n,T,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}uu(e,j,F);return;case"option":for(var ut in a)if(j=a[ut],a.hasOwnProperty(ut)&&j!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Zt(e,n,ut,null,o,j)}for(I in o)if(j=o[I],F=a[I],o.hasOwnProperty(I)&&j!==F&&(j!=null||F!=null))switch(I){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Zt(e,n,I,j,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)j=a[yt],a.hasOwnProperty(yt)&&j!=null&&!o.hasOwnProperty(yt)&&Zt(e,n,yt,null,o,j);for(U in o)if(j=o[U],F=a[U],o.hasOwnProperty(U)&&j!==F&&(j!=null||F!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Zt(e,n,U,j,o,F)}return;default:if(ra(n)){for(var Wt in a)j=a[Wt],a.hasOwnProperty(Wt)&&j!==void 0&&!o.hasOwnProperty(Wt)&&fd(e,n,Wt,void 0,o,j);for(Y in o)j=o[Y],F=a[Y],!o.hasOwnProperty(Y)||j===F||j===void 0&&F===void 0||fd(e,n,Y,j,o,F);return}}for(var k in a)j=a[k],a.hasOwnProperty(k)&&j!=null&&!o.hasOwnProperty(k)&&Zt(e,n,k,null,o,j);for(X in o)j=o[X],F=a[X],!o.hasOwnProperty(X)||j===F||j==null&&F==null||Zt(e,n,X,j,o,F)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&i_(g)){for(g=0,T=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],U=I.startTime;if(U>T)break;var Y=I.transferSize,X=I.initiatorType;Y&&i_(X)&&(I=I.responseEnd,g+=Y*(I<T?1:(T-U)/(I-U)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function XT(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,$T=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,JT=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(ZT)}:a_;function ZT(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function l_(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")al(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,al(a);for(var f=a.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[li]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&al(e.ownerDocument.body);a=h}while(a);Ua(n)}function u_(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function WT(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function tS(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=zn(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function eS(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function zn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return zn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,a){switch(n=fc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var Ln=new Map,m_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=rt.d;rt.d={f:nS,r:iS,D:rS,C:sS,L:aS,m:oS,X:uS,S:lS,M:cS};function nS(){var e=Zi.f(),n=rc();return e||n}function iS(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Ng(n):Zi.r(e)}var za=typeof document>"u"?null:document;function p_(e,n,a){var o=za;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function rS(e){Zi.D(e),p_("dns-prefetch",e,null)}function sS(e,n){Zi.C(e,n),p_("preconnect",e,n)}function aS(e,n,a){Zi.L(e,n,a);var o=za;if(o&&e&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}Ln.has(f)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ln.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function oS(e,n){Zi.m(e,n);var a=za;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Ln.has(f)&&(e=b({rel:"modulepreload",href:e},n),Ln.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ll(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ae(o),a.head.appendChild(o)}}}function lS(e,n,a){Zi.S(e,n,a);var o=za;if(o&&e){var h=ci(o).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=o.querySelector(ol(f)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ln.get(f))&&Td(e,a);var I=g=o.createElement("link");Ae(I),Fe(I,"link",e),I._p=new Promise(function(U,Y){I.onload=U,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,mc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function uS(e,n){Zi.X(e,n);var a=za;if(a&&e){var o=ci(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(ll(h)),f||(e=b({src:e,async:!0},n),(n=Ln.get(h))&&Sd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function cS(e,n){Zi.M(e,n);var a=za;if(a&&e){var o=ci(a).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=a.querySelector(ll(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&Sd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g_(e,n,a,o){var h=(h=gt.current)?dc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=La(a.href),a=ci(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=La(a.href);var f=ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ol(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||hS(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(a),a=ci(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function La(e){return'href="'+an(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function hS(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Ae(n),e.head.appendChild(n))}function Pa(e){return'[src="'+an(e)+'"]'}function ll(e){return"script[async]"+e}function __(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Fe(o,"style",h),mc(o,a.precedence,e),n.instance=o;case"stylesheet":h=La(a.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=y_(a),(h=Ln.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Fe(f,"link",o),n.state.loading|=4,mc(f,a.precedence,e),n.instance=f;case"script":return f=Pa(a.src),(h=e.querySelector(ll(f)))?(n.instance=h,Ae(h),h):(o=a,(h=Ln.get(f))&&(o=b({},a),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,a.precedence,e));return n.instance}function mc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var T=o[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function v_(e,n,a){if(pc===null){var o=new Map,h=pc=new Map;h.set(a,o)}else h=pc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[li]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=o.get(g);T?T.push(f):o.set(g,[f])}}return o}function E_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function fS(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function dS(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=La(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=n.ownerDocument||n,o=y_(o),(h=Ln.get(h))&&Td(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(T,I){g.onload=T,g.onerror=I}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=gc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ad=0;function mS(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ad===0&&(Ad=62500*KT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ad?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(pS,e),yc=null,gc.call(e))}function pS(e,n){if(!(n.state.loading&4)){var a=yc.get(e);if(a)var o=a.get(null);else{a=new Map,yc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:ot,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function gS(e,n,a,o,h,f,g,T,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function S_(e,n,a,o,h,f,g,T,I,U,Y,X){return e=new gS(e,n,a,g,I,U,Y,X,T),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},af(f),e}function A_(e){return e?(e=pa,e):pa}function b_(e,n,a,o,h,f){h=A_(h),o.context===null?o.context=h:o.pendingContext=h,o=br(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=wr(e,o,n),a!==null&&(fn(a,e,n),Bo(a,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function bd(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=Rs(e,67108864);n!==null&&fn(n,e,67108864),bd(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var n=An();n=ms(n);var a=Rs(e,n);a!==null&&fn(a,e,n),bd(e,n)}}var vc=!0;function yS(e,n,a,o){var h=Q.T;Q.T=null;var f=rt.p;try{rt.p=2,wd(e,n,a,o)}finally{rt.p=f,Q.T=h}}function _S(e,n,a,o){var h=Q.T;Q.T=null;var f=rt.p;try{rt.p=8,wd(e,n,a,o)}finally{rt.p=f,Q.T=h}}function wd(e,n,a,o){if(vc){var h=Rd(o);if(h===null)hd(e,n,o,Ec,a),x_(e,o);else if(ES(h,e,n,a,o))o.stopPropagation();else if(x_(e,o),n&4&&-1<vS.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var I=1<<31-ge(g);T.entanglements[1]|=I,g&=~I}Ai(f),(Gt&6)===0&&(nc=tn()+500,il(0))}}break;case 31:case 13:T=Rs(f,2),T!==null&&fn(T,f,2),rc(),bd(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,Ec,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,a)}}function Rd(e){return e=In(e),Id(e)}var Ec=null;function Id(e){if(Ec=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cs()){case ho:return 2;case fo:return 8;case ur:case Mh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Cd=!1,zr=null,Lr=null,Pr=null,cl=new Map,hl=new Map,Ur=[],vS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(e,n){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Pr=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ES(e,n,a,o,h){switch(n){case"focusin":return zr=fl(zr,e,n,a,o,h),!0;case"dragenter":return Lr=fl(Lr,e,n,a,o,h),!0;case"mouseover":return Pr=fl(Pr,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,a,o,h)),!0}return!1}function D_(e){var n=ui(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,qn(e.priority,function(){I_(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,qn(e.priority,function(){I_(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Rd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);wo=o,a.target.dispatchEvent(o),wo=null}else return n=Rn(a),n!==null&&R_(n),e.blockedOn=a,!1;n.shift()}return!0}function N_(e,n,a){Tc(e)&&a.delete(n)}function TS(){Cd=!1,zr!==null&&Tc(zr)&&(zr=null),Lr!==null&&Tc(Lr)&&(Lr=null),Pr!==null&&Tc(Pr)&&(Pr=null),cl.forEach(N_),hl.forEach(N_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,TS)))}var Ac=null;function M_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Id(o||a)===null)continue;break}var f=Rn(a);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ua(e){function n(I){return Sc(I,e)}zr!==null&&Sc(zr,e),Lr!==null&&Sc(Lr,e),Pr!==null&&Sc(Pr,e),cl.forEach(n),hl.forEach(n);for(var a=0;a<Ur.length;a++){var o=Ur[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ur.length&&(a=Ur[0],a.blockedOn===null);)D_(a),a.blockedOn===null&&Ur.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[ke]||null;if(typeof f=="function")g||M_(a);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)T=g.formAction;else if(Id(h)!==null)continue}else T=g.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),M_(a)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function xd(e){this._internalRoot=e}bc.prototype.render=xd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=An();b_(a,o,e,n,null,null)},bc.prototype.unmount=xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),rc(),n[oi]=null}};function bc(e){this._internalRoot=e}bc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ur.length&&n!==0&&n<Ur[a].priority;a++);Ur.splice(a,0,e),a===0&&D_(e)}};var V_=t.version;if(V_!=="19.2.0")throw Error(r(527,V_,"19.2.0"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var SS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{Bn=wc.inject(SS),Ue=wc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=Bg,f=Hg,g=qg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=S_(e,1,!1,null,null,a,o,null,h,f,g,O_),e[oi]=n.current,cd(e),new xd(n)},ml.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=Bg,g=Hg,T=qg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=S_(e,1,!0,n,a??null,o,h,I,f,g,T,O_),n.context=A_(null),a=n.current,o=An(),o=ms(o),h=br(o),h.callback=null,wr(a,h,o),a=o,n.current.lanes=a,fs(n,a),Ai(n),e[oi]=n.current,cd(e),new bc(n)},ml.version="19.2.0",ml}var F_;function MS(){if(F_)return Md.exports;F_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=NS(),Md.exports}var OS=MS();const VS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),G_=s=>{const t=kS(s);return t.charAt(0).toUpperCase()+t.slice(1)},E0=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),zS=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var LS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PS=Ct.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},y)=>Ct.createElement("svg",{ref:y,...LS,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:E0("lucide",l),...!c&&!zS(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Ct.createElement(_,A)),...Array.isArray(c)?c:[c]]));const te=(s,t)=>{const i=Ct.forwardRef(({className:r,...l},c)=>Ct.createElement(PS,{ref:c,iconNode:t,className:E0(`lucide-${VS(G_(s))}`,`lucide-${s}`,r),...l}));return i.displayName=G_(s),i};const US=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Am=te("activity",US);const jS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bm=te("arrow-left",jS);const BS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],HS=te("arrow-right",BS);const qS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],FS=te("award",qS);const GS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lh=te("book-open",GS);const QS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],YS=te("calendar",QS);const KS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zd=te("check",KS);const XS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$S=te("circle-alert",XS);const JS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],T0=te("circle-check-big",JS);const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WS=te("circle-question-mark",ZS);const tA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Q_=te("circle-user",tA);const eA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nA=te("circle",eA);const iA=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rA=te("eye-off",iA);const sA=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],aA=te("house",sA);const oA=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],lA=te("languages",oA);const uA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],cA=te("layers",uA);const hA=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Xd=te("lock",hA);const fA=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dA=te("log-out",fA);const mA=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],pA=te("mic",mA);const gA=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],yA=te("pause",gA);const _A=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],S0=te("play",_A);const vA=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],EA=te("refresh-cw",vA);const TA=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],SA=te("rotate-ccw",TA);const AA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bA=te("save",AA);const wA=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wm=te("settings",wA);const RA=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],IA=te("skip-forward",RA);const CA=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],xA=te("type",CA);const DA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NA=te("user",DA),MA=({currentView:s,setView:t})=>{const i=[{id:"home",label:"Home",icon:aA},{id:"memorize",label:"Memorize",icon:lh},{id:"plan",label:"My Plan",icon:Am}];return E.jsx("nav",{className:"glass-panel",style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",zIndex:100,padding:"10px 20px",display:"flex",gap:"20px"},children:i.map(r=>{const l=r.icon,c=s===r.id;return E.jsxs("button",{onClick:()=>t(r.id),style:{background:c?"rgba(212, 175, 55, 0.2)":"transparent",border:"none",color:c?"var(--primary)":"var(--text-muted)",padding:"10px",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px",cursor:"pointer",transition:"all 0.3s ease",minWidth:"60px"},children:[E.jsx(l,{size:24}),E.jsx("span",{style:{fontSize:"12px",fontWeight:500},children:r.label})]},r.id)})})},Y_=6236,Cl={1:"Al-Fatiha",2:"Al-Baqarah",3:"Ali 'Imran",4:"An-Nisa",5:"Al-Ma'idah",6:"Al-An'am",7:"Al-A'raf",8:"Al-Anfal",9:"At-Tawbah",10:"Yunus",11:"Hud",12:"Yusuf",13:"Ar-Ra'd",14:"Ibrahim",15:"Al-Hijr",16:"An-Nahl",17:"Al-Isra",18:"Al-Kahf",19:"Maryam",20:"Ta-Ha",21:"Al-Anbya",22:"Al-Hajj",23:"Al-Mu'minun",24:"An-Nur",25:"Al-Furqan",26:"Ash-Shu'ara",27:"An-Naml",28:"Al-Qasas",29:"Al-'Ankabut",30:"Ar-Rum",31:"Luqman",32:"As-Sajdah",33:"Al-Ahzab",34:"Saba",35:"Fatir",36:"Ya-Sin",37:"As-Saffat",38:"Sad",39:"Az-Zumar",40:"Ghafir",41:"Fussilat",42:"Ash-Shuraa",43:"Az-Zukhruf",44:"Ad-Dukhan",45:"Al-Jathiyah",46:"Al-Ahqaf",47:"Muhammad",48:"Al-Fath",49:"Al-Hujurat",50:"Qaf",51:"Adh-Dhariyat",52:"At-Tur",53:"An-Najm",54:"Al-Qamar",55:"Ar-Rahman",56:"Al-Waqi'ah",57:"Al-Hadid",58:"Al-Mujadila",59:"Al-Hashr",60:"Al-Mumtahanah",61:"As-Saf",62:"Al-Jumu'ah",63:"Al-Munafiqun",64:"At-Taghabun",65:"At-Talaq",66:"At-Tahrim",67:"Al-Mulk",68:"Al-Qalam",69:"Al-Haqqah",70:"Al-Ma'arij",71:"Nuh",72:"Al-Jinn",73:"Al-Muzzammil",74:"Al-Muddaththir",75:"Al-Qiyamah",76:"Al-Insan",77:"Al-Mursalat",78:"An-Naba",79:"An-Nazi'at",80:"'Abasa",81:"At-Takwir",82:"Al-Infitar",83:"Al-Mutaffifin",84:"Al-Inshiqaq",85:"Al-Buruj",86:"At-Tariq",87:"Al-A'la",88:"Al-Ghashiyah",89:"Al-Fajr",90:"Al-Balad",91:"Ash-Shams",92:"Al-Layl",93:"Ad-Duhaa",94:"Ash-Sharh",95:"At-Tin",96:"Al-'Alaq",97:"Al-Qadr",98:"Al-Bayyinah",99:"Az-Zalzalah",100:"Al-'Adiyat",101:"Al-Qari'ah",102:"At-Takathur",103:"Al-'Asr",104:"Al-Humazah",105:"Al-Fil",106:"Quraysh",107:"Al-Ma'un",108:"Al-Kawthar",109:"Al-Kafirun",110:"An-Nasr",111:"Al-Masad",112:"Al-Ikhlas",113:"Al-Falaq",114:"An-Nas"},Fa={1:7,2:286,3:200,4:176,5:120,6:165,7:206,8:75,9:129,10:109,11:123,12:111,13:43,14:52,15:99,16:128,17:111,18:110,19:98,20:135,21:112,22:78,23:118,24:64,25:77,26:227,27:93,28:88,29:69,30:60,31:34,32:30,33:73,34:54,35:45,36:83,37:182,38:88,39:75,40:85,41:54,42:53,43:89,44:59,45:37,46:35,47:38,48:29,49:18,50:45,51:60,52:49,53:62,54:55,55:78,56:96,57:29,58:22,59:24,60:13,61:14,62:11,63:11,64:18,65:12,66:12,67:30,68:52,69:52,70:44,71:28,72:28,73:20,74:56,75:40,76:31,77:50,78:40,79:46,80:42,81:29,82:19,83:36,84:25,85:22,86:17,87:19,88:26,89:30,90:20,91:15,92:21,93:11,94:8,95:8,96:19,97:5,98:8,99:8,100:11,101:11,102:8,103:3,104:9,105:5,106:4,107:7,108:3,109:6,110:3,111:5,112:4,113:5,114:6},A0=s=>{if(typeof s=="number"||typeof s=="string"){const l=(parseFloat(s)||2)*365;return Math.max(1,Math.ceil(Y_/l))}if(s?.planType==="custom")return parseInt(s.versesPerDay)||5;const i=(parseFloat(s?.targetDuration)||2)*365;return Math.max(1,Math.ceil(Y_/i))},b0=(s,t,i={},r=null)=>{const l=A0(i);let c=parseInt(s),d=t+1,p=l;const y=[],_=[];let A=0;for(;p>0&&A<10;){A++;const N=(r&&c===parseInt(s)?r:Fa[c]||100)-d+1,B=Math.min(p,N),H=d+B-1,Z=Cl[c]||`Surah ${c}`;if(y.push({surah:c,startVerse:d,endVerse:H,label:`${Z} (${d}-${H})`}),_.push(`${Z} (${d}-${H})`),p-=B,p>0){if(c===114)break;c++,d=1}}return{surah:y[0]?.surah||s,startVerse:y[0]?.startVerse||t+1,endVerse:y[y.length-1]?.endVerse||t+1,segments:y,label:_.join(" & "),isDynamic:!0}},OA=(s={})=>{const t=A0(s),i=[];let r=1,l=1;s.planType==="custom"&&s.targetSurah&&(l=parseInt(s.targetSurah));let c=1;for(;r<=30;){let d=t;const p=[],y=[],_=l,A=c;let b=0;for(;d>0&&b<10;){b++;const N=Fa[l]||100,B=N-c+1,H=Math.min(d,B),Z=c+H-1,J=Cl[l]||`Surah ${l}`;p.push({surah:l,startVerse:c,endVerse:Z,label:`${J} (${c}-${Z})`}),y.push(`${J} (${c}-${Z})`),d-=H,Z===N?(l===114?l=1:l++,c=1):c=Z+1}i.push({day:r,surah:_,startVerse:A,endVerse:p[p.length-1].endVerse,segments:p,label:y.join(" & ")}),r++}return i},Ul=()=>E.jsxs("div",{style:{marginTop:"40px",padding:"20px",background:"rgba(212, 175, 55, 0.08)",border:"1px solid rgba(212, 175, 55, 0.2)",borderRadius:"12px",textAlign:"center"},children:[E.jsx("div",{style:{display:"flex",justifyContent:"center",marginBottom:"12px"},children:E.jsx(lh,{size:24,color:"var(--primary)"})}),E.jsx("p",{style:{fontSize:"0.9rem",lineHeight:"1.6",color:"rgba(255, 255, 255, 0.9)",marginBottom:"8px",fontStyle:"italic"},children:'"Such a person as recites the Quran and masters it by heart, will be with the noble righteous scribes (in Heaven). And such a person exerts himself to learn the Quran by heart, and recites it with great difficulty, will have a double reward."'}),E.jsx("p",{style:{fontSize:"0.75rem",color:"var(--text-muted)",marginTop:"10px"},children:" Prophet Muhammad  [Sahih Bukhari: Book 6 - Volume 60, Hadith 459]"})]}),K_=({setView:s,user:t,onLogout:i})=>{const r=b0(t?.progress?.surah||1,t?.progress?.verseIndex||0,t?.settings);return E.jsxs("div",{className:"container",style:{paddingBottom:"100px"},children:[E.jsxs("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px 0",marginBottom:"20px"},children:[E.jsxs("div",{children:[E.jsx("h1",{style:{fontSize:"1.5rem",margin:0},children:"Al-Hafiz"}),E.jsxs("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:["Welcome back, ",t?.firstName||t?.username]})]}),E.jsxs("div",{style:{display:"flex",gap:"10px"},children:[E.jsx("button",{onClick:()=>s("tutorial"),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},title:"Tutorial & Guide",children:E.jsx(WS,{size:20})}),E.jsx("button",{onClick:()=>s("settings"),style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"white"},title:"Settings",children:E.jsx(wm,{size:20})}),E.jsx("button",{onClick:i,style:{background:"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-muted)"},title:"Logout",children:E.jsx(dA,{size:20})})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"30px",marginBottom:"30px",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"20px"},children:[E.jsxs("div",{children:[E.jsxs("h2",{style:{fontSize:"1.5rem",marginBottom:"5px"},children:["Assalamu Alaikum, ",t?.firstName||t?.username||"Hafiz"]}),E.jsxs("p",{style:{color:"var(--text-muted)"},children:["Continue your memorization of ",r?.label||"Surah Al-Fatiha"]})]}),E.jsxs("button",{className:"btn-primary",onClick:()=>s("memorize"),children:[E.jsx(S0,{size:20,fill:"black"})," Resume Session"]})]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},children:[E.jsx("div",{style:{background:"rgba(16, 185, 129, 0.2)",padding:"10px",borderRadius:"10px"},children:E.jsx(Am,{color:"var(--accent)"})}),E.jsxs("div",{children:[E.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"2px"},children:"Current Goal"}),E.jsx("p",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:r?.label||"Surah Al-Fatiha"})]})]}),E.jsxs("div",{style:{marginBottom:"15px"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[E.jsx("span",{children:"Daily Goal"}),E.jsxs("span",{style:{color:"var(--accent)"},children:[t?.progress?.percent||0,"%"]})]}),E.jsx("div",{style:{height:"8px",background:"rgba(255,255,255,0.1)",borderRadius:"4px",overflow:"hidden"},children:E.jsx("div",{style:{width:`${t?.progress?.percent||0}%`,height:"100%",background:"var(--accent)"}})})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",paddingBottom:"10px",borderBottom:"1px solid rgba(255,255,255,0.1)"},children:[E.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Today's Goal"}),E.jsx("span",{style:{fontWeight:"bold",color:"white"},children:(()=>{const l=t?.progress?.dailyMemorized||[],c=new Date().toDateString(),p=t?.lastActivityDate===c?l.length:0,y=t?.settings?.planType==="custom"?parseInt(t?.settings?.versesPerDay)||5:Math.max(1,Math.ceil(6236/((parseFloat(t?.settings?.targetDuration)||2)*365)));return`${p} / ${y}`})()})]}),t?.progress?.planProgress!==void 0&&E.jsxs("div",{style:{marginTop:"10px",paddingTop:"10px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"},children:[E.jsx("span",{style:{fontSize:"0.85rem",color:"var(--text-muted)"},children:"Plan Segment"}),E.jsxs("span",{style:{fontSize:"0.85rem",color:"var(--primary)"},children:[t.progress.planProgress,"%"]})]}),E.jsx("div",{style:{height:"6px",background:"rgba(255,255,255,0.05)",borderRadius:"3px",overflow:"hidden"},children:E.jsx("div",{style:{width:`${t.progress.planProgress}%`,height:"100%",background:"var(--primary)"}})})]}),E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"15px",paddingTop:"15px",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[E.jsx("span",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Total Memorized"}),E.jsxs("span",{style:{fontWeight:"bold",color:"white"},children:[(()=>{const l=t?.progress?.memorized||{};let c=0;return Object.values(l).forEach(d=>{c+=d.length}),c})()," Verses"]})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},children:[E.jsx("div",{style:{background:"rgba(212, 175, 55, 0.2)",padding:"10px",borderRadius:"10px"},children:E.jsx(FS,{color:"var(--primary)"})}),E.jsx("h3",{style:{fontSize:"1.2rem"},children:"Current Streak"})]}),E.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:"bold",color:"var(--primary)"},children:[t?.streak||0," ",E.jsx("span",{style:{fontSize:"1rem",color:"var(--text-muted)",fontWeight:"normal"},children:"Days"})]}),E.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:"Masha'Allah! Keep it up."})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"},children:[E.jsx("div",{style:{background:"rgba(59, 130, 246, 0.2)",padding:"10px",borderRadius:"10px"},children:E.jsx(YS,{color:"#3B82F6"})}),E.jsx("h3",{style:{fontSize:"1.2rem"},children:"Memorization Plan"})]}),E.jsxs("p",{style:{marginBottom:"15px"},children:["Target: ",(()=>{const l=t?.settings?.targetDuration||1;return l<1?`${Math.round(l*12)} Months`:`${l} Year${l>1?"s":""}`})()]}),E.jsx("button",{className:"btn-outline",style:{width:"100%",justifyContent:"center"},onClick:()=>s("plan"),children:"View Full Plan"})]})]}),E.jsx(Ul,{})]})},VA=({setView:s,user:t,updateUserProgress:i})=>{const[r,l]=Ct.useState([]),[c,d]=Ct.useState(t?.progress?.verseIndex||0),[p,y]=Ct.useState(null),[_,A]=Ct.useState(!1),[b,N]=Ct.useState(""),[B,H]=Ct.useState(!0),[Z,J]=Ct.useState(null),[it,st]=Ct.useState(()=>JSON.parse(localStorage.getItem("showTranslation"))??!0),[ot,Tt]=Ct.useState(()=>JSON.parse(localStorage.getItem("showTransliteration"))??!0),[xt,Lt]=Ct.useState(""),[D,w]=Ct.useState(""),[C,V]=Ct.useState(""),M=Ct.useRef([]);Ct.useEffect(()=>{localStorage.setItem("showTranslation",JSON.stringify(it)),localStorage.setItem("showTransliteration",JSON.stringify(ot))},[it,ot]),Ct.useEffect(()=>(z(),()=>{M.current.forEach(lt=>{lt&&lt.pause()})}),[t?.progress?.surah,t?.progress?.verseIndex,t?.settings?.reciterId,t?.settings?.translationId,t?.settings?.versesDisplayMode,t?.settings?.versesToDisplay]);const z=async()=>{H(!0),J(null);try{const lt=t?.progress?.surah||1;let x=t?.settings?.reciterId||7;const G=t?.settings?.translationId||85,W=x===999;W&&(x=7);const et=b0(lt,c,t.settings),ct=et.segments||[{surah:lt,startVerse:1,endVerse:7}];V(et.label||"");let gt=[];for(const bt of ct){const qt=await fetch(`https://api.quran.com/api/v4/verses/by_chapter/${bt.surah}?language=en&translations=${G},57&audio=${x}&page=1&per_page=300&fields=text_uthmani,text_imlaei_simple`);if(!qt.ok)throw new Error(`Failed to fetch verses for Surah ${bt.surah}`);const or=(await qt.json()).verses.filter(rn=>{const ni=parseInt(rn.verse_key.split(":")[1]);return ni>=bt.startVerse&&ni<=bt.endVerse}).map(rn=>{const ls=(rn.translations?.find(sn=>sn.resource_id===G)?.text||"Translation not available").replace(/<[^>]*>/g,""),us=(rn.translations?.find(sn=>sn.resource_id===57)?.text||"").replace(/<[^>]*>/g,"");let ue=rn.audio?.url,fe=!1;if(W){const sn=String(bt.surah).padStart(3,"0"),co=String(rn.verse_key.split(":")[1]).padStart(3,"0");ue=`https://everyayah.com/data/Ghamadi_40kbps/${sn}${co}.mp3`,fe=!0}return{...rn,audio_url:ue,is_full_url:fe,translation:ls,transliteration:us}});gt=[...gt,...or]}l(gt),Lt(t?.settings?.reciterName||"Mishary Rashid Alafasy"),w(t?.settings?.translationName||"Sahih International")}catch(lt){console.error("Error fetching verses:",lt),J("Failed to load verses. Please check your connection.")}finally{H(!1)}},R=lt=>{const x=M.current[lt];x&&(M.current.forEach((G,W)=>{G&&W!==lt&&(G.pause(),G.currentTime=0)}),p===lt?(x.pause(),y(null)):(x.play(),y(lt)))},ne=lt=>{const x=t?.progress?.surah||1,G=t?.progress?.memorized||{},W=G[x]||[];let et;W.includes(lt)?et=W.filter(ei=>ei!==lt):et=[...W,lt];const ct={...G,[x]:et},gt=new Date().toDateString(),ae=t?.lastActivityDate!==gt,qt={memorized:ct,streak:ae?(t.streak||0)+1:t.streak,lastActivityDate:gt};i(qt),N(W.includes(lt)?"Unmarked!":"Marked as memorized!"),setTimeout(()=>N(""),2e3)},pe=()=>{const lt=t?.settings?.versesDisplayMode||"specific",x=t?.progress?.surah||1;if(lt==="entireSurah")x>1&&i({surah:x-1,verseIndex:0});else{const G=parseInt(t?.settings?.versesToDisplay)||5;let W=x,et=c-G;for(;et<0;)if(W>1){W--;const ct=Fa[W]||300;et+=ct}else{et=0;break}d(et),i({surah:W,verseIndex:et})}},Q=()=>{const lt=t?.settings?.versesDisplayMode||"specific",x=t?.progress?.surah||1;if(lt==="entireSurah")x<114&&i({surah:x+1,verseIndex:0});else{const G=parseInt(t?.settings?.versesToDisplay)||5;let W=x,et=c+G;for(;;){const ct=Fa[W]||300;if(et<ct)break;if(et-=ct,W<114)W++;else{et=ct-1;break}}d(et),i({surah:W,verseIndex:et})}},rt=()=>{const lt=t?.progress?.surah||1,x=t?.progress?.memorized||{},G=x[lt]||[],W=[];if(r.forEach(et=>{const ct=parseInt(et.verse_key.split(":")[1])-1;G.includes(ct)||W.push(ct)}),W.length>0){const et=[...G,...W],ct={...x,[lt]:et},gt=new Date().toDateString(),ae=t?.lastActivityDate!==gt,qt={memorized:ct,streak:ae?(t.streak||0)+1:t.streak,lastActivityDate:gt};i(qt),setTimeout(()=>{Q()},500)}else setTimeout(()=>{Q()},500)};if(B)return E.jsx("div",{className:"flex-center",style:{height:"100vh"},children:"Loading verses..."});if(Z)return E.jsxs("div",{className:"flex-center",style:{height:"100vh",flexDirection:"column",gap:"20px"},children:[E.jsx("p",{className:"text-danger",children:Z}),E.jsx("button",{className:"btn-primary",onClick:z,children:"Retry"})]});const dt=t?.progress?.surah||1,Pt=t?.progress?.memorized?.[dt]||[];return E.jsxs("div",{className:"container",style:{height:"100vh",display:"flex",flexDirection:"column"},children:[E.jsxs("div",{style:{padding:"20px 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[E.jsx("button",{onClick:()=>s("home"),style:{background:"none",border:"none",color:"white",cursor:"pointer"},children:E.jsx(bm,{})}),E.jsxs("div",{style:{display:"flex",gap:"10px"},children:[E.jsx("button",{onClick:()=>st(!it),style:{background:"none",border:"none",color:it?"var(--accent)":"var(--text-muted)",cursor:"pointer"},title:"Toggle Translation",children:E.jsx(lA,{size:24})}),E.jsx("button",{onClick:()=>Tt(!ot),style:{background:"none",border:"none",color:ot?"var(--accent)":"var(--text-muted)",cursor:"pointer"},title:"Toggle Transliteration",children:E.jsx(xA,{size:24})}),E.jsx("button",{onClick:()=>A(!_),style:{background:"none",border:"none",color:_?"var(--accent)":"var(--text-muted)",cursor:"pointer"},title:"Toggle Hide/Show",children:_?E.jsx(rA,{size:24}):E.jsx(lh,{size:24})})]})]}),E.jsxs("div",{className:"glass-panel",style:{flex:1,display:"flex",flexDirection:"column",padding:"20px",paddingBottom:"80px",overflowY:"auto"},children:[(xt||D)&&E.jsxs("div",{style:{width:"100%",padding:"12px",background:"rgba(212, 175, 55, 0.08)",borderRadius:"8px",marginBottom:"20px",display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap",fontSize:"0.85rem",color:"white",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[xt&&E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--text-muted)",marginRight:"5px"},children:"Reciter:"}),E.jsx("span",{style:{color:"var(--primary)"},children:xt})]}),D&&E.jsxs("div",{children:[E.jsx("span",{style:{color:"var(--text-muted)",marginRight:"5px"},children:"Translation:"}),E.jsx("span",{style:{color:"var(--accent)"},children:D})]})]}),E.jsxs("div",{style:{marginBottom:"20px",textAlign:"center"},children:[E.jsx("h2",{style:{color:"var(--accent)",marginBottom:"10px"},children:Cl[dt]||`Surah ${dt}`}),t?.settings?.versesDisplayMode!=="entireSurah"&&r.length>0&&E.jsx("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"10px"},children:C||`Displaying ${r.length} verse${r.length!==1?"s":""}`}),t?.settings?.versesDisplayMode==="entireSurah"&&r.length>0&&E.jsxs("p",{style:{fontSize:"0.9rem",color:"var(--text-muted)",marginBottom:"10px"},children:["Entire Surah (",r.length," verses)"]})]}),b&&E.jsxs("div",{style:{position:"fixed",top:"100px",left:"50%",transform:"translateX(-50%)",background:"rgba(16, 185, 129, 0.2)",padding:"10px 20px",borderRadius:"20px",color:"#10B981",display:"flex",alignItems:"center",gap:"10px",zIndex:1e3},children:[b.includes("Unmarked")?E.jsx($S,{size:16}):E.jsx(zd,{size:16}),b]}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"25px"},children:r.map((lt,x)=>{const G=parseInt(lt.verse_key.split(":")[1])-1,W=Pt.includes(G),et=p===x;return E.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.03)",border:"1px solid rgba(255, 255, 255, 0.1)",borderRadius:"12px",padding:"20px",position:"relative"},children:[E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[E.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--accent)",fontWeight:"bold"},children:["Verse ",lt.verse_key.split(":")[1]]}),E.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[E.jsx("button",{onClick:()=>R(x),style:{background:"none",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:et?"var(--primary)":"white"},children:et?E.jsx(yA,{size:18}):E.jsx(S0,{size:18})}),E.jsx("button",{onClick:()=>ne(G),style:{background:"none",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:W?"var(--accent)":"rgba(255, 255, 255, 0.5)"},children:W?E.jsx(T0,{size:18}):E.jsx(zd,{size:18})})]})]}),E.jsx("p",{style:{fontSize:r.length>10?"1.8rem":"2.2rem",lineHeight:"1.8",marginBottom:"15px",filter:_?"blur(12px)":"none",transition:"filter 0.5s ease",userSelect:_?"none":"auto",fontFamily:"'Amiri', serif",textAlign:"right",direction:"rtl"},children:lt.text_uthmani}),ot&&E.jsx("p",{style:{fontSize:r.length>10?"0.9rem":"1rem",color:"var(--text-muted)",marginBottom:"12px",fontStyle:"italic",filter:_?"blur(8px)":"none",transition:"filter 0.5s ease",userSelect:_?"none":"auto"},children:lt.transliteration}),it&&E.jsx("p",{style:{fontSize:r.length>10?"0.95rem":"1.1rem",marginBottom:"0",filter:_?"blur(8px)":"none",transition:"filter 0.5s ease",userSelect:_?"none":"auto",lineHeight:"1.6"},children:lt.translation}),lt.audio_url&&E.jsx("audio",{ref:ct=>M.current[x]=ct,src:lt.is_full_url?lt.audio_url:`https://verses.quran.com/${lt.audio_url}`,onEnded:()=>y(null)})]},lt.id)})}),E.jsxs("div",{style:{display:"flex",gap:"20px",width:"100%",justifyContent:"center",marginTop:"30px",paddingTop:"20px",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[E.jsxs("button",{className:"btn-outline",onClick:pe,disabled:t?.settings?.versesDisplayMode==="entireSurah"?(t?.progress?.surah||1)<=1:c===0,style:{opacity:(t?.settings?.versesDisplayMode==="entireSurah"?(t?.progress?.surah||1)<=1:c===0)?.5:1},children:[E.jsx(SA,{size:20})," Prev"]}),E.jsxs("button",{className:"btn-primary",onClick:rt,children:["Mark Memorized ",E.jsx(zd,{size:20,style:{marginLeft:"5px"}})]}),E.jsxs("button",{className:"btn-outline",onClick:Q,disabled:t?.settings?.versesDisplayMode==="entireSurah"?(t?.progress?.surah||1)>=114:c>=Fa[t?.progress?.surah||1]-1,style:{opacity:(t?.settings?.versesDisplayMode==="entireSurah"?(t?.progress?.surah||1)>=114:c>=Fa[t?.progress?.surah||1]-1)?.5:1},children:["Skip ",E.jsx(IA,{size:20,style:{marginLeft:"5px"}})]})]})]}),E.jsx(Ul,{})]})},kA=({user:s,setView:t,updateUserProgress:i})=>{const r=OA(s?.settings),l=(p,y,_)=>{const A=s?.progress?.surah||1,b=s?.progress?.verseIndex||0,N=s?.progress?.memorized||{};let B=0,H=0;const Z=p.segments||[{surah:p.surah,startVerse:p.startVerse,endVerse:p.endVerse}];if(Z.forEach(it=>{const st=N[it.surah]||[];H+=it.endVerse-it.startVerse+1;for(let ot=it.startVerse-1;ot<it.endVerse;ot++)st.includes(ot)&&B++}),B===H)return"completed";let J=!1;if(Z.forEach(it=>{if(A===it.surah){const st=b+1;st>=it.startVerse&&st<=it.endVerse&&(J=!0)}}),J)return"current";if(y>0){const it=_[y-1],st=l(it,y-1,_);if(st==="completed"||st==="current")return"current"}else return"current";return"locked"},c=r.map((p,y)=>({...p,task:p.label,status:l(p,y,r)})),d=p=>{if(!t||!i)return;console.log("Starting day:",p.day,"Surah:",p.surah,"Verses:",p.startVerse,"-",p.endVerse);const y=p.startVerse-1;i({surah:p.surah,verseIndex:y,surahName:p.label}),setTimeout(()=>{t("memorize")},100)};return E.jsxs("div",{className:"container",style:{paddingBottom:"100px",maxWidth:"800px"},children:[E.jsxs("header",{style:{marginBottom:"40px",textAlign:"center"},children:[E.jsx("h2",{style:{fontSize:"2rem",color:"var(--primary)"},children:"Your Memorization Plan"}),E.jsx("p",{style:{color:"var(--text-muted)"},children:"Consistent small steps lead to great journeys."})]}),E.jsx("div",{className:"glass-panel",style:{padding:"20px"},children:c.map((p,y)=>E.jsxs("div",{style:{display:"flex",alignItems:"center",padding:"20px",borderBottom:y!==c.length-1?"1px solid rgba(255,255,255,0.05)":"none",opacity:p.status==="locked"?.5:1},children:[E.jsxs("div",{style:{marginRight:"20px"},children:[p.status==="completed"&&E.jsx(T0,{color:"var(--accent)",size:28}),p.status==="current"&&E.jsx(nA,{color:"var(--primary)",size:28,fill:"rgba(212, 175, 55, 0.2)"}),p.status==="locked"&&E.jsx(Xd,{color:"var(--text-muted)",size:24})]}),E.jsxs("div",{style:{flex:1},children:[E.jsxs("h3",{style:{fontSize:"1.2rem",marginBottom:"4px"},children:["Day ",p.day]}),E.jsx("p",{style:{color:"var(--text-muted)"},children:p.task})]}),p.status==="current"&&E.jsx("button",{className:"btn-primary",style:{padding:"8px 16px",fontSize:"0.9rem"},onClick:()=>d(p),children:"Start"})]},y))}),E.jsx(Ul,{})]})},zA=({setView:s,user:t,updateUser:i})=>{const[r,l]=Ct.useState(t?.settings||{targetDuration:1,reciterId:7,translationId:85,memorizationMethod:"standard"}),[c,d]=Ct.useState([]),[p,y]=Ct.useState([]),[_,A]=Ct.useState(!1);Ct.useEffect(()=>{(async()=>{try{const it=(await(await fetch("https://api.quran.com/api/v4/resources/recitations?language=en")).json()).recitations||[],st={id:999,reciter_name:"Saad Al Ghamdi",style:"Murattal"};d([...it,st]);const Tt=await(await fetch("https://api.quran.com/api/v4/resources/translations?language=en")).json();y(Tt.translations||[])}catch(Z){console.error("Error fetching settings data:",Z)}})()},[]);const b=(H,Z)=>{l(J=>({...J,[H]:Z}))},N=async()=>{const H=c.find(st=>st.id===r.reciterId),Z=p.find(st=>st.id===r.translationId),J={...r,reciterName:H?.reciter_name||"Unknown Reciter",translationName:Z?.name||"Unknown Translation",targetSurah:r.planType==="custom"?r.targetSurah||1:r.targetSurah,versesPerDay:parseInt(r.versesPerDay)||5,versesToDisplay:parseInt(r.versesToDisplay)||5,versesDisplayMode:r.versesDisplayMode||"specific"},it={settings:J};if(console.log("Saving settings...",J),J.planType==="custom"){const st=parseInt(J.targetSurah),ot=t?.progress?.surah||1;console.log(`Custom Plan Check: Target=${st}, Current=${ot}`),!isNaN(st)&&st!==ot&&(console.log("Updating progress to new Surah:",st),it.surah=st,it.verseIndex=0,it.surahName=Cl[st])}await i(it),A(!0),setTimeout(()=>{A(!1),s("home")},1e3)},B={color:"black"};return E.jsxs("div",{className:"container",style:{padding:"20px",maxWidth:"600px",margin:"0 auto"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[E.jsx("button",{onClick:()=>s("home"),style:{background:"none",border:"none",color:"white",cursor:"pointer",marginRight:"15px"},children:E.jsx(bm,{size:24})}),E.jsxs("h2",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[E.jsx(wm,{size:24})," Settings"]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[(t?.settings?.reciterName||t?.settings?.translationName)&&E.jsxs("div",{style:{marginBottom:"30px",paddingBottom:"20px",borderBottom:"1px solid rgba(255, 255, 255, 0.1)"},children:[E.jsx("h3",{style:{fontSize:"1rem",color:"white",marginBottom:"12px",fontWeight:"600"},children:"Currently Selected"}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"10px"},children:[t?.settings?.reciterName&&E.jsxs("div",{style:{fontSize:"0.9rem",color:"white"},children:[E.jsx("span",{style:{color:"var(--text-muted)",marginRight:"8px"},children:"Reciter:"}),E.jsx("span",{style:{color:"var(--primary)"},children:t.settings.reciterName})]}),t?.settings?.translationName&&E.jsxs("div",{style:{fontSize:"0.9rem",color:"white"},children:[E.jsx("span",{style:{color:"var(--text-muted)",marginRight:"8px"},children:"Translation:"}),E.jsx("span",{style:{color:"var(--accent)"},children:t.settings.translationName})]})]})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Memorization Plan Type"}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[E.jsx("button",{onClick:()=>b("planType","duration"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.planType!=="custom"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.planType!=="custom"?"black":"white",cursor:"pointer"},children:"Duration Based"}),E.jsx("button",{onClick:()=>b("planType","custom"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.planType==="custom"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.planType==="custom"?"black":"white",cursor:"pointer"},children:"Custom Plan"})]}),r.planType==="custom"?E.jsxs("div",{style:{animation:"fadeIn 0.3s ease-out"},children:[E.jsxs("div",{style:{marginBottom:"15px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Start from Surah"}),E.jsx("select",{value:r.targetSurah||1,onChange:H=>b("targetSurah",Number(H.target.value)),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"},children:Object.entries(Cl).map(([H,Z])=>E.jsxs("option",{value:H,style:{color:"black"},children:[H,". ",Z]},H))})]}),E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Verses per Day"}),E.jsx("input",{type:"number",min:"1",max:"286",value:r.versesPerDay===void 0||r.versesPerDay===null?5:r.versesPerDay,onChange:H=>b("versesPerDay",H.target.value===""?"":H.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"}})]})]}):E.jsxs("div",{children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Target Duration"}),E.jsxs("select",{value:r.targetDuration,onChange:H=>b("targetDuration",H.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"},children:[E.jsx("option",{style:{color:"black"},value:.25,children:"3 Months"}),E.jsx("option",{style:{color:"black"},value:.5,children:"6 Months"}),E.jsx("option",{style:{color:"black"},value:.75,children:"9 Months"}),E.jsx("option",{style:{color:"black"},value:1,children:"1 Year"}),E.jsx("option",{style:{color:"black"},value:1.5,children:"1.5 Years"}),E.jsx("option",{style:{color:"black"},value:2,children:"2 Years"}),E.jsx("option",{style:{color:"black"},value:3,children:"3 Years"}),E.jsx("option",{style:{color:"black"},value:5,children:"5 Years"})]}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"5px"},children:"Adjusts the pace of your daily memorization plan."})]})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Learning Style"}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[E.jsx("button",{onClick:()=>b("memorizationMethod","standard"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.memorizationMethod==="standard"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.memorizationMethod==="standard"?"black":"white",cursor:"pointer"},children:"Standard"}),E.jsx("button",{onClick:()=>b("memorizationMethod","6446"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.memorizationMethod==="6446"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.memorizationMethod==="6446"?"black":"white",cursor:"pointer"},children:"6446 Method"})]}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:"1.4"},children:r.memorizationMethod==="6446"?"The 6-4-4-6 method: Read 6x (looking), Recite 4x (memory), Read 4x (looking), Recite 6x (memory).":"Standard mode: Read, listen, and repeat at your own pace until memorized."})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Verses Display Mode"}),E.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"10px"},children:[E.jsx("button",{onClick:()=>b("versesDisplayMode","specific"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.versesDisplayMode!=="entireSurah"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.versesDisplayMode!=="entireSurah"?"black":"white",cursor:"pointer"},children:"Specific Number"}),E.jsx("button",{onClick:()=>b("versesDisplayMode","entireSurah"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:r.versesDisplayMode==="entireSurah"?"var(--primary)":"rgba(255,255,255,0.05)",color:r.versesDisplayMode==="entireSurah"?"black":"white",cursor:"pointer"},children:"Entire Surah"})]}),r.versesDisplayMode!=="entireSurah"&&E.jsxs("div",{style:{animation:"fadeIn 0.3s ease-out"},children:[E.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",color:"var(--text-muted)"},children:"Number of Verses to Display"}),E.jsx("input",{type:"number",min:"1",max:"286",value:r.versesToDisplay===void 0||r.versesToDisplay===null?5:r.versesToDisplay,onChange:H=>b("versesToDisplay",H.target.value===""?"":H.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"}}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",marginTop:"5px"},children:"Number of verses to work with in each session"})]}),E.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-muted)",lineHeight:"1.4",marginTop:"10px"},children:r.versesDisplayMode==="entireSurah"?"Display all verses of the current Surah for comprehensive memorization.":"Display a specific number of verses to focus on smaller sections."})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Preferred Reciter"}),E.jsx("select",{value:r.reciterId,onChange:H=>b("reciterId",Number(H.target.value)),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"},children:c.length>0?c.map(H=>E.jsxs("option",{style:B,value:H.id,children:[H.reciter_name," ",H.style?`(${H.style})`:""]},H.id)):E.jsxs(E.Fragment,{children:[E.jsx("option",{style:B,value:7,children:"Mishary Rashid Alafasy"}),E.jsx("option",{style:B,value:2,children:"AbdulBaset AbdulSamad"})]})})]}),E.jsxs("div",{style:{marginBottom:"25px"},children:[E.jsx("label",{style:{display:"block",marginBottom:"10px",color:"var(--text-muted)"},children:"Translation Language"}),E.jsx("select",{value:r.translationId,onChange:H=>b("translationId",Number(H.target.value)),style:{width:"100%",padding:"12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",border:"1px solid rgba(255, 255, 255, 0.1)",color:"white",fontSize:"1rem",outline:"none"},children:p.length>0?p.map(H=>E.jsxs("option",{style:B,value:H.id,children:[H.name," (",H.language_name,")"]},H.id)):E.jsxs(E.Fragment,{children:[E.jsx("option",{style:B,value:85,children:"Sahih International (English)"}),E.jsx("option",{style:B,value:131,children:"The Clear Quran (English)"})]})})]}),E.jsxs("button",{className:"btn-primary",onClick:N,style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[E.jsx(bA,{size:20})," Save Settings"]})]}),_&&E.jsx("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",background:"var(--accent)",color:"black",padding:"10px 20px",borderRadius:"20px",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.3)",animation:"fadeIn 0.3s ease-out"},children:"Settings Saved!"}),E.jsx(Ul,{})]})},LA=({setView:s})=>E.jsxs("div",{className:"container",style:{padding:"20px",maxWidth:"800px",margin:"0 auto",paddingBottom:"100px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"30px"},children:[E.jsx("button",{onClick:()=>s("home"),style:{background:"none",border:"none",color:"white",cursor:"pointer",marginRight:"15px"},children:E.jsx(bm,{size:24})}),E.jsxs("h2",{style:{margin:0,display:"flex",alignItems:"center",gap:"10px"},children:[E.jsx(lh,{size:24})," App Tutorial & Guide"]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"30px",marginBottom:"30px"},children:[E.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"15px",color:"var(--primary)"},children:"Purpose of Al-Hafiz"}),E.jsx("p",{style:{lineHeight:"1.6",color:"var(--text-muted)",marginBottom:"20px"},children:"Al-Hafiz is your dedicated companion for Quran memorization. Whether you are starting your journey or revising, this application is designed to help you memorize the Holy Quran systematically and effectively. It adapts to your pace, tracks your progress, and provides structured methods to ensure retention."}),E.jsx("p",{style:{lineHeight:"1.6",color:"var(--text-muted)"},children:"Our goal is to make the noble task of Hifz accessible and manageable for everyone, regardless of their schedule or prior experience."})]}),E.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"20px",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"10px"},children:"How to Use Al-Hafiz"}),E.jsx("div",{className:"glass-panel",style:{padding:"25px",marginBottom:"30px"},children:E.jsxs("ol",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.8"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Configure Your Settings:"})," Start by visiting the Settings page to choose your memorization plan, learning style, and preferred reciter."]}),E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Start a Session:"})," On the Home screen, click ",E.jsx("strong",{children:'"Resume Session"'}),". This will take you to your daily verses."]}),E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Memorize:"})," Follow the on-screen instructions. You can listen to the recitation, read the verses, and toggle the translation."]}),E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Complete Your Daily Goal:"})," Once you are confident, mark the session as complete. Your progress and streak will update automatically."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"Track Progress:"})," Check the Home dashboard to see your total memorized verses, current streak, and progress towards your completion goal."]})]})}),E.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"20px",borderBottom:"1px solid rgba(255,255,255,0.1)",paddingBottom:"10px"},children:"Understanding the Settings"}),E.jsxs("div",{style:{display:"grid",gap:"20px"},children:[E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[E.jsx(Am,{size:24,color:"var(--accent)"}),E.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Memorization Plan Type"})]}),E.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"15px",fontSize:"0.95rem"},children:"Choose how you want to structure your memorization journey."}),E.jsxs("ul",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.6"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Duration Based:"})," Ideal if you have a deadline. Select a timeframe (e.g., 1 Year, 2 Years), and the app will calculate how many verses you need to memorize daily to meet that goal."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"Custom Plan:"})," Perfect for flexibility. You decide exactly how many verses to memorize per day and which Surah to start from."]})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[E.jsx(cA,{size:24,color:"var(--primary)"}),E.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Learning Style"})]}),E.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"15px",fontSize:"0.95rem"},children:"Select the method that best suits your learning habits."}),E.jsxs("ul",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.6"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Standard:"})," A flexible approach where you read, listen, and repeat verses at your own pace until you feel confident."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"6446 Method:"})," A structured, proven technique for strong retention:",E.jsx("br",{}),"1. Read the verse ",E.jsx("strong",{children:"6 times"})," while looking.",E.jsx("br",{}),"2. Recite it ",E.jsx("strong",{children:"4 times"})," from memory.",E.jsx("br",{}),"3. Read it ",E.jsx("strong",{children:"4 times"})," while looking again.",E.jsx("br",{}),"4. Recite it ",E.jsx("strong",{children:"6 times"})," from memory."]})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[E.jsx(wm,{size:24,color:"#3B82F6"}),E.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Verses Display Mode"})]}),E.jsx("p",{style:{color:"var(--text-muted)",marginBottom:"15px",fontSize:"0.95rem"},children:"Control how much content you see on the screen during your session."}),E.jsxs("ul",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.6"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Specific Number:"})," Focuses your attention by showing only a small set of verses (e.g., 5 verses) at a time. Great for avoiding overwhelm."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"Entire Surah:"})," Displays the full Surah. Useful for context and revising larger sections."]})]})]}),E.jsxs("div",{className:"glass-panel",style:{padding:"25px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginBottom:"15px"},children:[E.jsx(pA,{size:24,color:"#EC4899"}),E.jsx("h4",{style:{margin:0,fontSize:"1.1rem"},children:"Reciter & Translation"})]}),E.jsxs("ul",{style:{paddingLeft:"20px",color:"var(--text-muted)",lineHeight:"1.6"},children:[E.jsxs("li",{style:{marginBottom:"10px"},children:[E.jsx("strong",{style:{color:"white"},children:"Preferred Reciter:"})," Choose from a list of world-renowned Qaris. Listening to a reciter helps with proper pronunciation (Tajweed) and memorization."]}),E.jsxs("li",{children:[E.jsx("strong",{style:{color:"white"},children:"Translation Language:"})," Select your preferred language to understand the meaning of the verses you are memorizing, which aids in retention and contemplation (Tadabbur)."]})]})]})]}),E.jsx(Ul,{})]}),PA=()=>{};var X_={};const w0=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},UA=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},R0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let N=(p&15)<<2|_>>6,B=_&63;y||(B=64,d||(N=64)),r.push(i[A],i[b],i[N],i[B])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(w0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):UA(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const b=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||b==null)throw new jA;const N=c<<2|p>>4;if(r.push(N),_!==64){const B=p<<4&240|_>>2;if(r.push(B),b!==64){const H=_<<6&192|b;r.push(H)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class jA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BA=function(s){const t=w0(s);return R0.encodeByteArray(t,!0)},Hc=function(s){return BA(s).replace(/\./g,"")},I0=function(s){try{return R0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function HA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qA=()=>HA().__FIREBASE_DEFAULTS__,FA=()=>{if(typeof process>"u"||typeof X_>"u")return;const s=X_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},GA=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&I0(s[1]);return t&&JSON.parse(t)},uh=()=>{try{return PA()||qA()||FA()||GA()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},C0=s=>uh()?.emulatorHosts?.[s],QA=s=>{const t=C0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},x0=()=>uh()?.config,D0=s=>uh()?.[`_${s}`];class YA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function io(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(s){return(await fetch(s,{credentials:"include"})).ok}function KA(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Tl={};function XA(){const s={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?s.emulator.push(t):s.prod.push(t);return s}function $A(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let $_=!1;function M0(s,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Tl[s]===t||Tl[s]||$_)return;Tl[s]=t;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",c=XA().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function y(N,B){N.setAttribute("width","24"),N.setAttribute("id",B),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{$_=!0,d()},N}function A(N,B){N.setAttribute("id",B),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=$A(r),B=i("text"),H=document.getElementById(B)||document.createElement("span"),Z=i("learnmore"),J=document.getElementById(Z)||document.createElement("a"),it=i("preprendIcon"),st=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const ot=N.element;p(ot),A(J,Z);const Tt=_();y(st,it),ot.append(st,H,J,Tt),document.body.appendChild(ot)}c?(H.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",B)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function ZA(){const s=uh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nb(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ib(){return!ZA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rb(){try{return typeof indexedDB=="object"}catch{return!1}}function sb(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const ab="FirebaseError";class ar extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=ab,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jl.prototype.create)}}class jl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?ob(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ar(l,p,r)}}function ob(s,t){return s.replace(lb,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const lb=/\{\$([^}]+)}/g;function ub(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Hs(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(J_(c)&&J_(d)){if(!Hs(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function J_(s){return s!==null&&typeof s=="object"}function Bl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function pl(s){const t={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function gl(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}function cb(s,t){const i=new hb(s,t);return i.subscribe.bind(i)}class hb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");fb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ld),l.error===void 0&&(l.error=Ld),l.complete===void 0&&(l.complete=Ld);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ld(){}function We(s){return s&&s._delegate?s._delegate:s}class qs{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Us="[DEFAULT]";class db{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new YA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(pb(t))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Us){return this.instances.has(t)}getOptions(t=Us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Us){return this.component?this.component.multipleInstances?t:Us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mb(s){return s===Us?void 0:s}function pb(s){return s.instantiationMode==="EAGER"}class gb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new db(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Vt||(Vt={}));const yb={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},_b=Vt.INFO,vb={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},Eb=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=vb[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rm{constructor(t){this.name=t,this._logLevel=_b,this._logHandler=Eb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?yb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const Tb=(s,t)=>t.some(i=>s instanceof i);let Z_,W_;function Sb(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ab(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,$d=new WeakMap,V0=new WeakMap,Pd=new WeakMap,Im=new WeakMap;function bb(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Yr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&O0.set(i,s)}).catch(()=>{}),Im.set(t,s),t}function wb(s){if($d.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});$d.set(s,t)}let Jd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return $d.get(s);if(t==="objectStoreNames")return s.objectStoreNames||V0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Yr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Rb(s){Jd=s(Jd)}function Ib(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Ud(this),t,...i);return V0.set(r,t.sort?t.sort():[t]),Yr(r)}:Ab().includes(s)?function(...t){return s.apply(Ud(this),t),Yr(O0.get(this))}:function(...t){return Yr(s.apply(Ud(this),t))}}function Cb(s){return typeof s=="function"?Ib(s):(s instanceof IDBTransaction&&wb(s),Tb(s,Sb())?new Proxy(s,Jd):s)}function Yr(s){if(s instanceof IDBRequest)return bb(s);if(Pd.has(s))return Pd.get(s);const t=Cb(s);return t!==s&&(Pd.set(s,t),Im.set(t,s)),t}const Ud=s=>Im.get(s);function xb(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Yr(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Yr(d.result),y.oldVersion,y.newVersion,Yr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Db=["get","getKey","getAll","getAllKeys","count"],Nb=["put","add","delete","clear"],jd=new Map;function tv(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=Nb.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Db.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return jd.set(t,c),c}Rb(s=>({...s,get:(t,i,r)=>tv(t,i)||s.get(t,i,r),has:(t,i)=>!!tv(t,i)||s.has(t,i)}));class Mb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Ob(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function Ob(s){return s.getComponent()?.type==="VERSION"}const Zd="@firebase/app",ev="0.14.6";const nr=new Rm("@firebase/app"),Vb="@firebase/app-compat",kb="@firebase/analytics-compat",zb="@firebase/analytics",Lb="@firebase/app-check-compat",Pb="@firebase/app-check",Ub="@firebase/auth",jb="@firebase/auth-compat",Bb="@firebase/database",Hb="@firebase/data-connect",qb="@firebase/database-compat",Fb="@firebase/functions",Gb="@firebase/functions-compat",Qb="@firebase/installations",Yb="@firebase/installations-compat",Kb="@firebase/messaging",Xb="@firebase/messaging-compat",$b="@firebase/performance",Jb="@firebase/performance-compat",Zb="@firebase/remote-config",Wb="@firebase/remote-config-compat",t2="@firebase/storage",e2="@firebase/storage-compat",n2="@firebase/firestore",i2="@firebase/ai",r2="@firebase/firestore-compat",s2="firebase",a2="12.6.0";const Wd="[DEFAULT]",o2={[Zd]:"fire-core",[Vb]:"fire-core-compat",[zb]:"fire-analytics",[kb]:"fire-analytics-compat",[Pb]:"fire-app-check",[Lb]:"fire-app-check-compat",[Ub]:"fire-auth",[jb]:"fire-auth-compat",[Bb]:"fire-rtdb",[Hb]:"fire-data-connect",[qb]:"fire-rtdb-compat",[Fb]:"fire-fn",[Gb]:"fire-fn-compat",[Qb]:"fire-iid",[Yb]:"fire-iid-compat",[Kb]:"fire-fcm",[Xb]:"fire-fcm-compat",[$b]:"fire-perf",[Jb]:"fire-perf-compat",[Zb]:"fire-rc",[Wb]:"fire-rc-compat",[t2]:"fire-gcs",[e2]:"fire-gcs-compat",[n2]:"fire-fst",[r2]:"fire-fst-compat",[i2]:"fire-vertex","fire-js":"fire-js",[s2]:"fire-js-all"};const qc=new Map,l2=new Map,tm=new Map;function nv(s,t){try{s.container.addComponent(t)}catch(i){nr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function $a(s){const t=s.name;if(tm.has(t))return nr.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,s);for(const i of qc.values())nv(i,s);for(const i of l2.values())nv(i,s);return!0}function Cm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Pn(s){return s==null?!1:s.settings!==void 0}const u2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new jl("app","Firebase",u2);class c2{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}const ro=a2;function k0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Wd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Kr.create("bad-app-name",{appName:String(l)});if(i||(i=x0()),!i)throw Kr.create("no-options");const c=qc.get(l);if(c){if(Hs(i,c.options)&&Hs(r,c.config))return c;throw Kr.create("duplicate-app",{appName:l})}const d=new gb(l);for(const y of tm.values())d.addComponent(y);const p=new c2(i,r,d);return qc.set(l,p),p}function z0(s=Wd){const t=qc.get(s);if(!t&&s===Wd&&x0())return k0();if(!t)throw Kr.create("no-app",{appName:s});return t}function Xr(s,t,i){let r=o2[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),nr.warn(d.join(" "));return}$a(new qs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const h2="firebase-heartbeat-database",f2=1,xl="firebase-heartbeat-store";let Bd=null;function L0(){return Bd||(Bd=xb(h2,f2,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Kr.create("idb-open",{originalErrorMessage:s.message})})),Bd}async function d2(s){try{const i=(await L0()).transaction(xl),r=await i.objectStore(xl).get(P0(s));return await i.done,r}catch(t){if(t instanceof ar)nr.warn(t.message);else{const i=Kr.create("idb-get",{originalErrorMessage:t?.message});nr.warn(i.message)}}}async function iv(s,t){try{const r=(await L0()).transaction(xl,"readwrite");await r.objectStore(xl).put(t,P0(s)),await r.done}catch(i){if(i instanceof ar)nr.warn(i.message);else{const r=Kr.create("idb-set",{originalErrorMessage:i?.message});nr.warn(r.message)}}}function P0(s){return`${s.name}!${s.options.appId}`}const m2=1024,p2=30;class g2{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _2(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>p2){const l=v2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){nr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rv(),{heartbeatsToSend:i,unsentEntries:r}=y2(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return nr.warn(t),""}}}function rv(){return new Date().toISOString().substring(0,10)}function y2(s,t=m2){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),sv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),sv(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class _2{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rb()?sb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await d2(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function sv(s){return Hc(JSON.stringify({version:2,heartbeats:s})).length}function v2(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function E2(s){$a(new qs("platform-logger",t=>new Mb(t),"PRIVATE")),$a(new qs("heartbeat",t=>new g2(t),"PRIVATE")),Xr(Zd,ev,s),Xr(Zd,ev,"esm2020"),Xr("fire-js","")}E2("");var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $r,U0;(function(){var s;function t(D,w){function C(){}C.prototype=w.prototype,D.F=w.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(V,M,z){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return w.prototype[M].apply(V,R)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(D,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(M=0;M<16;++M)V[M]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=D.g[0],C=D.g[1],M=D.g[2];let z=D.g[3],R;R=w+(z^C&(M^z))+V[0]+3614090360&4294967295,w=C+(R<<7&4294967295|R>>>25),R=z+(M^w&(C^M))+V[1]+3905402710&4294967295,z=w+(R<<12&4294967295|R>>>20),R=M+(C^z&(w^C))+V[2]+606105819&4294967295,M=z+(R<<17&4294967295|R>>>15),R=C+(w^M&(z^w))+V[3]+3250441966&4294967295,C=M+(R<<22&4294967295|R>>>10),R=w+(z^C&(M^z))+V[4]+4118548399&4294967295,w=C+(R<<7&4294967295|R>>>25),R=z+(M^w&(C^M))+V[5]+1200080426&4294967295,z=w+(R<<12&4294967295|R>>>20),R=M+(C^z&(w^C))+V[6]+2821735955&4294967295,M=z+(R<<17&4294967295|R>>>15),R=C+(w^M&(z^w))+V[7]+4249261313&4294967295,C=M+(R<<22&4294967295|R>>>10),R=w+(z^C&(M^z))+V[8]+1770035416&4294967295,w=C+(R<<7&4294967295|R>>>25),R=z+(M^w&(C^M))+V[9]+2336552879&4294967295,z=w+(R<<12&4294967295|R>>>20),R=M+(C^z&(w^C))+V[10]+4294925233&4294967295,M=z+(R<<17&4294967295|R>>>15),R=C+(w^M&(z^w))+V[11]+2304563134&4294967295,C=M+(R<<22&4294967295|R>>>10),R=w+(z^C&(M^z))+V[12]+1804603682&4294967295,w=C+(R<<7&4294967295|R>>>25),R=z+(M^w&(C^M))+V[13]+4254626195&4294967295,z=w+(R<<12&4294967295|R>>>20),R=M+(C^z&(w^C))+V[14]+2792965006&4294967295,M=z+(R<<17&4294967295|R>>>15),R=C+(w^M&(z^w))+V[15]+1236535329&4294967295,C=M+(R<<22&4294967295|R>>>10),R=w+(M^z&(C^M))+V[1]+4129170786&4294967295,w=C+(R<<5&4294967295|R>>>27),R=z+(C^M&(w^C))+V[6]+3225465664&4294967295,z=w+(R<<9&4294967295|R>>>23),R=M+(w^C&(z^w))+V[11]+643717713&4294967295,M=z+(R<<14&4294967295|R>>>18),R=C+(z^w&(M^z))+V[0]+3921069994&4294967295,C=M+(R<<20&4294967295|R>>>12),R=w+(M^z&(C^M))+V[5]+3593408605&4294967295,w=C+(R<<5&4294967295|R>>>27),R=z+(C^M&(w^C))+V[10]+38016083&4294967295,z=w+(R<<9&4294967295|R>>>23),R=M+(w^C&(z^w))+V[15]+3634488961&4294967295,M=z+(R<<14&4294967295|R>>>18),R=C+(z^w&(M^z))+V[4]+3889429448&4294967295,C=M+(R<<20&4294967295|R>>>12),R=w+(M^z&(C^M))+V[9]+568446438&4294967295,w=C+(R<<5&4294967295|R>>>27),R=z+(C^M&(w^C))+V[14]+3275163606&4294967295,z=w+(R<<9&4294967295|R>>>23),R=M+(w^C&(z^w))+V[3]+4107603335&4294967295,M=z+(R<<14&4294967295|R>>>18),R=C+(z^w&(M^z))+V[8]+1163531501&4294967295,C=M+(R<<20&4294967295|R>>>12),R=w+(M^z&(C^M))+V[13]+2850285829&4294967295,w=C+(R<<5&4294967295|R>>>27),R=z+(C^M&(w^C))+V[2]+4243563512&4294967295,z=w+(R<<9&4294967295|R>>>23),R=M+(w^C&(z^w))+V[7]+1735328473&4294967295,M=z+(R<<14&4294967295|R>>>18),R=C+(z^w&(M^z))+V[12]+2368359562&4294967295,C=M+(R<<20&4294967295|R>>>12),R=w+(C^M^z)+V[5]+4294588738&4294967295,w=C+(R<<4&4294967295|R>>>28),R=z+(w^C^M)+V[8]+2272392833&4294967295,z=w+(R<<11&4294967295|R>>>21),R=M+(z^w^C)+V[11]+1839030562&4294967295,M=z+(R<<16&4294967295|R>>>16),R=C+(M^z^w)+V[14]+4259657740&4294967295,C=M+(R<<23&4294967295|R>>>9),R=w+(C^M^z)+V[1]+2763975236&4294967295,w=C+(R<<4&4294967295|R>>>28),R=z+(w^C^M)+V[4]+1272893353&4294967295,z=w+(R<<11&4294967295|R>>>21),R=M+(z^w^C)+V[7]+4139469664&4294967295,M=z+(R<<16&4294967295|R>>>16),R=C+(M^z^w)+V[10]+3200236656&4294967295,C=M+(R<<23&4294967295|R>>>9),R=w+(C^M^z)+V[13]+681279174&4294967295,w=C+(R<<4&4294967295|R>>>28),R=z+(w^C^M)+V[0]+3936430074&4294967295,z=w+(R<<11&4294967295|R>>>21),R=M+(z^w^C)+V[3]+3572445317&4294967295,M=z+(R<<16&4294967295|R>>>16),R=C+(M^z^w)+V[6]+76029189&4294967295,C=M+(R<<23&4294967295|R>>>9),R=w+(C^M^z)+V[9]+3654602809&4294967295,w=C+(R<<4&4294967295|R>>>28),R=z+(w^C^M)+V[12]+3873151461&4294967295,z=w+(R<<11&4294967295|R>>>21),R=M+(z^w^C)+V[15]+530742520&4294967295,M=z+(R<<16&4294967295|R>>>16),R=C+(M^z^w)+V[2]+3299628645&4294967295,C=M+(R<<23&4294967295|R>>>9),R=w+(M^(C|~z))+V[0]+4096336452&4294967295,w=C+(R<<6&4294967295|R>>>26),R=z+(C^(w|~M))+V[7]+1126891415&4294967295,z=w+(R<<10&4294967295|R>>>22),R=M+(w^(z|~C))+V[14]+2878612391&4294967295,M=z+(R<<15&4294967295|R>>>17),R=C+(z^(M|~w))+V[5]+4237533241&4294967295,C=M+(R<<21&4294967295|R>>>11),R=w+(M^(C|~z))+V[12]+1700485571&4294967295,w=C+(R<<6&4294967295|R>>>26),R=z+(C^(w|~M))+V[3]+2399980690&4294967295,z=w+(R<<10&4294967295|R>>>22),R=M+(w^(z|~C))+V[10]+4293915773&4294967295,M=z+(R<<15&4294967295|R>>>17),R=C+(z^(M|~w))+V[1]+2240044497&4294967295,C=M+(R<<21&4294967295|R>>>11),R=w+(M^(C|~z))+V[8]+1873313359&4294967295,w=C+(R<<6&4294967295|R>>>26),R=z+(C^(w|~M))+V[15]+4264355552&4294967295,z=w+(R<<10&4294967295|R>>>22),R=M+(w^(z|~C))+V[6]+2734768916&4294967295,M=z+(R<<15&4294967295|R>>>17),R=C+(z^(M|~w))+V[13]+1309151649&4294967295,C=M+(R<<21&4294967295|R>>>11),R=w+(M^(C|~z))+V[4]+4149444226&4294967295,w=C+(R<<6&4294967295|R>>>26),R=z+(C^(w|~M))+V[11]+3174756917&4294967295,z=w+(R<<10&4294967295|R>>>22),R=M+(w^(z|~C))+V[2]+718787259&4294967295,M=z+(R<<15&4294967295|R>>>17),R=C+(z^(M|~w))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+w&4294967295,D.g[1]=D.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+z&4294967295}r.prototype.v=function(D,w){w===void 0&&(w=D.length);const C=w-this.blockSize,V=this.C;let M=this.h,z=0;for(;z<w;){if(M==0)for(;z<=C;)l(this,D,z),z+=this.blockSize;if(typeof D=="string"){for(;z<w;)if(V[M++]=D.charCodeAt(z++),M==this.blockSize){l(this,V),M=0;break}}else for(;z<w;)if(V[M++]=D[z++],M==this.blockSize){l(this,V),M=0;break}}this.h=M,this.o+=w},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var w=1;w<D.length-8;++w)D[w]=0;w=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=w&255,w/=256;for(this.v(D),D=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)D[w++]=this.g[C]>>>V&255;return D};function c(D,w){var C=p;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=w(D)}function d(D,w){this.h=w;const C=[];let V=!0;for(let M=D.length-1;M>=0;M--){const z=D[M]|0;V&&z==w||(C[M]=z,V=!1)}this.g=C}var p={};function y(D){return-128<=D&&D<128?c(D,function(w){return new d([w|0],w<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return J(_(-D));const w=[];let C=1;for(let V=0;D>=C;V++)w[V]=D/C|0,C*=4294967296;return new d(w,0)}function A(D,w){if(D.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(D.charAt(0)=="-")return J(A(D.substring(1),w));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=b;for(let z=0;z<D.length;z+=8){var M=Math.min(8,D.length-z);const R=parseInt(D.substring(z,z+M),w);M<8?(M=_(Math.pow(w,M)),V=V.j(M).add(_(R))):(V=V.j(C),V=V.add(_(R)))}return V}var b=y(0),N=y(1),B=y(16777216);s=d.prototype,s.m=function(){if(Z(this))return-J(this).m();let D=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);D+=(V>=0?V:4294967296+V)*w,w*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(H(this))return"0";if(Z(this))return"-"+J(this).toString(D);const w=_(Math.pow(D,6));var C=this;let V="";for(;;){const M=Tt(C,w).g;C=it(C,M.j(w));let z=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=M,H(C))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function H(D){if(D.h!=0)return!1;for(let w=0;w<D.g.length;w++)if(D.g[w]!=0)return!1;return!0}function Z(D){return D.h==-1}s.l=function(D){return D=it(this,D),Z(D)?-1:H(D)?0:1};function J(D){const w=D.g.length,C=[];for(let V=0;V<w;V++)C[V]=~D.g[V];return new d(C,~D.h).add(N)}s.abs=function(){return Z(this)?J(this):this},s.add=function(D){const w=Math.max(this.g.length,D.g.length),C=[];let V=0;for(let M=0;M<=w;M++){let z=V+(this.i(M)&65535)+(D.i(M)&65535),R=(z>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);V=R>>>16,z&=65535,R&=65535,C[M]=R<<16|z}return new d(C,C[C.length-1]&-2147483648?-1:0)};function it(D,w){return D.add(J(w))}s.j=function(D){if(H(this)||H(D))return b;if(Z(this))return Z(D)?J(this).j(J(D)):J(J(this).j(D));if(Z(D))return J(this.j(J(D)));if(this.l(B)<0&&D.l(B)<0)return _(this.m()*D.m());const w=this.g.length+D.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<D.g.length;M++){const z=this.i(V)>>>16,R=this.i(V)&65535,ne=D.i(M)>>>16,pe=D.i(M)&65535;C[2*V+2*M]+=R*pe,st(C,2*V+2*M),C[2*V+2*M+1]+=z*pe,st(C,2*V+2*M+1),C[2*V+2*M+1]+=R*ne,st(C,2*V+2*M+1),C[2*V+2*M+2]+=z*ne,st(C,2*V+2*M+2)}for(D=0;D<w;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=w;D<2*w;D++)C[D]=0;return new d(C,0)};function st(D,w){for(;(D[w]&65535)!=D[w];)D[w+1]+=D[w]>>>16,D[w]&=65535,w++}function ot(D,w){this.g=D,this.h=w}function Tt(D,w){if(H(w))throw Error("division by zero");if(H(D))return new ot(b,b);if(Z(D))return w=Tt(J(D),w),new ot(J(w.g),J(w.h));if(Z(w))return w=Tt(D,J(w)),new ot(J(w.g),w.h);if(D.g.length>30){if(Z(D)||Z(w))throw Error("slowDivide_ only works with positive integers.");for(var C=N,V=w;V.l(D)<=0;)C=xt(C),V=xt(V);var M=Lt(C,1),z=Lt(V,1);for(V=Lt(V,2),C=Lt(C,2);!H(V);){var R=z.add(V);R.l(D)<=0&&(M=M.add(C),z=R),V=Lt(V,1),C=Lt(C,1)}return w=it(D,M.j(w)),new ot(M,w)}for(M=b;D.l(w)>=0;){for(C=Math.max(1,Math.floor(D.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=_(C),R=z.j(w);Z(R)||R.l(D)>0;)C-=V,z=_(C),R=z.j(w);H(z)&&(z=N),M=M.add(z),D=it(D,R)}return new ot(M,D)}s.B=function(D){return Tt(this,D).h},s.and=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&D.i(V);return new d(C,this.h&D.h)},s.or=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|D.i(V);return new d(C,this.h|D.h)},s.xor=function(D){const w=Math.max(this.g.length,D.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^D.i(V);return new d(C,this.h^D.h)};function xt(D){const w=D.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=D.i(V)<<1|D.i(V-1)>>>31;return new d(C,D.h)}function Lt(D,w){const C=w>>5;w%=32;const V=D.g.length-C,M=[];for(let z=0;z<V;z++)M[z]=w>0?D.i(z+C)>>>w|D.i(z+C+1)<<32-w:D.i(z+C);return new d(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,U0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,$r=d}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var j0,yl,B0,Mc,em,H0,q0,F0;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in v))break t;v=v[L]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,L,q){for(var nt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)nt[wt-2]=arguments[wt];return m.prototype[L].apply(S,nt)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function B(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function H(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=L[nt]}else u.push(L)}}class Z{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function it(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const S=ot.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ot=new Z(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let xt,Lt=!1,D=new st,w=()=>{const u=Promise.resolve(void 0);xt=()=>{u.then(C)}};function C(){for(var u;u=it();){try{u.h.call(u.g)}catch(v){J(v)}var m=ot;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ne,M),ne.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var pe="closure_listenable_"+(Math.random()*1e6|0),Q=0;function rt(u,m,v,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++Q,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function lt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)u[v]=S[v];for(let q=0;q<G.length;q++)v=G[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function et(u){this.src=u,this.g={},this.h=0}et.prototype.add=function(u,m,v,S,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=gt(u,m,S,L);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new rt(m,this.src,q,!!S,L),m.fa=v,u.push(m)),m};function ct(u,m){const v=m.type;if(v in u.g){var S=u.g[v],L=Array.prototype.indexOf.call(S,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(S,L,1),q&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function gt(u,m,v,S){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return L}return-1}var bt="closure_lm_"+(Math.random()*1e6|0),ae={};function qt(u,m,v,S,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)qt(u,m[q],v,S,L);return null}return v=us(v),u&&u[pe]?u.J(m,v,p(S)?!!S.capture:!1,L):ei(u,m,v,!1,S,L)}function ei(u,m,v,S,L,q){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let wt=lr(u);if(wt||(u[bt]=wt=new et(u)),v=wt.add(m,v,S,nt,q),v.proxy)return v;if(S=or(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)z||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(jn(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function or(){function u(v){return m.call(u.src,u.listener,v)}const m=ls;return u}function rn(u,m,v,S,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)rn(u,m[q],v,S,L);else S=p(S)?!!S.capture:!!S,v=us(v),u&&u[pe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=gt(m,v,S,L),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=gt(m,v,S,L)),(v=u>-1?m[u]:null)&&ni(v))}function ni(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[pe])ct(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(jn(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=lr(m))?(ct(v,u),v.h==0&&(v.src=null,m[bt]=null)):dt(u)}}}function jn(u){return u in ae?ae[u]:ae[u]="on"+u}function ls(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&ni(u),u=v.call(S,m)}return u}function lr(u){return u=u[bt],u instanceof et?u:null}var Zs="__closure_events_fn_"+(Math.random()*1e9>>>0);function us(u){return typeof u=="function"?u:(u[Zs]||(u[Zs]=function(m){return u.handleEvent(m)}),u[Zs])}function ue(){V.call(this),this.i=new et(this),this.M=this,this.G=null}b(ue,V),ue.prototype[pe]=!0,ue.prototype.removeEventListener=function(u,m,v,S){rn(this,u,m,v,S)};function fe(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var L=m;m=new M(S,u),W(m,L)}L=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],L=sn(q,S,!0,m)&&L;if(q=m.g=u,L=sn(q,S,!0,m)&&L,L=sn(q,S,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],L=sn(q,S,!1,m)&&L}ue.prototype.N=function(){if(ue.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)dt(v[S]);delete u.g[m],u.h--}}this.G=null},ue.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},ue.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function sn(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const wt=nt.listener,ye=nt.ha||nt.src;nt.fa&&ct(u.i,nt),L=wt.call(ye,S)!==!1&&L}}return L&&!S.defaultPrevented}function co(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Jl(u){u.g=co(()=>{u.g=null,u.i&&(u.i=!1,Jl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(u){V.call(this),this.h=u,this.g={}}b(cs,V);var ho=[];function fo(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ni(m)},u),u.g={}}cs.prototype.N=function(){cs.Z.N.call(this),fo(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=d.JSON.stringify,Mh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ue(){M.call(this,"d")}b(Ue,M);function wn(){M.call(this,"c")}b(wn,M);var ge={},eu=null;function Ws(){return eu=eu||new ue}ge.Ia="serverreachability";function nu(u){M.call(this,ge.Ia,u)}b(nu,M);function ii(u){const m=Ws();fe(m,new nu(m))}ge.STAT_EVENT="statevent";function hs(u,m){M.call(this,ge.STAT_EVENT,u),this.stat=m}b(hs,M);function Te(u){const m=Ws();fe(m,new hs(m,u))}ge.Ja="timingevent";function ri(u,m){M.call(this,ge.Ja,u),this.size=m}b(ri,M);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,S,L,q){u.info(function(){if(u.g)if(q){var nt="",wt=q.split("&");for(let Ft=0;Ft<wt.length;Ft++){var ye=wt[Ft].split("=");if(ye.length>1){const oe=ye[0];ye=ye[1];const xn=oe.split("_");nt=xn.length>=2&&xn[1]=="type"?nt+(oe+"="+ye+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function iu(u,m,v,S,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+nt})}function ai(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(S?" "+S:"")})}function fs(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<S.length;nt++)S[nt]=""}}}}return ur(q)}catch{return m}}var ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},po;function ms(){}b(ms,Wl),ms.prototype.g=function(){return new XMLHttpRequest},po=new ms;function Vi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function qn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new cs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Se={},ke={};function oi(u,m,v){u.M=1,u.A=ps(be(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),li(u),u.B=be(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),ra(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Fn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(ho[0]=L.toString()),L=ho);for(let q=0;q<L.length;q++){const nt=qt(v,L[q],S||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}qn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Yn(this.g),ye=this.g.ya(),Ft=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||wt!=4||ye==7||(ye==8||Ft<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(S)){var q=S;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,Te(12),pn(this),Rn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=au(this,v),oe==ke){wt==4&&(this.m=4,Te(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Se){this.m=4,Te(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,oe,null),ci(this,oe);if(su(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Do(nt),nt.P=!0,Te(11))}}else ai(this.i,this.l,v,null),ci(this,v);wt==4&&pn(this),this.o&&!this.K&&(wt==4?pu(this.j,this):(this.o=!1,li(this)))}else zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),pn(this),Rn(this)}}}catch{}finally{}};function kh(u){if(!su(u))return u.g.la();const m=je(u.g);if(m==="")return"";let v="";const S=m.length,L=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function su(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?ke:(v=Number(m.substring(v,S)),isNaN(v)?Se:(S+=1,S+v>m.length?ke:(m=m.slice(S,S+v),u.C=S+v,m)))}qn.prototype.cancel=function(){this.K=!0,pn(this)};function li(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}qn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(fs(this.i,this.B),this.M!=2&&(ii(),Te(17)),pn(this),this.m=2,Rn(this)):ea(this,this.T-u)};function Rn(u){u.j.I==0||u.K||pu(u.j,u)}function pn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),yr(v);else break t;Ss(v),Te(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(_(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ua(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ft=L[m];const oe=Ft[0];if(!(oe<=v.K))if(v.K=oe,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const xn=Ft[3];xn!=null&&(v.ka=xn,v.j.info("VER="+v.ka));const vi=Ft[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Kn=Ft[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(S=1.5*Kn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Xn=u.g;if(Xn){const As=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(As){var q=S.h;q.g||As.indexOf("spdy")==-1&&As.indexOf("quic")==-1&&As.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(_o(q,q.h),q.h=null))}if(S.G){const ca=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(S.wa=ca,Yt(S.J,S.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var nt=u;if(S.na=_u(S,S.L?S.ba:null,S.W),nt.L){vo(S.h,nt);var wt=nt,ye=S.O;ye&&(wt.H=ye),wt.D&&(ui(wt),li(wt)),S.g=nt}else du(S);v.i.length>0&&yi(v)}else Ft[0]!="stop"&&Ft[0]!="close"||_i(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?_i(v,7):Co(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ii(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function go(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}go.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return B(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let L,q=null;S>=0?(L=u[v].substring(0,S),q=u[v].substring(S+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,cr(this,u.u),this.h=u.h,To(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,ze(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),cr(this,m[4]),this.h=di(m[5]||"",!0),To(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gs(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gs(m,ia,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gs(v,v.charAt(0)=="/"?So:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gs(v,uu)),u.join("")},gn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)cr(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let nt=0;nt<L.length;){const wt=L[nt++];wt=="."?S&&nt==L.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&nt==L.length&&q.push("")):(q.push(wt),S=!0)}S=q.join("/")}else S=L}return v?m.h=S:v=u.i.toString()!=="",v?To(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new gn(u)}function ze(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cr(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,v){m instanceof fr?(u.i=m,sa(u.i,u.l)):(v||(m=gs(m,hr)),u.i=new fr(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function ps(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,an),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,lu=/[#\?:]/g,So=/[#\?]/g,hr=/[#\?@]/g,uu=/#/g;function fr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=fr.prototype,s.add=function(u,m){on(this),this.i=null,u=dr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){on(u),m=dr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ao(u,m){return on(u),m=dr(u,m),u.g.has(m)}s.forEach=function(u,m){on(this),this.g.forEach(function(v,S){v.forEach(function(L){u.call(m,L,S,this)},this)},this)};function bo(u,m){on(u);let v=[];if(typeof m=="string")Ao(u,m)&&(v=v.concat(u.g.get(dr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return on(this),this.i=null,u=dr(this,u),Ao(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=bo(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(dr(u,m),B(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=Vi(v);v=bo(this,v);for(let q=0;q<v.length;q++){let nt=L;v[q]!==""&&(nt+="="+Vi(v[q])),u.push(nt)}}return this.i=u.join("&")};function hu(u){const m=new fr;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function dr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(cu(this,S),ra(this,L,v))},u)),u.j=m}function Gn(u,m){const v=new Hn;if(d.Image){const S=new Image;S.onload=A(In,v,"TestLoadImage: loaded",!0,m,S),S.onerror=A(In,v,"TestLoadImage: error",!1,m,S),S.onabort=A(In,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(In,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function wo(u,m){const v=new Hn,S=new AbortController,L=setTimeout(()=>{S.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(L),q.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(u,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function mr(){this.g=new Zl}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(mi,Wl),mi.prototype.g=function(){return new ys(this.i,this.h)};function ys(u,m){ue.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ys,ue),s=ys.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,pr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?pr(this):Qn(this),this.readyState==3&&aa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,pr(this))},s.Na=function(u){this.g&&(this.response=u,pr(this))},s.ga=function(){this.g&&pr(this)};function pr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ys.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Pt(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function _s(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Cn(v),typeof u=="string"?v!=null&&Vi(v):Yt(u,m,v))}function $t(u){ue.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,ue);var pi=/^https?$/i,Ro=["POST","PUT"];s=$t.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():po.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){vs(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){vs(this,q)}};function vs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),ki(u)}function Io(u){u.A||(u.A=!0,fe(u,"complete"),fe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,fe(this,"complete"),fe(this,"abort"),ki(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Es(this):this.Xa())},s.Xa=function(){Es(this)};function Es(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(fe(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let nt=String(u.D).match(ou)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),S=!pi.test(nt?nt.toLowerCase():"")}v=S}if(v)fe(u,"complete"),fe(u,"success");else{u.o=6;try{var L=Yn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Io(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||fe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(R(u[S]))continue;var v=ru(u[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}lt(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gr(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new go(u&&u.concurrentRequestLimit),this.Ba=new mr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=gr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){Te(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=_u(this,null,this.W),yi(this)};function Co(u){if(oa(u),u.I==3){var m=u.V++,v=be(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),Ts(u,v),m=new qn(u,u.j,m),m.M=2,m.A=ps(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}yu(u)}function yr(u){u.g&&(Do(u),u.g.cancel(),u.g=null)}function oa(u){yr(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;xt||w(),Lt||(xt(),Lt=!0),D.add(m,u),u.D=0}}function la(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new qn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=x(q),W(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),v=be(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),Ts(this,v),q&&(this.R?m="headers="+Vi(Cn(q))+"&"+m:this.u&&_s(v,this.u,q)),_o(this.h,L),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),L.U=!0,oi(L,v,null)):oi(L,v,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||yo(this.h)||xo(this))};function xo(u,m){var v;m?v=m.l:v=u.V++;const S=be(u.J);Yt(S,"SID",u.M),Yt(S,"RID",v),Yt(S,"AID",u.K),Ts(u,S),u.u&&u.o&&_s(S,u.u,u.o),v=new qn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,v),oi(v,S,m)}function Ts(u,m){u.H&&Pt(u.H,function(v,S){Yt(m,S,v)}),u.l&&Pt({},function(v,S){Yt(m,S,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let wt=-1;for(;;){const ye=["count="+v];wt==-1?v>0?(wt=L[0].g,ye.push("ofs="+wt)):wt=0:ye.push("ofs="+wt);let Ft=!0;for(let oe=0;oe<v;oe++){var q=L[oe].g;const xn=L[oe].map;if(q-=wt,q<0)wt=Math.max(0,L[oe].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var nt=xn instanceof Map?xn:Object.entries(xn);for(const[vi,Kn]of nt){let Xn=Kn;p(Kn)&&(Xn=ur(Kn)),ye.push(q+vi+"="+encodeURIComponent(Xn))}}catch(vi){throw ye.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{S&&S(xn)}}if(Ft){nt=ye.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;xt||w(),Lt||(xt(),Lt=!0),D.add(m,u),u.A=0}}function Ss(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),gu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),yr(this),mu(this))};function Do(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new qn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),Ts(u,m),u.u&&u.o&&_s(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=ps(be(m)),v.u=null,v.R=!0,ta(v,u)}s.Va=function(){this.C!=null&&(this.C=null,yr(this),Ss(this),Te(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){ua(u),Do(u),u.g=null;var S=2}else if(fi(u.h,m))v=m.G,vo(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=Ws(),fe(S,new ri(S,v)),yi(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&la(u,m)||S==2&&Ss(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const L=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(S,"https"),ps(S),L?Gn(S.toString(),v):wo(S.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),yu(u),oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(H(u.ja,m),H(u.ja,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var S=v instanceof gn?be(v):new gn(v);if(S.g!="")m&&(S.g=m+"."+S.g),cr(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new gn(null);S&&ze(q,S),m&&(q.g=m),L&&cr(q,L),v&&(q.h=v),S=q}return v=u.G,m=u.wa,v&&m&&Yt(S,v,m),Yt(S,"VER",u.ka),Ts(u,S),S}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new mi({ab:v})):new $t(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function _r(){}_r.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ue.call(this),this.g=new gr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}b(en,ue),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Co(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ur(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&yi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,en.Z.N.call(this)};function Tu(u){Ue.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Tu,Ue);function Su(){wn.call(this),this.status=1}b(Su,wn);function Li(u){this.g=u}b(Li,Eu),Li.prototype.ra=function(){fe(this.g,"a")},Li.prototype.qa=function(u){fe(this.g,new Tu(u))},Li.prototype.pa=function(u){fe(this.g,new Su)},Li.prototype.oa=function(){fe(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,F0=function(){return new _r},q0=function(){return Ws()},H0=ge,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ds.NO_ERROR=0,ds.TIMEOUT=8,ds.HTTP_ERROR=6,Mc=ds,mo.COMPLETE="complete",B0=mo,tu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ue.prototype.listen=ue.prototype.J,yl=tu,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,j0=$t}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const ov="@firebase/firestore",lv="4.9.2";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let so="12.3.0";const Fs=new Rm("@firebase/firestore");function ja(){return Fs.logLevel}function at(s,...t){if(Fs.logLevel<=Vt.DEBUG){const i=t.map(xm);Fs.debug(`Firestore (${so}): ${s}`,...i)}}function ir(s,...t){if(Fs.logLevel<=Vt.ERROR){const i=t.map(xm);Fs.error(`Firestore (${so}): ${s}`,...i)}}function Ja(s,...t){if(Fs.logLevel<=Vt.WARN){const i=t.map(xm);Fs.warn(`Firestore (${so}): ${s}`,...i)}}function xm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function vt(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,G0(s,r,i)}function G0(s,t,i){let r=`FIRESTORE (${so}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ir(r),new Error(r)}function Qt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||G0(t,l,r)}function At(s,t){return s}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ar{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Q0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class T2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class S2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class A2{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Jr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qt(typeof r.accessToken=="string",31837,{l:r}),new Q0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class b2{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class w2{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new b2(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R2{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new uv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function I2(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Dm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=I2(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function kt(s,t){return s<t?-1:s>t?1:0}function nm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Hd(l)===Hd(c)?kt(l,c):Hd(l)?1:-1}return kt(s.length,t.length)}const C2=55296,x2=57343;function Hd(s){const t=s.charCodeAt(0);return t>=C2&&t<=x2}function Za(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const cv="__name__";class bi{constructor(t,i,r){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&vt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=bi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const r=bi.isNumericId(t),l=bi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?bi.extractNumericId(t).compare(bi.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return $r.fromString(t.substring(4,t.length-2))}}class ce extends bi{construct(t,i,r){return new ce(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ft(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends bi{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return D2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cv}static keyField(){return new Qe([cv])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ft(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ft(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ft(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ce.fromString(t))}static fromName(t){return new pt(ce.fromString(t).popFirst(5))}static empty(){return new pt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ce(t.slice()))}}function N2(s,t,i){if(!i)throw new ft(tt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function M2(s,t,i,r){if(t===!0&&r===!0)throw new ft(tt.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function hv(s){if(!pt.isDocumentKey(s))throw new ft(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Y0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Nm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function Gs(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ft(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nm(s);throw new ft(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function De(s,t){const i={typeString:s};return t&&(i.value=t),i}function Hl(s,t){if(!Y0(s))throw new ft(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ft(tt.INVALID_ARGUMENT,i);return!0}const fv=-62135596800,dv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*dv);return new se(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<fv)throw new ft(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dv}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-fv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:De("string",se._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new se(0,0))}static max(){return new Et(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function O2(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(r===1e9?new se(i+1,0):new se(i,r));return new Zr(l,pt.empty(),t)}function V2(s){return new Zr(s.readTime,s.key,Dl)}class Zr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Zr(Et.min(),pt.empty(),Dl)}static max(){return new Zr(Et.max(),pt.empty(),Dl)}}function k2(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(s.documentKey,t.documentKey),i!==0?i:kt(s.largestBatchId,t.largestBatchId))}const z2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(s){if(s.code!==tt.FAILED_PRECONDITION||s.message!==z2)throw s;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,r)=>{i(t)}))}static reject(t){return new $(((i,r)=>{r(t)}))}static waitFor(t){return new $(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const r of t)i=i.next((l=>l?$.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new $(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function P2(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(s){return s.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const Mm=-1;function hh(s){return s==null}function Fc(s){return s===0&&1/s==-1/0}function U2(s){return typeof s=="number"&&Number.isInteger(s)&&!Fc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const K0="";function j2(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=mv(t)),t=B2(s.get(i),t);return mv(t)}function B2(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case K0:i+="";break;default:i+=c}}return i}function mv(s){return s+K0+""}function pv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function rs(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function X0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class he{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new he(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new gv(this.data.getIterator())}getIteratorFrom(t){return new gv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class gv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class $0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $0("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const H2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(s){if(Qt(!!s,39018),typeof s=="string"){let t=0;const i=H2.exec(s);if(Qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ee(s.seconds),nanos:Ee(s.nanos)}}function Ee(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ts(s){return typeof s=="string"?Ye.fromBase64String(s):Ye.fromUint8Array(s)}const J0="server_timestamp",Z0="__type__",W0="__previous_value__",t1="__local_write_time__";function Om(s){return(s?.mapValue?.fields||{})[Z0]?.stringValue===J0}function fh(s){const t=s.mapValue.fields[W0];return Om(t)?fh(t):t}function Nl(s){const t=Wr(s.mapValue.fields[t1].timestampValue);return new se(t.seconds,t.nanos)}class q2{constructor(t,i,r,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Gc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||Gc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===Gc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const e1="__type__",F2="__max__",Cc={mapValue:{}},n1="__vector__",Qc="value";function es(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Om(s)?4:Q2(s)?9007199254740991:G2(s)?10:11:vt(28295,{value:s})}function Mi(s,t){if(s===t)return!0;const i=es(s);if(i!==es(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Nl(s).isEqual(Nl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Wr(l.timestampValue),p=Wr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return ts(l.bytesValue).isEqual(ts(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ee(l.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(l.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ee(l.integerValue)===Ee(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ee(l.doubleValue),p=Ee(c.doubleValue);return d===p?Fc(d)===Fc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(pv(d)!==pv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Mi(d[y],p[y])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Ol(s,t){return(s.values||[]).find((i=>Mi(i,t)))!==void 0}function Wa(s,t){if(s===t)return 0;const i=es(s),r=es(t);if(i!==r)return kt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ee(c.integerValue||c.doubleValue),y=Ee(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return yv(s.timestampValue,t.timestampValue);case 4:return yv(Nl(s),Nl(t));case 5:return nm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=ts(c),y=ts(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=kt(p[_],y[_]);if(A!==0)return A}return kt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(Ee(c.latitude),Ee(d.latitude));return p!==0?p:kt(Ee(c.longitude),Ee(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return _v(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Qc]?.arrayValue,A=y[Qc]?.arrayValue,b=kt(_?.values?.length||0,A?.values?.length||0);return b!==0?b:_v(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Cc.mapValue&&d===Cc.mapValue)return 0;if(c===Cc.mapValue)return 1;if(d===Cc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let b=0;b<y.length&&b<A.length;++b){const N=nm(y[b],A[b]);if(N!==0)return N;const B=Wa(p[y[b]],_[A[b]]);if(B!==0)return B}return kt(y.length,A.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function yv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return kt(s,t);const i=Wr(s),r=Wr(t),l=kt(i.seconds,r.seconds);return l!==0?l:kt(i.nanos,r.nanos)}function _v(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Wa(i[l],r[l]);if(c)return c}return kt(i.length,r.length)}function to(s){return im(s)}function im(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Wr(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return ts(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return pt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=im(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(s.mapValue):vt(61005,{value:s})}function Oc(s){switch(es(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(s);return t?16+Oc(t):16;case 5:return 2*s.stringValue.length;case 6:return ts(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Oc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return rs(r.fields,((c,d)=>{l+=c.length+Oc(d)})),l})(s.mapValue);default:throw vt(13486,{value:s})}}function rm(s){return!!s&&"integerValue"in s}function Vm(s){return!!s&&"arrayValue"in s}function vv(s){return!!s&&"nullValue"in s}function Ev(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Vc(s){return!!s&&"mapValue"in s}function G2(s){return(s?.mapValue?.fields||{})[e1]?.stringValue===n1}function Sl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return rs(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Sl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Sl(s.arrayValue.values[i]);return t}return{...s}}function Q2(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===F2}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Vc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sl(i)}setAll(t){let i=Qe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Sl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){rs(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new mn(Sl(this.value))}}function i1(s){const t=[];return rs(s.fields,((i,r)=>{const l=new Qe([i]);if(Vc(r)){const c=i1(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new bn(t)}class Je{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,Et.min(),Et.min(),Et.min(),mn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,Et.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,Et.min(),Et.min(),mn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Et.min(),Et.min(),mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function Tv(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=pt.comparator(pt.fromName(d.referenceValue),i.key):r=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Sv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Mi(s.position[i],t.position[i]))return!1;return!0}class Kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Y2(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class r1{}class Me extends r1{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new X2(t,i,r):i==="array-contains"?new Z2(t,r):i==="in"?new W2(t,r):i==="not-in"?new tw(t,r):i==="array-contains-any"?new ew(t,r):new Me(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new $2(t,r):new J2(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&es(this.value)===es(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends r1{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Oi(t,i)}matches(t){return s1(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function s1(s){return s.op==="and"}function a1(s){return K2(s)&&s1(s)}function K2(s){for(const t of s.filters)if(t instanceof Oi)return!1;return!0}function sm(s){if(s instanceof Me)return s.field.canonicalString()+s.op.toString()+to(s.value);if(a1(s))return s.filters.map((t=>sm(t))).join(",");{const t=s.filters.map((i=>sm(i))).join(",");return`${s.op}(${t})`}}function o1(s,t){return s instanceof Me?(function(r,l){return l instanceof Me&&r.op===l.op&&r.field.isEqual(l.field)&&Mi(r.value,l.value)})(s,t):s instanceof Oi?(function(r,l){return l instanceof Oi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&o1(d,l.filters[p])),!0):!1})(s,t):void vt(19439)}function l1(s){return s instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(s):s instanceof Oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(l1).join(" ,")+"}"})(s):"Filter"}class X2 extends Me{constructor(t,i,r){super(t,i,r),this.key=pt.fromName(r.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class $2 extends Me{constructor(t,i){super(t,"in",i),this.keys=u1("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class J2 extends Me{constructor(t,i){super(t,"not-in",i),this.keys=u1("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function u1(s,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class Z2 extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&Ol(i.arrayValue,this.value)}}class W2 extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ol(this.value.arrayValue,i)}}class tw extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ol(this.value.arrayValue,i)}}class ew extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ol(this.value.arrayValue,r)))}}class nw{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Av(s,t=null,i=[],r=[],l=null,c=null,d=null){return new nw(s,t,i,r,l,c,d)}function km(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>sm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>to(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>to(r))).join(",")),t.Te=i}return t.Te}function zm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Y2(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!o1(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Sv(s.startAt,t.startAt)&&Sv(s.endAt,t.endAt)}function am(s){return pt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class dh{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iw(s,t,i,r,l,c,d,p){return new dh(s,t,i,r,l,c,d,p)}function Lm(s){return new dh(s)}function bv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function rw(s){return s.collectionGroup!==null}function Al(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Kc(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Kc(Qe.keyField(),r))}return t.Ie}function wi(s){const t=At(s);return t.Ee||(t.Ee=sw(t,Al(s))),t.Ee}function sw(s,t){if(s.limitType==="F")return Av(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Kc(l.field,c)}));const i=s.endAt?new Yc(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Yc(s.startAt.position,s.startAt.inclusive):null;return Av(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function om(s,t,i){return new dh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function mh(s,t){return zm(wi(s),wi(t))&&s.limitType===t.limitType}function c1(s){return`${km(wi(s))}|lt:${s.limitType}`}function Ba(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>l1(l))).join(", ")}]`),hh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${r})`})(wi(s))}; limitType=${s.limitType})`}function ph(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):pt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Al(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=Tv(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,Al(r),l)||r.endAt&&!(function(d,p,y){const _=Tv(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,Al(r),l))})(s,t)}function aw(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function h1(s){return(t,i)=>{let r=!1;for(const l of Al(s)){const c=ow(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function ow(s,t,i){const r=s.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Wa(y,_):vt(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}class Xs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){rs(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return X0(this.inner)}size(){return this.innerSize}}const lw=new he(pt.comparator);function rr(){return lw}const f1=new he(pt.comparator);function _l(...s){let t=f1;for(const i of s)t=t.insert(i.key,i);return t}function d1(s){let t=f1;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function js(){return bl()}function m1(){return bl()}function bl(){return new Xs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const uw=new he(pt.comparator),cw=new Ve(pt.comparator);function zt(...s){let t=cw;for(const i of s)t=t.add(i);return t}const hw=new Ve(kt);function fw(){return hw}function Pm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(t)?"-0":t}}function p1(s){return{integerValue:""+s}}function dw(s,t){return U2(t)?p1(t):Pm(s,t)}class gh{constructor(){this._=void 0}}function mw(s,t,i){return s instanceof Xc?(function(l,c){const d={fields:{[Z0]:{stringValue:J0},[t1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=fh(c)),c&&(d.fields[W0]=c),{mapValue:d}})(i,t):s instanceof Vl?y1(s,t):s instanceof kl?_1(s,t):(function(l,c){const d=g1(l,c),p=wv(d)+wv(l.Ae);return rm(d)&&rm(l.Ae)?p1(p):Pm(l.serializer,p)})(s,t)}function pw(s,t,i){return s instanceof Vl?y1(s,t):s instanceof kl?_1(s,t):i}function g1(s,t){return s instanceof $c?(function(r){return rm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Xc extends gh{}class Vl extends gh{constructor(t){super(),this.elements=t}}function y1(s,t){const i=v1(t);for(const r of s.elements)i.some((l=>Mi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class kl extends gh{constructor(t){super(),this.elements=t}}function _1(s,t){let i=v1(t);for(const r of s.elements)i=i.filter((l=>!Mi(l,r)));return{arrayValue:{values:i}}}class $c extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function wv(s){return Ee(s.integerValue||s.doubleValue)}function v1(s){return Vm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function gw(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof Vl&&l instanceof Vl||r instanceof kl&&l instanceof kl?Za(r.elements,l.elements,Mi):r instanceof $c&&l instanceof $c?Mi(r.Ae,l.Ae):r instanceof Xc&&l instanceof Xc})(s.transform,t.transform)}class yw{constructor(t,i){this.version=t,this.transformResults=i}}class Ri{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ri}static exists(t){return new Ri(void 0,t)}static updateTime(t){return new Ri(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class yh{}function E1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new S1(s.key,Ri.none()):new ql(s.key,s.data,Ri.none());{const i=s.data,r=mn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ss(s.key,r,new bn(l.toArray()),Ri.none())}}function _w(s,t,i){s instanceof ql?(function(l,c,d){const p=l.value.clone(),y=Iv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof ss?(function(l,c,d){if(!kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Iv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(T1(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wl(s,t,i,r){return s instanceof ql?(function(c,d,p,y){if(!kc(c.precondition,d))return p;const _=c.value.clone(),A=Cv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof ss?(function(c,d,p,y){if(!kc(c.precondition,d))return p;const _=Cv(c.fieldTransforms,y,d),A=d.data;return A.setAll(T1(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,t,i,r):(function(c,d,p){return kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function vw(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=g1(r.transform,l||null);c!=null&&(i===null&&(i=mn.empty()),i.set(r.field,c))}return i||null}function Rv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Za(r,l,((c,d)=>gw(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ql extends yh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ss extends yh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function T1(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function Iv(s,t,i){const r=new Map;Qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,pw(d,p,i[l]))}return r}function Cv(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,mw(c,d,t))}return r}class S1 extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ew extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&_w(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=wl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=wl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=m1();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=E1(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,r)=>Rv(i,r)))&&Za(this.baseMutations,t.baseMutations,((i,r)=>Rv(i,r)))}}class Um{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Qt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return uw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Um(t,i,r,l)}}class Sw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Aw{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,jt;function bw(s){switch(s){case tt.OK:return vt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function A1(s){if(s===void 0)return ir("GRPC error has no .code"),tt.UNKNOWN;switch(s){case xe.OK:return tt.OK;case xe.CANCELLED:return tt.CANCELLED;case xe.UNKNOWN:return tt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return tt.INTERNAL;case xe.UNAVAILABLE:return tt.UNAVAILABLE;case xe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xe.NOT_FOUND:return tt.NOT_FOUND;case xe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xe.ABORTED:return tt.ABORTED;case xe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xe.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:s})}}(jt=xe||(xe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function ww(){return new TextEncoder}const Rw=new $r([4294967295,4294967295],0);function xv(s){const t=ww().encode(s),i=new U0;return i.update(t),new Uint8Array(i.digest())}function Dv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new $r([i,r],0),new $r([l,c],0)]}class jm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new vl(`Invalid padding: ${i}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new vl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=$r.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply($r.fromNumber(r)));return l.compare(Rw)===1&&(l=new $r([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=xv(t),[r,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=xv(t),[r,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Fl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new _h(Et.min(),l,new he(kt),rr(),zt())}}class Fl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Fl(r,i,zt(),zt(),zt())}}class zc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class b1{constructor(t,i){this.targetId=t,this.Ce=i}}class w1{constructor(t,i,r=Ye.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class Nv{constructor(){this.ve=0,this.Fe=Mv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),r=zt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:vt(38017,{changeType:c})}})),new Fl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Mv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Iw{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.Je=xc(),this.He=xc(),this.Ye=new he(kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(r===0){const d=new pt(c.path);this.et(i,d,Je.newNoDocument(d,Et.min()))}else Qt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=ts(r).toUint8Array()}catch(y){if(y instanceof $0)return Ja("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new jm(d,l,c)}catch(y){return Ja(y instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&am(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=zt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new _h(t,i,this.Ye,this.je,r);return this.je=rr(),this.Je=xc(),this.He=xc(),this.Ye=new he(kt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Nv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Nv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new he(pt.comparator)}function Mv(){return new he(pt.comparator)}const Cw={asc:"ASCENDING",desc:"DESCENDING"},xw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dw={and:"AND",or:"OR"};class Nw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(s,t){return s.useProto3Json||hh(t)?t:{value:t}}function Jc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function R1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Mw(s,t){return Jc(s,t.toTimestamp())}function Ii(s){return Qt(!!s,49232),Et.fromTimestamp((function(i){const r=Wr(i);return new se(r.seconds,r.nanos)})(s))}function Bm(s,t){return um(s,t).canonicalString()}function um(s,t){const i=(function(l){return new ce(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function I1(s){const t=ce.fromString(s);return Qt(M1(t),10190,{key:t.toString()}),t}function cm(s,t){return Bm(s.databaseId,t.path)}function qd(s,t){const i=I1(t);if(i.get(1)!==s.databaseId.projectId)throw new ft(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ft(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new pt(x1(i))}function C1(s,t){return Bm(s.databaseId,t)}function Ow(s){const t=I1(s);return t.length===4?ce.emptyPath():x1(t)}function hm(s){return new ce(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function x1(s){return Qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Ov(s,t,i){return{name:cm(s,t),fields:i.value.mapValue.fields}}function Vw(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Qt(A===void 0||typeof A=="string",58123),Ye.fromBase64String(A||"")):(Qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ye.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?tt.UNKNOWN:A1(_.code);return new ft(A,_.message||"")})(d);i=new w1(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=qd(s,r.document.name),c=Ii(r.document.updateTime),d=r.document.createTime?Ii(r.document.createTime):Et.min(),p=new mn({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(l,c,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new zc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=qd(s,r.document),c=r.readTime?Ii(r.readTime):Et.min(),d=Je.newNoDocument(l,c),p=r.removedTargetIds||[];i=new zc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=qd(s,r.document),c=r.removedTargetIds||[];i=new zc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Aw(l,c),p=r.targetId;i=new b1(p,d)}}return i}function kw(s,t){let i;if(t instanceof ql)i={update:Ov(s,t.key,t.value)};else if(t instanceof S1)i={delete:cm(s,t.key)};else if(t instanceof ss)i={update:Ov(s,t.key,t.data),updateMask:Fw(t.fieldMask)};else{if(!(t instanceof Ew))return vt(16599,{Vt:t.type});i={verify:cm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Xc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof kl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $c)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Mw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(s,t.precondition)),i}function zw(s,t){return s&&s.length>0?(Qt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ii(l.updateTime):Ii(c);return d.isEqual(Et.min())&&(d=Ii(c)),new yw(d,l.transformResults||[])})(i,t)))):[]}function Lw(s,t){return{documents:[C1(s,t.path)]}}function Pw(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=C1(s,l);const c=(function(_){if(_.length!==0)return N1(Oi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(N){return{field:Ha(N.field),direction:Bw(N.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Uw(s){let t=Ow(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Qt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const N=D1(b);return N instanceof Oi&&a1(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((N=>(function(H){return new Kc(qa(H.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(N)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let N;return N=typeof b=="object"?b.value:b,hh(N)?null:N})(i.limit));let y=null;i.startAt&&(y=(function(b){const N=!!b.before,B=b.values||[];return new Yc(B,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(b){const N=!b.before,B=b.values||[];return new Yc(B,N)})(i.endAt)),iw(t,l,d,c,p,"F",y,_)}function jw(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function D1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=qa(i.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Me.create(qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Oi.create(i.compositeFilter.filters.map((r=>D1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function Bw(s){return Cw[s]}function Hw(s){return xw[s]}function qw(s){return Dw[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function qa(s){return Qe.fromServerFormat(s.fieldPath)}function N1(s){return s instanceof Me?(function(i){if(i.op==="=="){if(Ev(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(vv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ev(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(vv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:Hw(i.op),value:i.value}}})(s):s instanceof Oi?(function(i){const r=i.getFilters().map((l=>N1(l)));return r.length===1?r[0]:{compositeFilter:{op:qw(i.op),filters:r}}})(s):vt(54877,{filter:s})}function Fw(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function M1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Qr{constructor(t,i,r,l,c=Et.min(),d=Et.min(),p=Ye.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Gw{constructor(t){this.yt=t}}function Qw(s){const t=Uw({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?om(t,t.limit,"L"):t}class Yw{constructor(){this.Cn=new Kw}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(Zr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(Zr.min())}updateCollectionGroup(t,i,r){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Kw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ve(ce.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ve(ce.comparator)).toArray()}}const Vv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O1=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(O1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class eo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new eo(0)}static cr(){return new eo(-1)}}const kv="LruGarbageCollector",Xw=1048576;function zv([s,t],[i,r]){const l=kt(s,i);return l===0?kt(t,r):l}class $w{constructor(t){this.Ir=t,this.buffer=new Ve(zv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();zv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Jw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(kv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?at(kv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class Zw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(ch.ce);const r=new $w(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Vv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(t,r,i)))).next((b=>(c=b,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((b=>(_=Date.now(),ja()<=Vt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${b} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Ww(s,t){return new Zw(s,t)}class tR{constructor(){this.changes=new Xs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?$.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class eR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class nR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&wl(r.mutation,l,bn.empty(),se.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,zt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=zt()){const l=js();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=_l();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=js();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,zt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=rr();const d=bl(),p=(function(){return bl()})();return i.forEach(((y,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ss)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),wl(A.mutation,_,A.mutation.getFieldMask(),se.now())):d.set(_.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new eR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=bl();let l=new he(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||bn.empty();A=p.applyToLocalView(_,A),r.set(y,A);const b=(l.get(p.batchId)||zt()).add(y);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,b=m1();A.forEach((N=>{if(!c.has(N)){const B=E1(i.get(N),r.get(N));B!==null&&b.set(N,B),c=c.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,b))}return $.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):rw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):$.resolve(js());let p=Dl,y=c;return d.next((_=>$.forEach(_,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((N=>{y=y.insert(A,N)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((A=>({batchId:p,changes:d1(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((r=>{let l=_l();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=_l();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(b,N){return new dh(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=_l();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&wl(A.mutation,_,bn.empty(),se.now()),ph(i,_)&&(p=p.insert(y,_))})),p}))}}class iR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Qw(l.bundledQuery),readTime:Ii(l.readTime)}})(i)),$.resolve()}}class rR{constructor(){this.overlays=new he(pt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const r=js();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(t,i,r){const l=js(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new he(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=js(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=js(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Sw(i,r));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class sR{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Hm{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new pt(new ce([])),r=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new ce([])),r=new Pe(i,t),l=new Pe(i,t+1);let c=zt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||kt(t.Yr,i.Yr)}static Kr(t,i){return kt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class aR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Tw(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ve(kt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;pt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new pt(c),0);let p=new Ve(kt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Pe(i,0),l=this.Zr.firstAfterOrEqual(r);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class oR{constructor(t){this.ri=t,this.docs=(function(){return new he(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return $.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=rr();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),$.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=rr();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||k2(V2(A),r)<=0||(l.has(A.key)||ph(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,r,l){vt(9500)}ii(t,i){return $.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new lR(this)}getSize(t){return $.resolve(this.size)}}class lR extends tR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class uR{constructor(t){this.persistence=t,this.si=new Xs((i=>km(i)),zm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=eo.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new eo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return $.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),$.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return $.resolve(r)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class V1{constructor(t,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new sR,this.referenceDelegate=t(this),this.Pi=new uR(this),this.indexManager=new Yw,this.remoteDocumentCache=(function(l){return new oR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Gw(i),this.Ii=new iR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new rR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new aR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new cR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class cR extends L2{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new qm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),$.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(r=>{const l=pt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Xs((r=>j2(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Ww(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}br(t,i,r){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Fm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=zt(),l=zt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Fm(t,i.fromCache,r,l)}}class hR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class fR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ib()?8:P2(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new hR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(ja()<=Vt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(ja()<=Vt.DEBUG&&at("QueryEngine","Query:",Ba(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(ja()<=Vt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):$.resolve())}ys(t,i){if(bv(i))return $.resolve(null);let r=wi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),r=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,om(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return bv(i)||l.isEqual(Et.min())?$.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?$.resolve(null):(ja()<=Vt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(i)),this.vs(t,d,i,O2(l,Dl)).next((p=>p)))}))}Ds(t,i){let r=new Ve(h1(t));return i.forEach(((l,c)=>{ph(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return ja()<=Vt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.ps.getDocumentsMatchingQuery(t,i,Zr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Gm="LocalStore",dR=3e8;class mR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new he(kt),this.xs=new Xs((c=>km(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new nR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function pR(s,t,i,r){return new mR(s,t,i,r)}async function k1(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=zt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function gR(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const b=_.batch,N=b.keys();let B=$.resolve();return N.forEach((H=>{B=B.next((()=>A.getEntry(y,H))).next((Z=>{const J=_.docVersions.get(H);Qt(J!==null,48541),Z.version.compareTo(J)<0&&(b.applyToRemoteDocument(Z,_),Z.isValidDocument()&&(Z.setReadTime(_.commitVersion),A.addEntry(Z)))}))})),B.next((()=>p.mutationQueue.removeMutationBatch(y,b)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=zt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function z1(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function yR(s,t){const i=At(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const N=l.get(b);if(!N)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let B=N.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?B=B.withResumeToken(Ye.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(A.resumeToken,r)),l=l.insert(b,B),(function(Z,J,it){return Z.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=dR?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(N,B,A)&&p.push(i.Pi.updateTargetData(c,B))}));let y=rr(),_=zt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(_R(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!r.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function _R(s,t,i){let r=zt(),l=zt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=rr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(Gm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function vR(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function ER(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Qr(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function fm(s,t,i){const r=At(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;at(Gm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Lv(s,t,i){const r=At(s);let l=Et.min(),c=zt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const b=At(y),N=b.xs.get(A);return N!==void 0?$.resolve(b.Ms.get(N)):b.Pi.getTargetData(_,A)})(r,d,wi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:zt()))).next((p=>(TR(r,aw(t),p),{documents:p,Qs:c})))))}function TR(s,t,i){let r=s.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class Pv{constructor(){this.activeTargetIds=fw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SR{constructor(){this.Mo=new Pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Pv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class AR{Oo(t){}shutdown(){}}const Uv="ConnectivityMonitor";class jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Uv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Uv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function dm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Fd="RestConnection",bR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Gc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=dm(),p=this.zo(t,i.toUriEncodedString());at(Fd,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=io(_);return this.Jo(t,p,y,r,A).then((b=>(at(Fd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ja(Fd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+so})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=bR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class RR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class IR extends wR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=dm();return new Promise(((p,y)=>{const _=new j0;_.setWithCredentials(!0),_.listenOnce(B0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Mc.NO_ERROR:const b=_.getResponseJson();at(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Mc.TIMEOUT:at(Xe,`RPC '${t}' ${d} timed out`),y(new ft(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const N=_.getStatus();if(at(Xe,`RPC '${t}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const H=B?.error;if(H&&H.status&&H.message){const Z=(function(it){const st=it.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(st)>=0?st:tt.UNKNOWN})(H.status);y(new ft(Z,H.message))}else y(new ft(tt.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ft(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at(Xe,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=F0(),p=q0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=c.join("");at(Xe,`Creating RPC '${t}' stream ${l}: ${A}`,y);const b=d.createWebChannel(A,y);this.I_(b);let N=!1,B=!1;const H=new RR({Yo:J=>{B?at(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(N||(at(Xe,`Opening RPC '${t}' stream ${l} transport.`),b.open(),N=!0),at(Xe,`RPC '${t}' stream ${l} sending:`,J),b.send(J))},Zo:()=>b.close()}),Z=(J,it,st)=>{J.listen(it,(ot=>{try{st(ot)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return Z(b,yl.EventType.OPEN,(()=>{B||(at(Xe,`RPC '${t}' stream ${l} transport opened.`),H.o_())})),Z(b,yl.EventType.CLOSE,(()=>{B||(B=!0,at(Xe,`RPC '${t}' stream ${l} transport closed`),H.a_(),this.E_(b))})),Z(b,yl.EventType.ERROR,(J=>{B||(B=!0,Ja(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),H.a_(new ft(tt.UNAVAILABLE,"The operation could not be completed")))})),Z(b,yl.EventType.MESSAGE,(J=>{if(!B){const it=J.data[0];Qt(!!it,16349);const st=it,ot=st?.error||st[0]?.error;if(ot){at(Xe,`RPC '${t}' stream ${l} received error:`,ot);const Tt=ot.status;let xt=(function(w){const C=xe[w];if(C!==void 0)return A1(C)})(Tt),Lt=ot.message;xt===void 0&&(xt=tt.INTERNAL,Lt="Unknown error status: "+Tt+" with message "+ot.message),B=!0,H.a_(new ft(xt,Lt)),b.close()}else at(Xe,`RPC '${t}' stream ${l} received:`,it),H.u_(it)}})),Z(p,H0.STAT_EVENT,(J=>{J.stat===em.PROXY?at(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===em.NOPROXY&&at(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Gd(){return typeof document<"u"?document:null}function vh(s){return new Nw(s,!0)}class L1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Bv="PersistentStream";class P1{constructor(t,i,r,l,c,d,p,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new L1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(ir(i.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ft(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class CR extends P1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Vw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ii(d.readTime):Et.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=am(y)?{documents:Lw(c,y)}:{query:Pw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=R1(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=Jc(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=jw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class xR extends P1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=zw(t.writeResults,t.commitTime),r=Ii(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>kw(this.serializer,r)))};this.q_(i)}}class DR{}class NR extends DR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(tt.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,um(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class MR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Qs="RemoteStore";class OR{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{$s(this)&&(at(Qs,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await Gl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Eh(_)})(this))}))})),this.Ra=new MR(r,l)}}async function Eh(s){if($s(s))for(const t of s.da)await t(!0)}async function Gl(s){for(const t of s.da)await t(!1)}function U1(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Km(i):lo(i).O_()&&Ym(i,t))}function Qm(s,t){const i=At(s),r=lo(i);i.Ia.delete(t),r.O_()&&j1(i,t),i.Ia.size===0&&(r.O_()?r.L_():$s(i)&&i.Ra.set("Unknown"))}function Ym(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(s).Y_(t)}function j1(s,t){s.Va.Ue(t),lo(s).Z_(t)}function Km(s){s.Va=new Iw({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),lo(s).start(),s.Ra.ua()}function Xm(s){return $s(s)&&!lo(s).x_()&&s.Ia.size>0}function $s(s){return At(s).Ea.size===0}function B1(s){s.Va=void 0}async function VR(s){s.Ra.set("Online")}async function kR(s){s.Ia.forEach(((t,i)=>{Ym(s,t)}))}async function zR(s,t){B1(s),Xm(s)?(s.Ra.ha(t),Km(s)):s.Ra.set("Unknown")}async function LR(s,t,i){if(s.Ra.set("Online"),t instanceof w1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){at(Qs,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Wc(s,r)}else if(t instanceof zc?s.Va.Ze(t):t instanceof b1?s.Va.st(t):s.Va.tt(t),!i.isEqual(Et.min()))try{const r=await z1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Ye.EMPTY_BYTE_STRING,A.snapshotVersion)),j1(c,y);const b=new Qr(A.target,y,_,A.sequenceNumber);Ym(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){at(Qs,"Failed to raise snapshot:",r),await Wc(s,r)}}async function Wc(s,t,i){if(!oo(t))throw t;s.Ea.add(1),await Gl(s),s.Ra.set("Offline"),i||(i=()=>z1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Qs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Eh(s)}))}function H1(s,t){return t().catch((i=>Wc(s,i,t)))}async function Th(s){const t=At(s),i=ns(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mm;for(;PR(t);)try{const l=await vR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,UR(t,l)}catch(l){await Wc(t,l)}q1(t)&&F1(t)}function PR(s){return $s(s)&&s.Ta.length<10}function UR(s,t){s.Ta.push(t);const i=ns(s);i.O_()&&i.X_&&i.ea(t.mutations)}function q1(s){return $s(s)&&!ns(s).x_()&&s.Ta.length>0}function F1(s){ns(s).start()}async function jR(s){ns(s).ra()}async function BR(s){const t=ns(s);for(const i of s.Ta)t.ea(i.mutations)}async function HR(s,t,i){const r=s.Ta.shift(),l=Um.from(r,t,i);await H1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Th(s)}async function qR(s,t){t&&ns(s).X_&&await(async function(r,l){if((function(d){return bw(d)&&d!==tt.ABORTED})(l.code)){const c=r.Ta.shift();ns(r).B_(),await H1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Th(r)}})(s,t),q1(s)&&F1(s)}async function Hv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),at(Qs,"RemoteStore received new credentials");const r=$s(i);i.Ea.add(3),await Gl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function FR(s,t){const i=At(s);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Gl(i),i.Ra.set("Unknown"))}function lo(s){return s.ma||(s.ma=(function(i,r,l){const c=At(i);return c.sa(),new CR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:VR.bind(null,s),t_:kR.bind(null,s),r_:zR.bind(null,s),H_:LR.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Xm(s)?Km(s):s.Ra.set("Unknown")):(await s.ma.stop(),B1(s))}))),s.ma}function ns(s){return s.fa||(s.fa=(function(i,r,l){const c=At(i);return c.sa(),new xR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:jR.bind(null,s),r_:qR.bind(null,s),ta:BR.bind(null,s),na:HR.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Th(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Qs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class $m{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new $m(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(s,t){if(ir("AsyncQueue",`${t}: ${s}`),oo(s))return new ft(tt.UNAVAILABLE,`${t}: ${s}`);throw s}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||pt.comparator(i.key,r.key):(i,r)=>pt.comparator(i.key,r.key),this.keyedMap=_l(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Qa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class qv{constructor(){this.ga=new he(pt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class no{constructor(t,i,r,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new no(t,i,Qa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class GR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class QR{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=At(i),c=l.queries;l.queries=Fv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ft(tt.ABORTED,"Firestore shutting down"))}}function Fv(){return new Xs((s=>c1(s)),mh)}async function YR(s,t){const i=At(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new GR,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Jm(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function KR(s,t){const i=At(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function XR(s,t){const i=At(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Zm(i)}function $R(s,t,i){const r=At(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Zm(s){s.Ca.forEach((t=>{t.next()}))}var mm,Gv;(Gv=mm||(mm={})).Ma="default",Gv.Cache="cache";class JR{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new no(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=no.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class G1{constructor(t){this.key=t}}class Q1{constructor(t){this.key=t}}class ZR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=h1(t),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const N=l.get(A),B=ph(this.query,b)?b:null,H=!!N&&this.mutatedKeys.has(N.key),Z=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let J=!1;N&&B?N.data.isEqual(B.data)?H!==Z&&(r.track({type:3,doc:B}),J=!0):this.su(N,B)||(r.track({type:2,doc:B}),J=!0,(y&&this.eu(B,y)>0||_&&this.eu(B,_)<0)&&(p=!0)):!N&&B?(r.track({type:0,doc:B}),J=!0):N&&!B&&(r.track({type:1,doc:N}),J=!0,(y||_)&&(p=!0)),J&&(B?(d=d.add(B),c=Z?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(B,H){const Z=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return Z(B)-Z(H)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new no(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new Q1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new G1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return no.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wm="SyncEngine";class WR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class tI{constructor(t){this.key=t,this.hu=!1}}class eI{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Xs((p=>c1(p)),mh),this.Iu=new Map,this.Eu=new Set,this.du=new he(pt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=eo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nI(s,t,i=!0){const r=Z1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await Y1(r,t,i,!0),l}async function iI(s,t){const i=Z1(s);await Y1(i,t,!0,!1)}async function Y1(s,t,i,r){const l=await ER(s.localStore,wi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await rI(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&U1(s.remoteStore,l),p}async function rI(s,t,i,r,l){s.pu=(b,N,B)=>(async function(Z,J,it,st){let ot=J.view.ru(it);ot.Cs&&(ot=await Lv(Z.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,ot))));const Tt=st&&st.targetChanges.get(J.targetId),xt=st&&st.targetMismatches.get(J.targetId)!=null,Lt=J.view.applyChanges(ot,Z.isPrimaryClient,Tt,xt);return Yv(Z,J.targetId,Lt.au),Lt.snapshot})(s,b,N,B);const c=await Lv(s.localStore,t,!0),d=new ZR(t,c.Qs),p=d.ru(c.documents),y=Fl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);Yv(s,i,_.au);const A=new WR(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function sI(s,t,i){const r=At(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!mh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Qm(r.remoteStore,l.targetId),pm(r,l.targetId)})).catch(ao)):(pm(r,l.targetId),await fm(r.localStore,l.targetId,!0))}async function aI(s,t){const i=At(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Qm(i.remoteStore,r.targetId))}async function oI(s,t,i){const r=mI(s);try{const l=await(function(d,p){const y=At(d),_=se.now(),A=p.reduce(((B,H)=>B.add(H.key)),zt());let b,N;return y.persistence.runTransaction("Locally write mutations","readwrite",(B=>{let H=rr(),Z=zt();return y.Ns.getEntries(B,A).next((J=>{H=J,H.forEach(((it,st)=>{st.isValidDocument()||(Z=Z.add(it))}))})).next((()=>y.localDocuments.getOverlayedDocuments(B,H))).next((J=>{b=J;const it=[];for(const st of p){const ot=vw(st,b.get(st.key).overlayedDocument);ot!=null&&it.push(new ss(st.key,ot,i1(ot.value.mapValue),Ri.exists(!0)))}return y.mutationQueue.addMutationBatch(B,_,it,p)})).next((J=>{N=J;const it=J.applyToLocalDocumentSet(b,Z);return y.documentOverlayCache.saveOverlays(B,J.batchId,it)}))})).then((()=>({batchId:N.batchId,changes:d1(b)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new he(kt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await Ql(r,l.changes),await Th(r.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function K1(s,t){const i=At(s);try{const r=await yR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Ql(i,r,t)}catch(r){await ao(r)}}function Qv(s,t,i){const r=At(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=At(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,b)=>{for(const N of b.Sa)N.va(p)&&(_=!0)})),_&&Zm(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function lI(s,t,i){const r=At(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new he(pt.comparator);d=d.insert(c,Je.newNoDocument(c,Et.min()));const p=zt().add(c),y=new _h(Et.min(),new Map,new he(kt),d,p);await K1(r,y),r.du=r.du.remove(c),r.Au.delete(t),tp(r)}else await fm(r.localStore,t,!1).then((()=>pm(r,t,i))).catch(ao)}async function uI(s,t){const i=At(s),r=t.batch.batchId;try{const l=await gR(i.localStore,t);$1(i,r,null),X1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Ql(i,l)}catch(l){await ao(l)}}async function cI(s,t,i){const r=At(s);try{const l=await(function(d,p){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((b=>(Qt(b!==null,37113),A=b.keys(),y.mutationQueue.removeMutationBatch(_,b)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);$1(r,t,i),X1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Ql(r,l)}catch(l){await ao(l)}}function X1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function $1(s,t,i){const r=At(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function pm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||J1(s,r)}))}function J1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Qm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),tp(s))}function Yv(s,t,i){for(const r of i)r instanceof G1?(s.Ru.addReference(r.key,t),hI(s,r)):r instanceof Q1?(at(Wm,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||J1(s,r.key)):vt(19791,{wu:r})}function hI(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(Wm,"New document in limbo: "+i),s.Eu.add(r),tp(s))}function tp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new pt(ce.fromString(t)),r=s.fu.next();s.Au.set(r,new tI(i)),s.du=s.du.insert(i,r),U1(s.remoteStore,new Qr(wi(Lm(i.path)),r,"TargetPurposeLimboResolution",ch.ce))}}async function Ql(s,t,i){const r=At(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Fm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const A=At(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>$.forEach(_,(N=>$.forEach(N.Es,(B=>A.persistence.referenceDelegate.addReference(b,N.targetId,B))).next((()=>$.forEach(N.ds,(B=>A.persistence.referenceDelegate.removeReference(b,N.targetId,B)))))))))}catch(b){if(!oo(b))throw b;at(Gm,"Failed to update sequence numbers: "+b)}for(const b of _){const N=b.targetId;if(!b.fromCache){const B=A.Ms.get(N),H=B.snapshotVersion,Z=B.withLastLimboFreeSnapshotVersion(H);A.Ms=A.Ms.insert(N,Z)}}})(r.localStore,c))}async function fI(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){at(Wm,"User change. New user:",t.toKey());const r=await k1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ft(tt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Ql(i,r.Ls)}}function dI(s,t){const i=At(s),r=i.Au.get(t);if(r&&r.hu)return zt().add(r.key);{let l=zt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function Z1(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=K1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=dI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=lI.bind(null,t),t.Pu.H_=XR.bind(null,t.eventManager),t.Pu.yu=$R.bind(null,t.eventManager),t}function mI(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return pR(this.persistence,new fR,t.initialUser,this.serializer)}Cu(t){return new V1(qm.mi,this.serializer)}Du(t){return new SR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class pI extends th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof Zc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Jw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new V1((r=>Zc.mi(r,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Qv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=fI.bind(null,this.syncEngine),await FR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new QR})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),r=(function(c){return new IR(c)})(t.databaseInfo);return(function(c,d,p,y){return new NR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new OR(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Qv(this.syncEngine,i,0)),(function(){return jv.v()?new jv:new AR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const b=new eI(l,c,d,p,y,_);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=At(i);at(Qs,"RemoteStore shutting down."),r.Ea.add(5),await Gl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class gI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const is="FirestoreClient";class yI{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=$e.UNAUTHENTICATED,this.clientId=Dm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(is,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(is,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Jm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Qd(s,t){s.asyncQueue.verifyOperationInProgress(),at(is,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await k1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Kv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await _I(s);at(is,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>Hv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>Hv(t.remoteStore,l))),s._onlineComponents=t}async function _I(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(is,"Using user provided OfflineComponentProvider");try{await Qd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Qd(s,new th)}}else at(is,"Using default OfflineComponentProvider"),await Qd(s,new pI(void 0));return s._offlineComponents}async function W1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(is,"Using user provided OnlineComponentProvider"),await Kv(s,s._uninitializedComponentsProvider._online)):(at(is,"Using default OnlineComponentProvider"),await Kv(s,new gm))),s._onlineComponents}function vI(s){return W1(s).then((t=>t.syncEngine))}async function EI(s){const t=await W1(s),i=t.eventManager;return i.onListen=nI.bind(null,t.syncEngine),i.onUnlisten=sI.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=iI.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=aI.bind(null,t.syncEngine),i}function TI(s,t,i={}){const r=new Jr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new gI({next:N=>{A.Nu(),d.enqueueAndForget((()=>KR(c,b)));const B=N.docs.has(p);!B&&N.fromCache?_.reject(new ft(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&N.fromCache&&y&&y.source==="server"?_.reject(new ft(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(N)},error:N=>_.reject(N)}),b=new JR(Lm(p.path),A,{includeMetadataChanges:!0,qa:!0});return YR(c,b)})(await EI(s),s.asyncQueue,t,i,r))),r.promise}function tE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Xv=new Map;const eE="firestore.googleapis.com",$v=!0;class Jv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eE,this.ssl=$v}else this.host=t.host,this.ssl=t.ssl??$v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=O1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Xw)throw new ft(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}M2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ep{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new T2;switch(r.type){case"firstParty":return new w2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ft(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Xv.get(i);r&&(at("ComponentProvider","Removing Datastore"),Xv.delete(i),r.terminate())})(this),Promise.resolve()}}function SI(s,t,i,r={}){s=Gs(s,ep);const l=io(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(N0(`https://${p}`),M0("Firestore",!0)),c.host!==eE&&c.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!Hs(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=$e.MOCK_USER;else{_=KA(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new ft(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new $e(b)}s._authCredentials=new S2(new Q0(_,A))}}class np{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new np(this.firestore,t,this._query)}}class Oe{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zl(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Hl(i,Oe._jsonSchema))return new Oe(t,r||null,new pt(ce.fromString(i.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:De("string",Oe._jsonSchemaVersion),referencePath:De("string")};class zl extends np{constructor(t,i,r){super(t,i,Lm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new pt(t))}withConverter(t){return new zl(this.firestore,t,this._path)}}function Sh(s,t,...i){if(s=We(s),arguments.length===1&&(t=Dm.newId()),N2("doc","path",t),s instanceof ep){const r=ce.fromString(t,...i);return hv(r),new Oe(s,null,new pt(r))}{if(!(s instanceof Oe||s instanceof zl))throw new ft(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ce.fromString(t,...i));return hv(r),new Oe(s.firestore,s instanceof zl?s.converter:null,new pt(r))}}const Zv="AsyncQueue";class Wv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new L1(this,"async_queue_retry"),this._c=()=>{const r=Gd();r&&at(Zv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Gd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Gd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;at(Zv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",t0(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=$m.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:t0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function t0(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Ah extends ep{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Wv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Wv(t),this._firestoreClient=void 0,await t}}}function AI(s,t){const i=typeof s=="object"?s:z0(),r=typeof s=="string"?s:Gc,l=Cm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=QA("firestore");c&&SI(l,...c)}return l}function nE(s){if(s._terminated)throw new ft(tt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||bI(s),s._firestoreClient}function bI(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new q2(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,tE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new yI(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ye.fromBase64String(t))}catch(i){throw new ft(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:De("string",Un._jsonSchemaVersion),bytes:De("string")};class bh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ip{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:De("string",Ci._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new xi(t.vectorValues);throw new ft(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:De("string",xi._jsonSchemaVersion),vectorValues:De("object")};const wI=/^__.*__$/;class RI{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ss(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}class iE{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new ss(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function rE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class rp{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new rp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return eh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(rE(this.Ac)&&wI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class II{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||vh(t)}Cc(t,i,r,l=!1){return new rp({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sE(s){const t=s._freezeSettings(),i=vh(s._databaseId);return new II(s._databaseId,!!t.ignoreUndefinedProperties,i)}function CI(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);sp("Data must be an object, but it was:",d,r);const p=aE(r,d);let y,_;if(c.merge)y=new bn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const N=ym(t,b,i);if(!d.contains(N))throw new ft(tt.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);lE(A,N)||A.push(N)}y=new bn(A),_=d.fieldTransforms.filter((b=>y.covers(b.field)))}else y=null,_=d.fieldTransforms;return new RI(new mn(p),y,_)}class wh extends ip{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}function xI(s,t,i,r){const l=s.Cc(1,t,i);sp("Data must be an object, but it was:",l,r);const c=[],d=mn.empty();rs(r,((y,_)=>{const A=ap(t,y,i);_=We(_);const b=l.yc(A);if(_ instanceof wh)c.push(A);else{const N=Rh(_,b);N!=null&&(c.push(A),d.set(A,N))}}));const p=new bn(c);return new iE(d,p,l.fieldTransforms)}function DI(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[ym(t,r,i)],y=[l];if(c.length%2!=0)throw new ft(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<c.length;N+=2)p.push(ym(t,c[N])),y.push(c[N+1]);const _=[],A=mn.empty();for(let N=p.length-1;N>=0;--N)if(!lE(_,p[N])){const B=p[N];let H=y[N];H=We(H);const Z=d.yc(B);if(H instanceof wh)_.push(B);else{const J=Rh(H,Z);J!=null&&(_.push(B),A.set(B,J))}}const b=new bn(_);return new iE(A,b,d.fieldTransforms)}function Rh(s,t){if(oE(s=We(s)))return sp("Unsupported field value:",t,s),aE(s,t);if(s instanceof ip)return(function(r,l){if(!rE(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=Rh(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dw(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=se.fromDate(r);return{timestampValue:Jc(l.serializer,c)}}if(r instanceof se){const c=new se(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Un)return{bytesValue:R1(l.serializer,r._byteString)};if(r instanceof Oe){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Bm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof xi)return(function(d,p){return{mapValue:{fields:{[e1]:{stringValue:n1},[Qc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Pm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Nm(r)}`)})(s,t)}function aE(s,t){const i={};return X0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rs(s,((r,l)=>{const c=Rh(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function oE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof se||s instanceof Ci||s instanceof Un||s instanceof Oe||s instanceof ip||s instanceof xi)}function sp(s,t,i){if(!oE(i)||!Y0(i)){const r=Nm(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function ym(s,t,i){if((t=We(t))instanceof bh)return t._internalPath;if(typeof t=="string")return ap(s,t);throw eh("Field path arguments must be of type string or ",s,!1,void 0,i)}const NI=new RegExp("[~\\*/\\[\\]]");function ap(s,t,i){if(t.search(NI)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bh(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function eh(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ft(tt.INVALID_ARGUMENT,p+s+y)}function lE(s,t){return s.some((i=>i.isEqual(t)))}class uE{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(cE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MI extends uE{data(){return super.data()}}function cE(s,t){return typeof t=="string"?ap(s,t):t instanceof bh?t._internalPath:t._delegate._internalPath}class OI{convertValue(t,i="none"){switch(es(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ts(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return rs(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Qc].arrayValue?.values?.map((r=>Ee(r.doubleValue)));return new xi(i)}convertGeoPoint(t){return new Ci(Ee(t.latitude),Ee(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=fh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Nl(t));default:return null}}convertTimestamp(t){const i=Wr(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ce.fromString(t);Qt(M1(r),9688,{name:t});const l=new Ml(r.get(1),r.get(3)),c=new pt(r.popFirst(5));return l.isEqual(i)||ir(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function VI(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class El{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Bs extends uE{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(cE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Bs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Bs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bs._jsonSchema={type:De("string",Bs._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Lc extends Bs{data(t={}){return super.data(t)}}class Rl{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new El(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Lc(this._firestore,this._userDataWriter,r.key,r,new El(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Lc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Lc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new El(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:kI(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Dm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function kI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}function hE(s){s=Gs(s,Oe);const t=Gs(s.firestore,Ah);return TI(nE(t),s._key).then((i=>UI(t,s,i)))}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:De("string",Rl._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class zI extends OI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,i)}}function LI(s,t,i){s=Gs(s,Oe);const r=Gs(s.firestore,Ah),l=VI(s.converter,t);return fE(r,[CI(sE(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Ri.none())])}function PI(s,t,i,...r){s=Gs(s,Oe);const l=Gs(s.firestore,Ah),c=sE(l);let d;return d=typeof(t=We(t))=="string"||t instanceof bh?DI(c,"updateDoc",s._key,t,i,r):xI(c,"updateDoc",s._key,t),fE(l,[d.toMutation(s._key,Ri.exists(!0))])}function fE(s,t){return(function(r,l){const c=new Jr;return r.asyncQueue.enqueueAndForget((async()=>oI(await vI(r),l,c))),c.promise})(nE(s),t)}function UI(s,t,i){const r=i.docs.get(t._key),l=new zI(s);return new Bs(s,l,t._key,r,new El(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(l){so=l})(ro),$a(new qs("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Ah(new A2(r.getProvider("auth-internal")),new R2(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Xr(ov,lv,t),Xr(ov,lv,"esm2020")})();function dE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jI=dE,mE=new jl("auth","Firebase",dE());const nh=new Rm("@firebase/auth");function BI(s,...t){nh.logLevel<=Vt.WARN&&nh.warn(`Auth (${ro}): ${s}`,...t)}function Pc(s,...t){nh.logLevel<=Vt.ERROR&&nh.error(`Auth (${ro}): ${s}`,...t)}function ti(s,...t){throw op(s,...t)}function Di(s,...t){return op(s,...t)}function pE(s,t,i){const r={...jI(),[t]:i};return new jl("auth","Firebase",r).create(t,{appName:s.name})}function er(s){return pE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return mE.create(s,...t)}function _t(s,t,...i){if(!s)throw op(t,...i)}function Wi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Pc(t),new Error(t)}function sr(s,t){s||Wi(t)}function _m(){return typeof self<"u"&&self.location?.href||""}function HI(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function qI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HI()||tb()||"connection"in navigator)?navigator.onLine:!0}function FI(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,sr(i>t,"Short delay should be less than long delay!"),this.isMobile=JA()||eb()}get(){return qI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(s,t){sr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class gE{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YI=new Yl(3e4,6e4);function as(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function os(s,t,i,r,l={}){return yE(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Bl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return WA()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&io(s.emulatorConfig.host)&&(_.credentials="include"),gE.fetch()(await _E(s,s.config.apiHost,i,p),_)})}async function yE(s,t,i){s._canInitEmulator=!1;const r={...GI,...t};try{const l=new XI(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Nc(s,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw pE(s,A,_);ti(s,A)}}catch(l){if(l instanceof ar)throw l;ti(s,"network-request-failed",{message:String(l)})}}async function Kl(s,t,i,r,l={}){const c=await os(s,t,i,r,l);return"mfaPendingCredential"in c&&ti(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function _E(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?lp(s.config,l):`${s.config.apiScheme}://${l}`;return QI.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function KI(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class XI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Di(this.auth,"network-request-failed")),YI.get())})}}function Nc(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Di(s,t,r);return l.customData._tokenResponse=i,l}function n0(s){return s!==void 0&&s.enterprise!==void 0}class $I{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return KI(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JI(s,t){return os(s,"GET","/v2/recaptchaConfig",as(s,t))}async function ZI(s,t){return os(s,"POST","/v1/accounts:delete",t)}async function ih(s,t){return os(s,"POST","/v1/accounts:lookup",t)}function Il(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function WI(s,t=!1){const i=We(s),r=await i.getIdToken(t),l=up(r);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Il(Yd(l.auth_time)),issuedAtTime:Il(Yd(l.iat)),expirationTime:Il(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(s){return Number(s)*1e3}function up(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const l=I0(i);return l?JSON.parse(l):(Pc("Failed to decode base64 JWT payload"),null)}catch(l){return Pc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function i0(s){const t=up(s);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Ll(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ar&&tC(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function tC({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class eC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(s){const t=s.auth,i=await s.getIdToken(),r=await Ll(s,ih(t,{idToken:i}));_t(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?vE(l.providerUserInfo):[],d=iC(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function nC(s){const t=We(s);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iC(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function vE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function rC(s,t){const i=await yE(s,{},async()=>{const r=Bl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await _E(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&io(s.emulatorConfig.host)&&(y.credentials="include"),gE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function sC(s,t){return os(s,"POST","/v2/accounts:revokeToken",as(s,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):i0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=i0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await rC(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Ya;return r&&(_t(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Br(s,t){_t(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new eC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Ll(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return WI(this,t)}reload(){return nC(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(er(this.auth));const t=await this.getIdToken();return await Ll(this,ZI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:N,isAnonymous:B,providerData:H,stsTokenManager:Z}=i;_t(b&&Z,t,"internal-error");const J=Ya.fromJSON(this.name,Z);_t(typeof b=="string",t,"internal-error"),Br(r,t.name),Br(l,t.name),_t(typeof N=="boolean",t,"internal-error"),_t(typeof B=="boolean",t,"internal-error"),Br(c,t.name),Br(d,t.name),Br(p,t.name),Br(y,t.name),Br(_,t.name),Br(A,t.name);const it=new Wn({uid:b,auth:t,email:l,emailVerified:N,displayName:r,isAnonymous:B,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:A});return H&&Array.isArray(H)&&(it.providerData=H.map(st=>({...st}))),y&&(it._redirectEventId=y),it}static async _fromIdTokenResponse(t,i,r=!1){const l=new Ya;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await rh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?vE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ya;p.updateFromIdToken(r);const y=new Wn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const r0=new Map;function tr(s){sr(s instanceof Function,"Expected a class definition");let t=r0.get(s);return t?(sr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,r0.set(s,t),t)}class EE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}EE.type="NONE";const s0=EE;function Uc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ka{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ih(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ka(tr(s0),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||tr(s0);const d=Uc(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let b;if(typeof A=="string"){const N=await ih(t,{idToken:A}).catch(()=>{});if(!N)break;b=await Wn._fromGetAccountInfoResponse(t,N,A)}else b=Wn._fromJSON(t,A);_!==c&&(p=b),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ka(c,t,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ka(c,t,r))}}function a0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(bE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RE(t))return"Blackberry";if(IE(t))return"Webos";if(SE(t))return"Safari";if((t.includes("chrome/")||AE(t))&&!t.includes("edge/"))return"Chrome";if(wE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function TE(s=Ze()){return/firefox\//i.test(s)}function SE(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AE(s=Ze()){return/crios\//i.test(s)}function bE(s=Ze()){return/iemobile/i.test(s)}function wE(s=Ze()){return/android/i.test(s)}function RE(s=Ze()){return/blackberry/i.test(s)}function IE(s=Ze()){return/webos/i.test(s)}function cp(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function aC(s=Ze()){return cp(s)&&!!window.navigator?.standalone}function oC(){return nb()&&document.documentMode===10}function CE(s=Ze()){return cp(s)||wE(s)||IE(s)||RE(s)||/windows phone/i.test(s)||bE(s)}function xE(s,t=[]){let i;switch(s){case"Browser":i=a0(Ze());break;case"Worker":i=`${a0(Ze())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ro}/${r}`}class lC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function uC(s,t={}){return os(s,"GET","/v2/passwordPolicy",as(s,t))}const cC=6;class hC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??cC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class fC{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new lC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=tr(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ih(this,{idToken:t}),r=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(er(this));const i=t?We(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await uC(this),i=new hC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await sC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&tr(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[tr(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&BI(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Js(s){return We(s)}class o0{constructor(t){this.auth=t,this.observer=null,this.addObserver=cb(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ih={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dC(s){Ih=s}function DE(s){return Ih.loadJS(s)}function mC(){return Ih.recaptchaEnterpriseScript}function pC(){return Ih.gapiScript}function gC(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class yC{constructor(){this.enterprise=new _C}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class _C{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const vC="recaptcha-enterprise",NE="NO_RECAPTCHA";class EC{constructor(t){this.type=vC,this.auth=Js(t)}async verify(t="verify",i=!1){async function r(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{JI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const _=new $I(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,d(_.siteKey)}}).catch(y=>{p(y)})})}function l(c,d,p){const y=window.grecaptcha;n0(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:t}).then(_=>{d(_)}).catch(()=>{d(NE)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yC().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!i&&n0(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=mC();y.length!==0&&(y+=p),DE(y).then(()=>{l(p,c,d)}).catch(_=>{d(_)})}}).catch(p=>{d(p)})})}}async function l0(s,t,i,r=!1,l=!1){const c=new EC(s);let d;if(l)d=NE;else try{d=await c.verify(i)}catch{d=await c.verify(i,!0)}const p={...t};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,_=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Em(s,t,i,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await l0(s,t,i,i==="getOobCode");return r(s,c)}else return r(s,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await l0(s,t,i,i==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function TC(s,t){const i=Cm(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Hs(c,t??{}))return l;ti(l,"already-initialized")}return i.initialize({options:t})}function SC(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(tr);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function AC(s,t,i){const r=Js(s);_t(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=ME(t),{host:d,port:p}=bC(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){_t(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),_t(Hs(_,r.config.emulator)&&Hs(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,io(d)?(N0(`${c}//${d}${y}`),M0("Auth",!0)):wC()}function ME(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function bC(s){const t=ME(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:u0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:u0(d)}}}function u0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function wC(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class hp{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function RC(s,t){return os(s,"POST","/v1/accounts:signUp",t)}async function IC(s,t){return Kl(s,"POST","/v1/accounts:signInWithPassword",as(s,t))}async function CC(s,t){return Kl(s,"POST","/v1/accounts:signInWithEmailLink",as(s,t))}async function xC(s,t){return Kl(s,"POST","/v1/accounts:signInWithEmailLink",as(s,t))}class Pl extends hp{constructor(t,i,r,l=null){super("password",r),this._email=t,this._password=i,this._tenantId=l}static _fromEmailAndPassword(t,i){return new Pl(t,i,"password")}static _fromEmailAndCode(t,i,r=null){return new Pl(t,i,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i?.email&&i?.password){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(t,i,"signInWithPassword",IC);case"emailLink":return CC(t,{email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const r={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(t,r,"signUpPassword",RC);case"emailLink":return xC(t,{idToken:i,email:this._email,oobCode:this._password});default:ti(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Xa(s,t){return Kl(s,"POST","/v1/accounts:signInWithIdp",as(s,t))}const DC="http://localhost";class Ys extends hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ys(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ti("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Ys(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Xa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:DC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Bl(i)}return t}}function NC(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function MC(s){const t=pl(gl(s)).link,i=t?pl(gl(t)).deep_link_id:null,r=pl(gl(s)).deep_link_id;return(r?pl(gl(r)).link:null)||r||i||t||s}class fp{constructor(t){const i=pl(gl(t)),r=i.apiKey??null,l=i.oobCode??null,c=NC(i.mode??null);_t(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(t){const i=MC(t);try{return new fp(i)}catch{return null}}}class uo{constructor(){this.providerId=uo.PROVIDER_ID}static credential(t,i){return Pl._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=fp.parseLink(i);return _t(r,"argument-error"),Pl._fromEmailAndCode(t,r.code,r.tenantId)}}uo.PROVIDER_ID="password";uo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class OE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends OE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends Xl{constructor(){super("facebook.com")}static credential(t){return Ys._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class qr extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ys._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return qr.credential(i,r)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";class Fr extends Xl{constructor(){super("github.com")}static credential(t){return Ys._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fr.credentialFromTaggedObject(t)}static credentialFromError(t){return Fr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fr.credential(t.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";class Gr extends Xl{constructor(){super("twitter.com")}static credential(t,i){return Ys._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Gr.credential(i,r)}catch{return null}}}Gr.TWITTER_SIGN_IN_METHOD="twitter.com";Gr.PROVIDER_ID="twitter.com";async function OC(s,t){return Kl(s,"POST","/v1/accounts:signUp",as(s,t))}class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Wn._fromIdTokenResponse(t,r,l),d=c0(r);return new Ks({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=c0(r);return new Ks({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function c0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class sh extends ar{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new sh(t,i,r,l)}}function VE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(s,c,t,r):c})}async function VC(s,t,i=!1){const r=await Ll(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ks._forOperation(s,"link",r)}async function kC(s,t,i=!1){const{auth:r}=s;if(Pn(r.app))return Promise.reject(er(r));const l="reauthenticate";try{const c=await Ll(s,VE(r,l,t,s),i);_t(c.idToken,r,"internal-error");const d=up(c.idToken);_t(d,r,"internal-error");const{sub:p}=d;return _t(s.uid===p,r,"user-mismatch"),Ks._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ti(r,"user-mismatch"),c}}async function kE(s,t,i=!1){if(Pn(s.app))return Promise.reject(er(s));const r="signIn",l=await VE(s,r,t),c=await Ks._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function zC(s,t){return kE(Js(s),t)}async function zE(s){const t=Js(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function LC(s,t,i){if(Pn(s.app))return Promise.reject(er(s));const r=Js(s),d=await Em(r,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",OC).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&zE(s),y}),p=await Ks._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function PC(s,t,i){return Pn(s.app)?Promise.reject(er(s)):zC(We(s),uo.credential(t,i)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zE(s),r})}function UC(s,t,i,r){return We(s).onIdTokenChanged(t,i,r)}function jC(s,t,i){return We(s).beforeAuthStateChanged(t,i)}function BC(s,t,i,r){return We(s).onAuthStateChanged(t,i,r)}function HC(s){return We(s).signOut()}const ah="__sak";class LE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qC=1e3,FC=10;class PE extends LE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);oC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,FC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}PE.type="LOCAL";const GC=PE;class UE extends LE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}UE.type="SESSION";const jE=UE;function QC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Ch(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await QC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function dp(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class YC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=dp("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const N=b;if(N.data.eventId===_)switch(N.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(N.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function KC(s){Ni().location.href=s}function BE(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function XC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $C(){return navigator?.serviceWorker?.controller||null}function JC(){return BE()?self:null}const HE="firebaseLocalStorageDb",ZC=1,oh="firebaseLocalStorage",qE="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function xh(s,t){return s.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function WC(){const s=indexedDB.deleteDatabase(HE);return new $l(s).toPromise()}function Tm(){const s=indexedDB.open(HE,ZC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(oh,{keyPath:qE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(oh)?t(r):(r.close(),await WC(),t(await Tm()))})})}async function h0(s,t,i){const r=xh(s,!0).put({[qE]:t,value:i});return new $l(r).toPromise()}async function tx(s,t){const i=xh(s,!1).get(t),r=await new $l(i).toPromise();return r===void 0?null:r.value}function f0(s,t){const i=xh(s,!0).delete(t);return new $l(i).toPromise()}const ex=800,nx=3;class FE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>nx)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(JC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XC(),!this.activeServiceWorker)return;this.sender=new YC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$C()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Tm();return await h0(t,ah,"1"),await f0(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>h0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>tx(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>f0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=xh(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FE.type="LOCAL";const ix=FE;new Yl(3e4,6e4);function rx(s,t){return t?tr(t):(_t(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class mp extends hp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function sx(s){return kE(s.auth,new mp(s),s.bypassAuthState)}function ax(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),kC(i,new mp(s),s.bypassAuthState)}async function ox(s){const{auth:t,user:i}=s;return _t(i,t,"internal-error"),VC(i,new mp(s),s.bypassAuthState)}class GE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sx;case"linkViaPopup":case"linkViaRedirect":return ox;case"reauthViaPopup":case"reauthViaRedirect":return ax;default:ti(this.auth,"internal-error")}}resolve(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lx=new Yl(2e3,1e4);class Ga extends GE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const t=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,lx.get())};t()}}Ga.currentPopupAction=null;const ux="pendingRedirect",jc=new Map;class cx extends GE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const r=await hx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hx(s,t){const i=mx(t),r=dx(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function fx(s,t){jc.set(s._key(),t)}function dx(s){return tr(s._redirectPersistence)}function mx(s){return Uc(ux,s.config.apiKey,s.name)}async function px(s,t,i=!1){if(Pn(s.app))return Promise.reject(er(s));const r=Js(s),l=rx(r,t),d=await new cx(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const gx=600*1e3;class yx{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!_x(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!QE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Di(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=gx&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(t))}saveEventToCache(t){this.cachedEventUids.add(d0(t)),this.lastProcessedEventTime=Date.now()}}function d0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function QE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function _x(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QE(s);default:return!1}}async function vx(s,t={}){return os(s,"GET","/v1/projects",t)}const Ex=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tx=/^https?/;async function Sx(s){if(s.config.emulator)return;const{authorizedDomains:t}=await vx(s);for(const i of t)try{if(Ax(i))return}catch{}ti(s,"unauthorized-domain")}function Ax(s){const t=_m(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!Tx.test(i))return!1;if(Ex.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const bx=new Yl(3e4,6e4);function m0(){const s=Ni().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function wx(s){return new Promise((t,i)=>{function r(){m0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{m0(),i(Di(s,"network-request-failed"))},timeout:bx.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=gC("iframefcb");return Ni()[l]=()=>{gapi.load?r():i(Di(s,"network-request-failed"))},DE(`${pC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function Rx(s){return Bc=Bc||wx(s),Bc}const Ix=new Yl(5e3,15e3),Cx="__/auth/iframe",xx="emulator/auth/iframe",Dx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mx(s){const t=s.config;_t(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?lp(t,xx):`https://${s.config.authDomain}/${Cx}`,r={apiKey:t.apiKey,appName:s.name,v:ro},l=Nx.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Bl(r).slice(1)}`}async function Ox(s){const t=await Rx(s),i=Ni().gapi;return _t(i,s,"internal-error"),t.open({where:document.body,url:Mx(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dx,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Di(s,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},Ix.get());function y(){Ni().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const Vx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kx=500,zx=600,Lx="_blank",Px="http://localhost";class p0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ux(s,t,i,r=kx,l=zx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...Vx,width:r.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(p=AE(_)?Lx:i),TE(_)&&(t=t||Px,y.scrollbars="yes");const A=Object.entries(y).reduce((N,[B,H])=>`${N}${B}=${H},`,"");if(aC(_)&&p!=="_self")return jx(t||"",p),new p0(null);const b=window.open(t||"",p,A);_t(b,s,"popup-blocked");try{b.focus()}catch{}return new p0(b)}function jx(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const Bx="__/auth/handler",Hx="emulator/auth/handler",qx=encodeURIComponent("fac");async function g0(s,t,i,r,l,c){_t(s.config.authDomain,s,"auth-domain-config-required"),_t(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:ro,eventId:l};if(t instanceof OE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",ub(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Xl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),_=y?`#${qx}=${encodeURIComponent(y)}`:"";return`${Fx(s)}?${Bl(p).slice(1)}${_}`}function Fx({config:s}){return s.emulator?lp(s,Hx):`https://${s.authDomain}/${Bx}`}const Kd="webStorageSupport";class Gx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=px,this._overrideRedirectResult=fx}async _openPopup(t,i,r,l){sr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await g0(t,i,r,_m(),l);return Ux(t,c,dp())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await g0(t,i,r,_m(),l);return KC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(sr(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Ox(t),r=new yx(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kd,{type:Kd},l=>{const c=l?.[0]?.[Kd];c!==void 0&&i(!!c),ti(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Sx(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return CE()||SE()||cp()}}const Qx=Gx;var y0="@firebase/auth",_0="1.11.1";class Yx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kx(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xx(s){$a(new qs("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xE(s)},_=new fC(r,l,c,y);return SC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),$a(new qs("auth-internal",t=>{const i=Js(t.getProvider("auth").getImmediate());return(r=>new Yx(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xr(y0,_0,Kx(s)),Xr(y0,_0,"esm2020")}const $x=300,Jx=D0("authIdTokenMaxAge")||$x;let v0=null;const Zx=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Jx)return;const l=i?.token;v0!==l&&(v0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Wx(s=z0()){const t=Cm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=TC(s,{popupRedirectResolver:Qx,persistence:[ix,GC,jE]}),r=D0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Zx(c.toString());jC(i,d,()=>d(i.currentUser)),UC(i,p=>d(p))}}const l=C0("auth");return l&&AC(i,`http://${l}`),i}function tD(){return document.getElementsByTagName("head")?.[0]??document}dC({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Di("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",tD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xx("Browser");var eD="firebase",nD="12.6.0";Xr(eD,nD,"app");const iD={apiKey:"AIzaSyD57-O7kdWimJbL3fD2PSR1FX2L-ngKiTc",authDomain:"al-hafiz-8717a.firebaseapp.com",projectId:"al-hafiz-8717a",storageBucket:"al-hafiz-8717a.firebasestorage.app",messagingSenderId:"35620847316",appId:"1:35620847316:web:c7071af469e92475988541"},YE=k0(iD),Dh=Wx(YE),Nh=AI(YE),rD=async(s,t,i,r)=>{try{const l=`${s}@alhafiz.local`,d=(await LC(Dh,l,t)).user,p={username:s,firstName:i,lastName:r,uid:d.uid,email:l,joinedDate:new Date().toISOString(),streak:0,lastActivityDate:null,progress:{surah:1,verseIndex:0,percent:0,memorized:{},surahName:"Surah Al-Fatiha"},settings:{targetDuration:1,reciterId:7,translationId:85}};return await LI(Sh(Nh,"users",d.uid),p),{success:!0,user:p}}catch(l){return console.error("Registration error:",l),l.code==="auth/email-already-in-use"?{success:!1,error:"Username already exists"}:{success:!1,error:l.message}}},sD=async(s,t)=>{try{const i=`${s}@alhafiz.local`,l=(await PC(Dh,i,t)).user,c=await hE(Sh(Nh,"users",l.uid));return c.exists()?{success:!0,user:{...c.data(),uid:l.uid}}:{success:!1,error:"User data not found"}}catch(i){return console.error("Login error:",i),i.code==="auth/user-not-found"||i.code==="auth/wrong-password"?{success:!1,error:"Invalid username or password"}:{success:!1,error:i.message}}},aD=async()=>{try{return await HC(Dh),{success:!0}}catch(s){return console.error("Logout error:",s),{success:!1,error:s.message}}},oD=async(s,t)=>{try{const i=Sh(Nh,"users",s);return await PI(i,t),{success:!0}}catch(i){return console.error("Update error:",i),{success:!1,error:i.message}}},lD=async s=>{try{const t=await hE(Sh(Nh,"users",s));return t.exists()?{success:!0,user:t.data()}:{success:!1,error:"User not found"}}catch(t){return console.error("Get user error:",t),{success:!1,error:t.message}}},uD=({onLogin:s})=>{const[t,i]=Ct.useState(!1),[r,l]=Ct.useState(""),[c,d]=Ct.useState(""),[p,y]=Ct.useState(""),[_,A]=Ct.useState(""),[b,N]=Ct.useState(""),[B,H]=Ct.useState(""),[Z,J]=Ct.useState(!1),it=async Tt=>{if(Tt.preventDefault(),H(""),!r||!c){H("Please fill in all fields");return}if(t){if(!_||!b){H("Please enter your first and last name");return}if(c!==p){H("Passwords do not match");return}if(c.length<6){H("Password must be at least 6 characters");return}}J(!0);try{let xt;t?xt=await rD(r,c,_,b):xt=await sD(r,c),xt.success?s(xt.user):H(xt.error)}catch(xt){console.error("Authentication error:",xt),H("An unexpected error occurred. Please try again.")}finally{J(!1)}},st={width:"100%",padding:"12px 12px 12px 40px",background:"rgba(255,255,255,0.05)",border:"1px solid var(--glass-border)",borderRadius:"8px",color:"white",outline:"none"},ot={display:"block",marginBottom:"8px",color:"var(--text-muted)",fontSize:"0.9rem"};return E.jsx("div",{className:"container",style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"},children:E.jsxs("div",{className:"glass-panel",style:{padding:"40px",width:"100%",maxWidth:"400px"},children:[E.jsxs("div",{style:{textAlign:"center",marginBottom:"30px"},children:[E.jsx("h1",{style:{color:"var(--primary)",fontSize:"2.5rem",marginBottom:"10px"},children:"Al-Hafiz"}),E.jsx("p",{style:{color:"var(--text-muted)"},children:t?"Begin your journey":"Welcome back"})]}),E.jsxs("form",{onSubmit:it,children:[t&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:ot,children:"First Name"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(Q_,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"text",value:_,onChange:Tt=>A(Tt.target.value),disabled:Z,style:st,placeholder:"Enter first name"})]})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:ot,children:"Last Name"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(Q_,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"text",value:b,onChange:Tt=>N(Tt.target.value),disabled:Z,style:st,placeholder:"Enter last name"})]})]})]}),E.jsxs("div",{style:{marginBottom:"20px"},children:[E.jsx("label",{style:ot,children:"Username"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(NA,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"text",value:r,onChange:Tt=>l(Tt.target.value),disabled:Z,style:st,placeholder:"Enter username"})]})]}),E.jsxs("div",{style:{marginBottom:t?"20px":"30px"},children:[E.jsx("label",{style:ot,children:"Password"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(Xd,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"password",value:c,onChange:Tt=>d(Tt.target.value),disabled:Z,style:st,placeholder:"Enter password"})]})]}),t&&E.jsxs("div",{style:{marginBottom:"30px"},children:[E.jsx("label",{style:ot,children:"Confirm Password"}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(Xd,{size:20,style:{position:"absolute",left:"12px",top:"12px",color:"var(--text-muted)"}}),E.jsx("input",{type:"password",value:p,onChange:Tt=>y(Tt.target.value),disabled:Z,style:st,placeholder:"Re-enter password"})]})]}),B&&E.jsx("p",{style:{color:"#EF4444",marginBottom:"20px",textAlign:"center",fontSize:"0.9rem"},children:B}),E.jsxs("button",{type:"submit",className:"btn-primary",disabled:Z,style:{width:"100%",justifyContent:"center",marginBottom:"20px",opacity:Z?.5:1},children:[Z?"Please wait...":t?"Create Account":"Login"," ",E.jsx(HS,{size:20})]}),E.jsx("div",{style:{textAlign:"center"},children:t?E.jsxs("p",{style:{color:"var(--text-muted)",cursor:"pointer",margin:0},onClick:()=>{i(!1),H(""),A(""),N(""),y("")},children:["Already have an account? ",E.jsx("span",{style:{color:"var(--primary)"},children:"Login"})]}):E.jsx("button",{type:"button",onClick:()=>{i(!0),H("")},className:"btn-outline",style:{width:"100%",justifyContent:"center"},children:"Sign Up"})})]})]})})},cD=({show:s,message:t="Session saved"})=>s?E.jsxs("div",{style:{position:"fixed",bottom:"90px",right:"20px",background:"rgba(16, 185, 129, 0.9)",color:"white",padding:"12px 20px",borderRadius:"8px",fontSize:"0.9rem",fontWeight:"500",zIndex:1e3,animation:"slideIn 0.3s ease",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.3)"},children:[" ",t,E.jsx("style",{children:`
        @keyframes slideIn {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
      `})]}):null,hD=()=>{const s=()=>{confirm(" This will delete ALL your progress and log you out. Are you sure?")&&(localStorage.clear(),window.location.reload())};return E.jsx("button",{onClick:s,style:{position:"fixed",bottom:"100px",right:"20px",background:"rgba(255, 0, 0, 0.2)",border:"1px solid rgba(255, 0, 0, 0.5)",borderRadius:"50%",width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:1e3},title:"Reset All Data (for testing)",children:E.jsx(EA,{size:24,color:"#ff0000"})})};function fD(){const[s,t]=Ct.useState("home"),[i,r]=Ct.useState(!1),[l,c]=Ct.useState(null),[d,p]=Ct.useState(!0);Ct.useEffect(()=>{const N=BC(Dh,async B=>{if(B){const H=await lD(B.uid);H.success&&c({...H.user,uid:B.uid})}else c(null);p(!1)});return()=>N()},[]);const y=N=>{c(N),r(!0),setTimeout(()=>r(!1),2500)},_=async()=>{await aD(),c(null),t("home")},A=async N=>{if(!(!l||!l.uid))try{const B={},H={},Z=["streak","lastActivityDate","joinedDate","settings"];Object.keys(N).forEach(st=>{Z.includes(st)?B[st]=N[st]:H[st]=N[st]});const J={};Object.keys(B).length>0&&Object.assign(J,B),Object.keys(H).length>0&&(J.progress={...l.progress,...H});const it={...l,...B,progress:J.progress||l.progress};c(it),await oD(l.uid,J)}catch(B){console.error(" Error updating user:",B),alert("Failed to save progress. Please check your connection.")}},b=()=>{switch(s){case"home":return E.jsx(K_,{setView:t,user:l,onLogout:_});case"memorize":return E.jsx(VA,{user:l,updateUserProgress:A,setView:t});case"plan":return E.jsx(kA,{user:l,setView:t,updateUserProgress:A});case"settings":return E.jsx(zA,{setView:t,user:l,updateUser:A});case"tutorial":return E.jsx(LA,{setView:t});default:return E.jsx(K_,{setView:t,user:l,onLogout:_})}};return d?E.jsx("div",{className:"flex-center",style:{height:"100vh"},children:E.jsxs("div",{style:{textAlign:"center"},children:[E.jsx("h2",{style:{color:"var(--primary)"},children:"Al-Hafiz"}),E.jsx("p",{style:{color:"var(--text-muted)"},children:"Loading..."})]})}):l?E.jsxs(E.Fragment,{children:[E.jsx("main",{style:{paddingTop:"40px",minHeight:"100vh"},children:b()}),E.jsx(MA,{currentView:s,setView:t}),E.jsx(cD,{show:i,onClose:()=>r(!1)}),E.jsx(hD,{})]}):E.jsx(uD,{onLogin:y})}OS.createRoot(document.getElementById("root")).render(E.jsx(Ct.StrictMode,{children:E.jsx(fD,{})}));
